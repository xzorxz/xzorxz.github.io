{"version":3,"sources":["webpack:///./src/module-hmmm/pages/companys/citys.vue","webpack:///src/module-hmmm/pages/companys/citys.vue","webpack:///./src/module-hmmm/pages/companys/citys.vue?85e5","webpack:///./src/module-hmmm/pages/companys/citys.vue?a35f"],"names":["render","_vm","this","_c","_self","staticStyle","staticClass","attrs","on","handleProvince","model","value","provAndCity","province","callback","$$v","$set","expression","_l","provinceList","item","key","_v","handleCity","city","cityList","staticRenderFns","name","props","data","created","methods","getCityData","watch","handler","deep","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,CAAC,QAAU,OAAO,cAAc,aAAa,CAACF,EAAG,YAAY,CAACG,YAAY,cAAcD,YAAY,CAAC,MAAQ,SAASE,MAAM,CAAC,UAAY,IAAIC,GAAG,CAAC,OAASP,EAAIQ,gBAAgBC,MAAM,CAACC,MAAOV,EAAIW,YAAYC,SAAUC,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIW,YAAa,WAAYG,IAAME,WAAW,yBAAyBhB,EAAIiB,GAAIjB,EAAIkB,cAAc,SAASC,GAAM,OAAOjB,EAAG,YAAY,CAACkB,IAAID,EAAKb,MAAM,CAAC,MAAQa,EAAK,MAAQA,QAAU,GAAGjB,EAAG,QAAQ,CAACE,YAAY,CAAC,OAAS,SAAS,cAAc,WAAW,CAACJ,EAAIqB,GAAG,OAAOnB,EAAG,YAAY,CAACG,YAAY,cAAcD,YAAY,CAAC,MAAQ,SAASE,MAAM,CAAC,UAAY,IAAIC,GAAG,CAAC,OAASP,EAAIsB,YAAYb,MAAM,CAACC,MAAOV,EAAIW,YAAYY,KAAMV,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIW,YAAa,OAAQG,IAAME,WAAW,qBAAqBhB,EAAIiB,GAAIjB,EAAIwB,UAAU,SAASL,GAAM,OAAOjB,EAAG,YAAY,CAACkB,IAAID,EAAKb,MAAM,CAAC,MAAQa,EAAK,MAAQA,QAAU,IAAI,IAEz8BM,EAAkB,G,YCuBP,GACfC,aACAC,gBACAC,gBACA,OACAjB,aACAC,6BACAW,sBAEAL,gBACAM,cAGAK,mBACA,oBAEAC,SAEAC,uBACA,mCACA,4BACA,0DAIAT,uBACA,gCAEA,oBACAV,mCACAW,UAIAf,2BACA,gCACA,oBACAI,mCACAW,0BAIAS,OAaAtB,OACAuB,sBAEA,qCAEA,yCAEA,8BAEAC,WCzF6W,I,YCOzWC,EAAY,eACd,EACApC,EACA0B,GACA,EACA,KACA,KACA,MAIa,aAAAU,E","file":"js/chunk-2d21b25e.10fa23db.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"baseline\"}},[_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"100px\"},attrs:{\"clearable\":\"\"},on:{\"change\":_vm.handleProvince},model:{value:(_vm.provAndCity.province),callback:function ($$v) {_vm.$set(_vm.provAndCity, \"province\", $$v)},expression:\"provAndCity.province\"}},_vm._l((_vm.provinceList),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1),_c('label',{staticStyle:{\"margin\":\"0 10px\",\"font-weight\":\"normal\"}},[_vm._v(\"市\")]),_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"100px\"},attrs:{\"clearable\":\"\"},on:{\"change\":_vm.handleCity},model:{value:(_vm.provAndCity.city),callback:function ($$v) {_vm.$set(_vm.provAndCity, \"city\", $$v)},expression:\"provAndCity.city\"}},_vm._l((_vm.cityList),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"display: flex;align-items: baseline;\">\n    <el-select\n      class=\"filter-item\"\n      style=\"width: 100px;\"\n      v-model=\"provAndCity.province\"\n      @change=\"handleProvince\"\n      clearable\n    >\n      <el-option v-for=\"item in provinceList\" :key=\"item\" :label=\"item\" :value=\"item\"></el-option>\n    </el-select><label style=\"margin:0 10px; font-weight:normal\">市</label>\n    <el-select\n      class=\"filter-item\"\n      style=\"width: 100px;\"\n      v-model=\"provAndCity.city\"\n      @change=\"handleCity\"\n      clearable\n    >\n      <el-option v-for=\"item in cityList\" :key=\"item\" :label=\"item\" :value=\"item\"></el-option>\n    </el-select>\n  </div>\n</template>\n\n<script>\nimport { provinces as getProvinces, citys as getCitys } from '@/api/hmmm/citys.js'\nexport default {\n  name: 'citys',\n  props: ['value'],\n  data () {\n    return {\n      provAndCity: {\n        province: this.value.province,\n        city: this.value.city\n      },\n      provinceList: [],\n      cityList: []\n    }\n  },\n  created () {\n    this.getCityData()\n  },\n  methods: {\n    // 获取省\n    getCityData: function () {\n      this.provinceList = getProvinces()\n      if (this.provAndCity.province) {\n        this.cityList = getCitys(this.provAndCity.province)\n      }\n    },\n    // 选省获取到市\n    handleCity: function (e) {\n      this.cityList = getCitys(e)\n      // this.value.city = this.cityList[0]\n      this.$emit('input', {\n        province: this.provAndCity.province,\n        city: e\n      })\n    },\n    // 选省获取到市\n    handleProvince: function (e) {\n      this.cityList = getCitys(e)\n      this.$emit('input', {\n        province: this.provAndCity.province,\n        city: this.cityList[0]\n      })\n    }\n  },\n  watch: {\n    // 由于父组件中传入的v-model=\"XXXX\",这里的xxxx是通过ajax取回来的数据\n    // 所以，在传值的过程中是有一个变化：\n    // 1. 初始值是\"\"\n    // 2. ajax回来之后，取到了，自动传入子组件（v-model是响应式）\n    // 所以，要用watch监听这个变化\n    // 格式是：\n    // 字符段： {\n    //   handler:(newVal, oldVal) {\n\n    //   },\n    //   deep: true\n    // }\n    value: {\n      handler (newVal, oldVal) {\n        // 更新省份\n        this.provAndCity.province = newVal.province\n        // 获取对应市级的数据\n        this.cityList = getCitys(newVal.province)\n        // 更新市\n        this.provAndCity.city = newVal.city\n      },\n      deep: true\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./citys.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./citys.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./citys.vue?vue&type=template&id=7c99f894&\"\nimport script from \"./citys.vue?vue&type=script&lang=js&\"\nexport * from \"./citys.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}