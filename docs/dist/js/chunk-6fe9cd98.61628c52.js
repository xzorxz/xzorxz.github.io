(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fe9cd98","chunk-8402bf2e","chunk-39fbe4b0"],{6859:function(t,e,i){"use strict";i("d7c5")},7014:function(t,e,i){"use strict";i("f9ec")},"7b35":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dashboard-container"},[e("div",{staticClass:"app-container"},[e("el-card",{attrs:{shadow:"never"}},[e("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[e("el-form-item",{attrs:{label:"关键词"}},[e("el-input",{attrs:{placeholder:"根据文章表搜索"},model:{value:t.formInline.keyword,callback:function(e){t.$set(t.formInline,"keyword",e)},expression:"formInline.keyword"}})],1),e("el-form-item",{attrs:{label:"状态"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formInline.state,callback:function(e){t.$set(t.formInline,"state",e)},expression:"formInline.state"}},[e("el-option",{attrs:{label:"启用",value:"1"}}),e("el-option",{attrs:{label:"禁用",value:"0"}})],1)],1),e("el-form-item",[e("el-button",{on:{click:t.cleanClick}},[t._v("清除")]),e("el-button",{attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v("查询")])],1),e("el-button",{staticClass:"filter-item fr",staticStyle:{"margin-left":"10px"},attrs:{type:"success"},on:{click:function(e){return t.showEdit("add")}}},[t._v("新增技巧")])],1),e("el-alert",{attrs:{title:"数据一共 ".concat(t.counts," 条"),type:"info",closable:!1,"show-icon":""}}),e("el-table",{staticStyle:{"margin-top":"20px"},attrs:{data:t.lists}},[e("el-table-column",{attrs:{label:"序号",type:"index",index:t.indexMent,sortable:"",width:"80"}}),e("el-table-column",{attrs:{label:"文章标题",prop:"title"},scopedSlots:t._u([{key:"default",fn:function(i){var a=i.row;return[t._v(" "+t._s(a.title)+" "),a.videoURL?e("a",{staticClass:"el-icon-film",staticStyle:{color:"blue"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openVideo(a.videoURL)}}}):t._e()]}}])}),e("el-table-column",{attrs:{label:"阅读数",prop:"visits"}}),e("el-table-column",{attrs:{label:"录入人",prop:"username"}}),e("el-table-column",{attrs:{label:"录入时间",prop:"createTime"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t._v(" "+t._s(t.formatTime(i.timeOfEntry,"YYYY-MM-DD"))+" ")]}}])}),e("el-table-column",{attrs:{label:"状态",prop:"state"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t._v(" "+t._s(1===i.state?"已启用":"已禁用")+" ")]}}])}),e("el-table-column",{attrs:{label:"操作",prop:"",fixed:"right",width:"280"},scopedSlots:t._u([{key:"default",fn:function(i){var a=i.row;return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.previewArticle(a)}}},[t._v("预览")]),e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.changeBtn(a)}}},[t._v(" "+t._s(0===a.state?"启用":"禁用")+" ")]),e("el-button",{attrs:{type:"text",size:"small",disabled:1===a.state},on:{click:function(e){return t.showEdit("edit",a)}}},[t._v("修改")]),e("el-button",{attrs:{type:"text",size:"small",disabled:1===a.state},on:{click:function(e){return t.del(a)}}},[t._v("删除")])]}}])})],1),e("ArticlesAdd",{attrs:{"show-dialog":t.showDialog,particulars:t.data},on:{"update:showDialog":function(e){t.showDialog=e},"update:show-dialog":function(e){t.showDialog=e},reload:t.getList}}),e("ArticlesPreview",{ref:"articlesPreview",attrs:{"show-article":t.showArticle,article:t.data},on:{"update:showArticle":function(e){t.showArticle=e},"update:show-article":function(e){t.showArticle=e}}})],1),e("el-pagination",{staticStyle:{float:"right",padding:"10px"},attrs:{"current-page":t.page,"page-sizes":[5,10,20,50],"page-size":t.pagesize,layout:" prev, pager, next,sizes,jumper",background:"",total:t.counts},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),e("el-dialog",{attrs:{visible:t.videoDialog,width:"50%"},on:{close:function(e){t.videoDialog=!1}}},[e("video",{attrs:{src:t.videoSrc,controls:"controls",autoplay:"",width:"100%",height:"100%"}})])],1)])},n=[],r=i("5530"),o=i("c7eb"),l=i("1da1"),s=i("b3af"),c=i("c524"),u=i("8561"),d=i("5a0c"),f=i.n(d),p={components:{ArticlesAdd:c["default"],ArticlesPreview:u["default"]},data:function(){return{formInline:{keyword:"",state:null,pagesize:10,page:1},page:1,pagesize:10,lists:[],counts:0,showDialog:!1,title:"新增技巧",data:{},showArticle:!1,videoDialog:!1,input:"",videoSrc:""}},created:function(){this.getList()},methods:{getList:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var i,a,n,r;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["c"])({page:t.page,pagesize:t.pagesize});case 2:i=e.sent,a=i.data,n=a.items,r=a.counts,t.lists=n,t.counts=r;case 8:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.pagesize=t,this.page=1,this.getList()},handleCurrentChange:function(t){this.page=t,this.getList()},indexMent:function(t){return t+1+(this.page-1)*this.pagesize},cleanClick:function(){this.formInline.user="",this.formInline.region=""},del:function(t){var e=this;this.$confirm("确定要删除该文章吗?","温馨提示").then(Object(l["a"])(Object(o["a"])().mark((function i(){var a;return Object(o["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,Object(s["d"])(t);case 2:a=i.sent,console.log(a),1===e.lists.length&&e.page>1&&e.page--,e.$message.success("删除成功"),e.getList();case 7:case"end":return i.stop()}}),i)})))).catch((function(){console.log("取消")}))},formatTime:function(t,e){return f()(t).format(e)},changeBtn:function(t){return Object(l["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["b"])({id:t.id,state:1===t.state?0:1});case 2:t.state=1===t.state?0:1;case 3:case"end":return e.stop()}}),e)})))()},showEdit:function(t,e){this.showDialog=!0,this.data=Object(r["a"])(Object(r["a"])({},e),{},{type:t})},openVideo:function(t){this.videoSrc=t,this.videoDialog=!0},previewArticle:function(t){var e=this;this.showArticle=!0,this.data=Object(r["a"])({},t),console.log(t),this.$nextTick((function(){e.$refs.articlesPreview.open()}))},handleFilter:function(){var t=this;return Object(l["a"])(Object(o["a"])().mark((function e(){var i,a,n,r;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["c"])(t.formInline);case 2:i=e.sent,a=i.data,n=a.items,r=a.counts,t.lists=n,t.counts=r,console.log({items:n,counts:r});case 9:case"end":return e.stop()}}),e)})))()}}},h=p,b=i("2877"),m=Object(b["a"])(h,a,n,!1,null,"9e7e9498",null);e["default"]=m.exports},8561:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("el-dialog",{attrs:{title:"预览文章",visible:t.showArticle,width:"50%"},on:{close:t.closeDialog},nativeOn:{click:function(e){t.isShow=!1}}},[e("div",{staticClass:"title"},[e("h2",[t._v(t._s(t.article.title))]),e("div",{staticClass:"content"},[e("span",[t._v(t._s(t.article.createTime))]),e("span",[t._v(t._s(t.article.username))]),e("span",{staticClass:"el-icon-view"}),e("span",[t._v(t._s(t.article.visits))])])]),e("div",{staticClass:"preview",domProps:{innerHTML:t._s(t.article.articleBody)}})])],1)},n=[],r={name:"ArticlesPreview",props:{showArticle:{type:Boolean,default:!1},article:{type:Object,required:!0}},data:function(){return{isShow:!1}},methods:{closeDialog:function(){this.$emit("update:showArticle",!1)},open:function(){this.isShow=!0}}},o=r,l=(i("6859"),i("2877")),s=Object(l["a"])(o,a,n,!1,null,"555962c2",null);e["default"]=s.exports},b3af:function(t,e,i){"use strict";i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return r})),i.d(e,"e",(function(){return o})),i.d(e,"d",(function(){return l})),i.d(e,"b",(function(){return s}));i("99af");var a=i("b775"),n=function(t){return Object(a["a"])("/articles","get",t)},r=function(t){return Object(a["a"])("/articles","post",t)},o=function(t){return Object(a["a"])("/articles/".concat(t.id),"put",t)},l=function(t){return Object(a["a"])("/articles/".concat(t.id),"delete",t)},s=function(t){return Object(a["a"])("/articles/".concat(t.id,"/").concat(t.state),"post",t)}},c524:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("el-dialog",{attrs:{title:t.dialogTitle,visible:t.showDialog},on:{close:t.closeDialog,open:t.openDialog},nativeOn:{click:function(e){t.isShow=!1}},scopedSlots:t._u([{key:"footer",fn:function(){return[e("el-button",{on:{click:t.closeDialog}},[t._v("取消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确定")])]},proxy:!0}])},[e("el-form",{ref:"formRef",attrs:{"label-width":"120px",model:t.form,rules:t.rules}},[e("el-form-item",{attrs:{label:"文章标题",prop:"title"}},[e("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入文章标题"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),e("el-form-item",{attrs:{label:"文章内容",prop:"articleBody"}},[e("quill-editor",{attrs:{options:t.editorOptions},on:{blur:function(e){return t.$refs.formRef.validateField("articleBody")}},model:{value:t.form.articleBody,callback:function(e){t.$set(t.form,"articleBody",e)},expression:"form.articleBody"}})],1),e("el-form-item",{attrs:{label:"视频地址",prop:"videoURL"}},[e("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入视频地址"},model:{value:t.form.videoURL,callback:function(e){t.$set(t.form,"videoURL",e)},expression:"form.videoURL"}})],1)],1)],1)],1)},n=[],r=i("c7eb"),o=i("5530"),l=i("1da1"),s=(i("a753"),i("8096"),i("14e1"),i("953d")),c=i("1487"),u=i.n(c),d=(i("705c"),i("b3af")),f={name:"ArticlesAdd",components:{quillEditor:s["quillEditor"]},props:{showDialog:{type:Boolean,default:!1},particulars:{type:Object,required:!0}},data:function(){return{form:{title:"",articleBody:"",videoURL:""},dialogTitle:"",rules:{title:[{required:!0,message:"请输入文章标题",trigger:["blur","change"]}],articleBody:[{required:!0,message:"请输入文章内容",trigger:["blur","change"]}]},editorOptions:{placeholder:"",modules:{toolbar:[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["blockquote"],["code-block","image","link"]],syntax:{highlight:function(t){return u.a.highlightAuto(t).value}}}},isShow:!1}},methods:{closeDialog:function(){this.form={title:"",articleBody:"",videoURL:""},this.$emit("update:showDialog",!1),this.$refs.formRef.resetFields()},handleSubmit:function(){var t=this;this.$refs.formRef.validate(function(){var e=Object(l["a"])(Object(r["a"])().mark((function e(i){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:if("add"!==t.particulars.type){e.next=7;break}return e.next=5,Object(d["a"])(t.form);case 5:e.next=10;break;case 7:if("edit"!==t.particulars.type){e.next=10;break}return e.next=10,Object(d["e"])(Object(o["a"])(Object(o["a"])({},t.form),{},{id:t.particulars.id}));case 10:t.closeDialog(),t.$emit("reload");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},openDialog:function(){console.log(this.particulars,"6666666"),"add"===this.particulars.type&&(this.dialogTitle="添加技巧"),"edit"===this.particulars.type&&(this.dialogTitle="修改",this.form.title=this.particulars.title,this.form.articleBody=this.particulars.articleBody,this.form.videoURL=this.particulars.videoURL)}}},p=f,h=(i("7014"),i("2877")),b=Object(h["a"])(p,a,n,!1,null,"3d54cda3",null);e["default"]=b.exports},d7c5:function(t,e,i){},f9ec:function(t,e,i){}}]);
//# sourceMappingURL=chunk-6fe9cd98.61628c52.js.map