{"version":3,"sources":["webpack:///./src/module-hmmm/pages/companys/companys.vue?32be","webpack:///./src/api/hmmm/constants.js","webpack:///./src/module-hmmm/pages/companys/companys.vue?3cf4","webpack:///./src/module-hmmm/pages/companys/companys.vue","webpack:///src/module-hmmm/pages/companys/companys.vue","webpack:///./src/module-hmmm/pages/companys/companys.vue?87e0","webpack:///./src/module-hmmm/pages/companys/companys.vue?a18e"],"names":["status","value","label","difficulty","questionType","direction","chkType","publishType","render","_vm","this","_c","_self","staticClass","attrs","ref","form","staticStyle","on","$event","type","indexOf","_k","keyCode","key","hQuery","apply","arguments","model","tags","callback","$$v","$set","expression","provAndCity","shortName","trim","state","_l","item","isLoading","_v","hResetForm","hAddComponey","cResultTip","_e","directives","name","rawName","companys","scopedSlots","_u","fn","scope","_s","row","id","number","creatorID","addDate","remarks","substring","hEdit","hSwitchStatus","hDelete","total","Number","page","pagesize","hSizeChange","hCurrentChange","isShowDialog","cTitle","curCompanyId","loadCompanys","staticRenderFns","components","CompanysAdd","MyCity","data","province","city","created","computed","methods","buildParams","paramsObj","getCompanys","res","console","doDelete","remove","then","catch","doSwitch","disabled","component"],"mappings":"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","file":"js/chunk-03d6923c.10d5923a.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./companys.vue?vue&type=style&index=0&id=1d2d2f3a&prod&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"","/*\n * @Author: taoshiwei\n * @Date: 2019-04-09 14:26:41\n * @Last Modified by: taoshiwei\n * @Last Modified time: 2019-04-29 10:57:59\n *\n * 通用常量\n */\n\n// 状态\nexport const status = [\n  {\n    value: 1,\n    label: '启用'\n  },\n  {\n    value: 0,\n    label: '禁用'\n  }\n]\n\n// 难度\nexport const difficulty = [\n  {\n    value: 1,\n    label: '简单'\n  },\n  {\n    value: 2,\n    label: '一般'\n  },\n  {\n    value: 3,\n    label: '困难'\n  }\n]\n\n// 题型\nexport const questionType = [\n  {\n    value: 1,\n    label: '单选'\n  },\n  {\n    value: 2,\n    label: '多选'\n  },\n  {\n    value: 3,\n    label: '简答'\n  }\n]\n\n// 方向\nexport const direction = [\n  'o2o',\n  '外包服务',\n  '企业服务',\n  '互联网金融',\n  '企业咨询',\n  '互联网',\n  '电子商务',\n  '其他'\n]\n\n// 精品审核\nexport const chkType = [\n  {\n    value: 1,\n    label: '待审核'\n  },\n  {\n    value: 2,\n    label: '通过'\n  },\n  {\n    value: 3,\n    label: '拒绝'\n  }\n]\n\n// 发布状态\nexport const publishType = [\n  {\n    value: 1,\n    label: '已发布'\n  },\n  {\n    value: 2,\n    label: '待发布'\n  },\n  {\n    value: 0,\n    label: '已下架'\n  }\n]\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./companys.vue?vue&type=style&index=1&id=1d2d2f3a&prod&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"dashboard-container\"},[_c('div',{staticClass:\"app-container\"},[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form}},[_c('div',{staticClass:\"filter-container\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"标签名称：\",\"prop\":\"tags\"}},[_c('el-input',{staticClass:\"filter-item\",staticStyle:{\"width\":\"180px\"},attrs:{\"placeholder\":\"请输入\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.hQuery.apply(null, arguments)}},model:{value:(_vm.form.tags),callback:function ($$v) {_vm.$set(_vm.form, \"tags\", $$v)},expression:\"form.tags\"}})],1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"城市\"}},[_c('MyCity',{model:{value:(_vm.form.provAndCity),callback:function ($$v) {_vm.$set(_vm.form, \"provAndCity\", $$v)},expression:\"form.provAndCity\"}})],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"企业简称：\",\"prop\":\"shortName\"}},[_c('el-input',{staticStyle:{\"width\":\"180px\"},model:{value:(_vm.form.shortName),callback:function ($$v) {_vm.$set(_vm.form, \"shortName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.shortName\"}})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-form-item',{attrs:{\"label\":\"状态：\",\"prop\":\"state\"}},[_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"100px\"},attrs:{\"clearable\":\"\"},model:{value:(_vm.form.state),callback:function ($$v) {_vm.$set(_vm.form, \"state\", $$v)},expression:\"form.state\"}},_vm._l((_vm.status),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',[_c('el-button',{attrs:{\"loading\":_vm.isLoading,\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.hQuery}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.hResetForm}},[_vm._v(\"重置\")])],1)],1)],1),_c('el-button',{staticClass:\"filter-item fr\",staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.hAddComponey}},[_vm._v(\"新增公司\")])],1)]),(_vm.cResultTip)?_c('el-alert',{staticClass:\"alert\",attrs:{\"title\":_vm.cResultTip,\"type\":\"info\",\"closable\":false,\"show-icon\":\"\"}}):_vm._e(),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.companys,\"element-loading-text\":\"给我一点时间\",\"fit\":\"\",\"highlight-current-row\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"序号\",\"width\":\"70\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.id))])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"企业编号\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.number))])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"企业简称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.shortName))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"标签\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.tags))])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"创建者\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.creatorID))])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"创建日期\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.addDate))])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"备注\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.remarks.substring(0,3)))])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"状态\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.state==1)?_c('span',[_vm._v(\"启用\")]):_c('span',[_vm._v(\"禁用\")])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"280\",\"class-name\":\"small-padding fixed-width\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.hEdit(scope.row.id)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.hSwitchStatus(scope.row)}}},[_c('span',[_vm._v(_vm._s(scope.row.state ===0 ? '启用' : '禁用'))])]),(scope.row.status!='deleted')?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.hDelete(scope.row.id)}}},[_vm._v(\"删除\")]):_vm._e()]}}])})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.total),expression:\"total\"}],staticClass:\"pagination\"},[_c('div',{staticClass:\"pages\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":Number(_vm.form.page),\"total\":Number(_vm.total),\"page-size\":Number(_vm.form.pagesize),\"page-sizes\":[10,20,30, 50],\"layout\":\"sizes, prev, pager, next, jumper\"},on:{\"size-change\":_vm.hSizeChange,\"current-change\":_vm.hCurrentChange}})],1)])],1),(_vm.isShowDialog)?_c('el-dialog',{attrs:{\"title\":_vm.cTitle,\"visible\":_vm.isShowDialog},on:{\"update:visible\":function($event){_vm.isShowDialog=$event}}},[_c('CompanysAdd',{ref:\"editUser\",attrs:{\"companyId\":_vm.curCompanyId},on:{\"close\":function($event){_vm.isShowDialog=false},\"refresh\":_vm.loadCompanys}})],1):_vm._e()],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"dashboard-container\">\n    <div class=\"app-container\">\n      <el-card shadow=\"never\">\n        <!-- 搜索 -->\n        <el-form :model=\"form\" ref=\"form\">\n          <div class=\"filter-container\">\n            <el-row :gutter=\"20\">\n              <el-col :span=\"6\">\n                <el-form-item label=\"标签名称：\" prop=\"tags\">\n                  <el-input\n                    @keyup.enter=\"hQuery\"\n                    style=\"width: 180px;\"\n                    placeholder=\"请输入\"\n                    class=\"filter-item\"\n                    v-model=\"form.tags\"\n                  ></el-input>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"城市\">\n                  <MyCity v-model=\"form.provAndCity\"/>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"6\">\n                <el-form-item label=\"企业简称：\" prop=\"shortName\">\n                  <el-input v-model.trim=\"form.shortName\" style=\"width: 180px;\"></el-input>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"4\">\n                <el-form-item label=\"状态：\" prop=\"state\">\n                  <el-select\n                    class=\"filter-item\"\n                    style=\"width: 100px;\"\n                    v-model=\"form.state\"\n                    clearable\n                  >\n                    <el-option\n                      v-for=\"item in status\"\n                      :key=\"item.value\"\n                      :label=\"item.label\"\n                      :value=\"item.value\"\n                    ></el-option>\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"6\">\n                <el-form-item>\n                  <el-button\n                    :loading=\"isLoading\"\n                    size=\"small\"\n                    type=\"primary\"\n                    @click=\"hQuery\"\n                  >查询</el-button>\n                  <el-button\n                  size=\"small\"\n                  @click=\"hResetForm\">重置</el-button>\n                </el-form-item>\n              </el-col>\n            </el-row>\n\n            <el-button\n              class=\"filter-item fr\"\n              size=\"small\"\n              style=\"margin-left: 10px;\"\n              @click=\"hAddComponey\"\n              type=\"primary\"\n              icon=\"el-icon-edit\"\n            >新增公司</el-button>\n          </div>\n        </el-form>\n        <!-- 数据记录 -->\n        <el-alert\n          v-if=\"cResultTip\"\n          :title=\"cResultTip\"\n          type=\"info\"\n          class=\"alert\"\n          :closable=\"false\"\n          show-icon\n        ></el-alert>\n        <!-- end -->\n        <!-- 数据列表 -->\n        <el-table\n          :data=\"companys\"\n          v-loading=\"isLoading\"\n          element-loading-text=\"给我一点时间\"\n          fit\n          highlight-current-row\n          style=\"width: 100%\"\n          border\n        >\n          <el-table-column align=\"center\" label=\"序号\" width=\"70\">\n            <template slot-scope=\"scope\">\n              <span>{{scope.row.id}}</span>\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" label=\"企业编号\">\n            <template slot-scope=\"scope\">\n              <span>{{scope.row.number}}</span>\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" label=\"企业简称\">\n            <template slot-scope=\"scope\">\n              <span>{{scope.row.shortName}}</span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"标签\">\n            <template slot-scope=\"scope\">\n              <span>{{scope.row.tags}}</span>\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" label=\"创建者\">\n            <template slot-scope=\"scope\">\n              <span>{{scope.row.creatorID}}</span>\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" label=\"创建日期\">\n            <template slot-scope=\"scope\">\n              <span>{{scope.row.addDate}}</span>\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" label=\"备注\">\n            <template slot-scope=\"scope\">\n              <span>{{scope.row.remarks.substring(0,3)}}</span>\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" label=\"状态\" width=\"80\">\n            <template slot-scope=\"scope\">\n              <span v-if=\"scope.row.state==1\">启用</span>\n              <span v-else>禁用</span>\n            </template>\n          </el-table-column>\n          <!-- 操作按钮 -->\n          <el-table-column\n            align=\"center\"\n            label=\"操作\"\n            width=\"280\"\n            class-name=\"small-padding fixed-width\"\n          >\n            <template slot-scope=\"scope\">\n              <el-button type=\"primary\" size=\"mini\" @click=\"hEdit(scope.row.id)\">编辑</el-button>\n              <el-button type=\"primary\" size=\"mini\" @click=\"hSwitchStatus(scope.row)\">\n                <span >{{scope.row.state ===0 ? '启用' : '禁用'}}</span>\n              </el-button>\n              <el-button\n                v-if=\"scope.row.status!='deleted'\"\n                size=\"mini\"\n                type=\"danger\"\n                @click=\"hDelete(scope.row.id)\"\n              >删除</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n        <!-- end -->\n        <!-- 分页 -->\n        <div class=\"pagination\" v-show=\"total\">\n          <div class=\"pages\">\n            <el-pagination\n              background\n              @size-change=\"hSizeChange\"\n              @current-change=\"hCurrentChange\"\n              :current-page=\"Number(form.page)\"\n              :total=\"Number(total)\"\n              :page-size=\"Number(form.pagesize)\"\n              :page-sizes=\"[10,20,30, 50]\"\n              layout=\"sizes, prev, pager, next, jumper\"\n            ></el-pagination>\n          </div>\n        </div>\n        <!-- end -->\n      </el-card>\n\n      <!-- 新增标签弹层\n\n        把对话框留在父组件中，把对话框中的核心内容提出来，封装成一个组件。\n\n        为什么不把对话框一起封装？\n        (1) 便于复用。如果与对话框绑定了，则后期如果要单独拿做一个页面，则无法复用。\n        (2) 对话框留在父组件，操作更方便。\n      -->\n      <el-dialog :title=\"cTitle\"\n        :visible.sync=\"isShowDialog\"\n        v-if=\"isShowDialog\"\n        >\n        <CompanysAdd ref=\"editUser\"\n        :companyId=\"curCompanyId\"\n        @close=\"isShowDialog=false\"\n        @refresh=\"loadCompanys\"></CompanysAdd>\n\n      </el-dialog>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { status } from '@/api/hmmm/constants'\nimport { list as getCompanys, remove, disabled } from '@/api/hmmm/companys'\nimport CompanysAdd from './companys-add'\nimport MyCity from './citys'\nexport default {\n  name: 'CompanysList',\n  components: {\n    CompanysAdd,\n    MyCity\n  },\n  data () {\n    return {\n      companys: [],\n      total: 0,\n\n      curCompanyId: null, // 区别于是否是编辑，还是添加\n\n      isLoading: false,\n      isShowDialog: false,\n\n      // 查询表单中的参数\n      form: {\n        shortName: '',\n        state: null,\n        tags: '',\n        provAndCity: {\n          province: '',\n          city: ''\n        },\n        page: 1,\n        pagesize: 10\n      }\n    }\n  },\n  // 创建完毕,做一次查询\n  created () {\n    this.loadCompanys()\n  },\n  computed: {\n    status () {\n      return status\n    },\n    cResultTip () {\n      return `共 ${this.total} 条记录`\n    },\n    cTitle () {\n      return this.curCompanyId ? '编辑公司' : '添加新公司'\n    }\n  },\n  methods: {\n    buildParams () {\n      const paramsObj = {}\n      const { page, pagesize, provAndCity, tags, state } = this.form\n      // 如果某一个参数是null,则axios就不会发这个参数\n      // 如果某一个参数是\"\"，axios是会发出这个参数\n      paramsObj.page = page || null\n      paramsObj.pagesize = pagesize || null\n      paramsObj.tags = tags || null\n      paramsObj.province = provAndCity.city || null\n      paramsObj.city = provAndCity.city || null\n      paramsObj.state = state === '' ? null : state\n      return paramsObj\n    },\n    // 获取列表数据\n    async loadCompanys () {\n      this.isLoading = true\n      // 构建查询参数\n      const paramsObj = this.buildParams()\n\n      try {\n        const { data: res } = await getCompanys(paramsObj)\n        // 获取数据给companys\n        this.companys = res.items\n        // 获取总条数\n        this.total = res.counts\n\n        this.isLoading = false\n      } catch (err) {\n        console.log(err)\n        this.isLoading = true\n      }\n    },\n    // 重置整个表单\n    hResetForm () {\n      // el 表单组件上有一个resetFields方法\n      this.$refs.form.resetFields()\n\n      // 由于provAndCity传给了自定义组件，它们并不是在当前表单中直接\n      // 使用的，所以，这里要去做手动清空\n      this.form.provAndCity.province = ''\n      this.form.provAndCity.city = ''\n    },\n    // 搜索信息\n    hQuery () {\n      // 重置页码\n      this.form.page = 1\n      // 重发请求\n      this.loadCompanys()\n    },\n    // 更改每页显示的条数\n    hSizeChange (val) {\n      this.form.pagesize = val\n\n      if (this.form.page === 1) {\n        this.loadCompanys()\n      }\n    },\n    // 点击某一个页码\n    hCurrentChange (curPage) {\n      this.form.page = curPage\n      this.loadCompanys()\n    },\n\n    // 新增用户、编辑用户\n    hAddComponey () {\n      this.curCompanyId = ''\n      this.isShowDialog = true\n    },\n    hEdit (id) {\n      this.curCompanyId = id\n      this.isShowDialog = true\n    },\n    async doDelete (id) {\n      try {\n        await remove({ id })\n        this.$message.success('成功删除了用户!')\n        this.loadCompanys()\n      } catch (err) {\n        this.$message.error('删除失败!')\n      }\n    },\n    // 删除\n    hDelete (userId) {\n      this.$confirm('此操作将永久删除用户 ' + ', 是否继续?', '提示', {\n        type: 'warning'\n      })\n        .then(() => {\n          this.doDelete(userId)\n        })\n        .catch(() => {\n          this.$message.info('已取消操作!')\n        })\n    },\n    async doSwitch (row) {\n      var data = {\n        id: row.id,\n        state: Number(!row.state)\n      }\n      console.log(data)\n      await disabled(data)\n        .then(response => {\n          this.$message.success('操作成功!')\n          this.loadCompanys(this.form)\n        })\n        .catch(response => {\n          this.$message.error(status + '失败!')\n        })\n    },\n    // 启用、禁用\n    hSwitchStatus (row) {\n      const tip = '已成功' + (row.state ? '禁用' : '启用') + ', 是否继续?'\n      this.$confirm(tip, '提示', {\n        type: 'warning'\n      })\n        .then(() => {\n          this.doSwitch(row)\n        })\n        .catch(() => {\n          this.$message.info('已取消操作!')\n        })\n    }\n  }\n}\n</script>\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n.alert {\n  margin: 10px 0px;\n}\n.pagination {\n  margin-top: 10px;\n}\n</style>\n\n<style>\n.el-table th {\n  background-color: #fafafa;\n}\n.el-table th.is-leaf {\n  border-bottom: 2px solid #e8e8e8;\n}\n.disabled td {\n  background-color: #f9f9f9;\n  color: #c1c1c1;\n}\n.disabled .el-button--primary,\n.disabled .el-button--danger {\n  background-color: #dbdada;\n  border: 1px solid #dbdada;\n  color: #999;\n  cursor: not-allowed;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./companys.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./companys.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./companys.vue?vue&type=template&id=1d2d2f3a&scoped=true&\"\nimport script from \"./companys.vue?vue&type=script&lang=js&\"\nexport * from \"./companys.vue?vue&type=script&lang=js&\"\nimport style0 from \"./companys.vue?vue&type=style&index=0&id=1d2d2f3a&prod&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"\nimport style1 from \"./companys.vue?vue&type=style&index=1&id=1d2d2f3a&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d2d2f3a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}