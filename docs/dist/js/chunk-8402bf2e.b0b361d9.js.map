{"version":3,"sources":["webpack:///./src/module-hmmm/components/articles-add.vue?9929","webpack:///./src/api/hmmm/articles.js","webpack:///./src/module-hmmm/components/articles-add.vue","webpack:///src/module-hmmm/components/articles-add.vue","webpack:///./src/module-hmmm/components/articles-add.vue?d545","webpack:///./src/module-hmmm/components/articles-add.vue?a739"],"names":["list","data","createAPI","add","update","id","remove","changeState","state","render","_vm","this","_c","_self","staticClass","attrs","dialogTitle","showDialog","on","closeDialog","openDialog","nativeOn","$event","isShow","scopedSlots","_u","key","fn","_v","handleSubmit","proxy","ref","form","rules","staticStyle","model","value","title","callback","$$v","$set","expression","editorOptions","$refs","formRef","validateField","articleBody","videoURL","staticRenderFns","name","components","quillEditor","props","type","default","particulars","required","message","trigger","placeholder","modules","toolbar","syntax","highlight","methods","boo","console","component"],"mappings":"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","file":"js/chunk-8402bf2e.b0b361d9.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articles-add.vue?vue&type=style&index=0&id=3d54cda3&prod&lang=scss&scoped=true&\"","/*\n * @Author: taoshiwei\n * @Date: 2019-04-09 14:39:32\n * @Last Modified by: taoshiwei\n * @Last Modified time: 2019-04-29 15:16:53\n *\n * 文章\n */\n\nimport { createAPI } from '@/utils/request'\n\n// 文章列表\nexport const list = data => createAPI('/articles', 'get', data)\n\n// 文章简单列表\nexport const simple = data => createAPI('/articles/simple', 'get', data)\n\n// 文章详情\nexport const detail = data => createAPI(`/articles/${data.id}`, 'get', data)\n\n// 文章添加\nexport const add = data => createAPI('/articles', 'post', data)\n\n// 文章修改\nexport const update = data => createAPI(`/articles/${data.id}`, 'put', data)\n\n// 文章删除\nexport const remove = data => createAPI(`/articles/${data.id}`, 'delete', data)\n\n// 文章状态\nexport const changeState = data =>\n  createAPI(`/articles/${data.id}/${data.state}`, 'post', data)\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.showDialog},on:{\"close\":_vm.closeDialog,\"open\":_vm.openDialog},nativeOn:{\"click\":function($event){_vm.isShow=false}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('el-button',{on:{\"click\":_vm.closeDialog}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"确定\")])]},proxy:true}])},[_c('el-form',{ref:\"formRef\",attrs:{\"label-width\":\"120px\",\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"文章标题\",\"prop\":\"title\"}},[_c('el-input',{staticStyle:{\"width\":\"50%\"},attrs:{\"placeholder\":\"请输入文章标题\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"文章内容\",\"prop\":\"articleBody\"}},[_c('quill-editor',{attrs:{\"options\":_vm.editorOptions},on:{\"blur\":function($event){return _vm.$refs.formRef.validateField('articleBody')}},model:{value:(_vm.form.articleBody),callback:function ($$v) {_vm.$set(_vm.form, \"articleBody\", $$v)},expression:\"form.articleBody\"}})],1),_c('el-form-item',{attrs:{\"label\":\"视频地址\",\"prop\":\"videoURL\"}},[_c('el-input',{staticStyle:{\"width\":\"50%\"},attrs:{\"placeholder\":\"请输入视频地址\"},model:{value:(_vm.form.videoURL),callback:function ($$v) {_vm.$set(_vm.form, \"videoURL\", $$v)},expression:\"form.videoURL\"}})],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class='container'>\n    <el-dialog :title=\"dialogTitle\" :visible=\"showDialog\" @close=\"closeDialog\" @click.native=\"isShow=false\" @open=\"openDialog\">\n    <!-- 表单 -->\n    <el-form ref=\"formRef\" label-width=\"120px\" :model=\"form\" :rules=\"rules\">\n      <el-form-item label=\"文章标题\" prop=\"title\">\n        <el-input v-model=\"form.title\" style=\"width:50%\" placeholder=\"请输入文章标题\" />\n      </el-form-item>\n      <el-form-item label=\"文章内容\" prop=\"articleBody\">\n        <quill-editor\n        v-model=\"form.articleBody\"\n        :options=\"editorOptions\"\n        @blur=\"$refs.formRef.validateField('articleBody')\"\n        >\n        </quill-editor>\n      </el-form-item>\n      <el-form-item label=\"视频地址\" prop=\"videoURL\">\n        <el-input v-model=\"form.videoURL\" style=\"width:50%\" placeholder=\"请输入视频地址\" />\n      </el-form-item>\n    </el-form>\n    <!-- footer插槽 -->\n    <template v-slot:footer>\n      <el-button @click=\"closeDialog\">取消</el-button>\n      <el-button type=\"primary\" @click=\"handleSubmit\">确定</el-button>\n    </template>\n  </el-dialog>\n  </div>\n</template>\n\n<script>\nimport 'quill/dist/quill.core.css'\nimport 'quill/dist/quill.snow.css'\nimport 'quill/dist/quill.bubble.css'\nimport { quillEditor } from 'vue-quill-editor'\nimport hljs from 'highlight.js'\nimport 'highlight.js/styles/vs2015.css'\nimport { add, update } from '@/api/hmmm/articles'\nexport default {\n  name: 'ArticlesAdd',\n  components: {\n    quillEditor\n  },\n  props: {\n    showDialog: {\n      type: Boolean,\n      default: false\n    },\n    particulars: {\n      type: Object,\n      required: true\n    }\n  },\n  data () {\n    return {\n      // 表单数据\n      form: {\n        title: '',\n        articleBody: '',\n        videoURL: ''\n      },\n      dialogTitle: '',\n      // 表单校验规则\n      rules: {\n        title: [\n          { required: true, message: '请输入文章标题', trigger: ['blur', 'change'] }\n        ],\n        articleBody: [\n          { required: true, message: '请输入文章内容', trigger: ['blur', 'change'] }\n        ]\n      },\n      editorOptions: {\n        placeholder: '',\n        modules: {\n          toolbar: [\n            ['bold', 'italic', 'underline', 'strike'],\n            [{ list: 'ordered' }, { list: 'bullet' }],\n            ['blockquote'],\n            ['code-block', 'image', 'link']\n          ],\n          // 语法高亮\n          syntax: {\n            highlight: (text) => hljs.highlightAuto(text).value\n          }\n        }\n      },\n      isShow: false\n    }\n  },\n  methods: {\n    // 关闭对话框\n    closeDialog () {\n      this.form = {\n        title: '',\n        articleBody: '',\n        videoURL: ''\n      }\n      this.$emit('update:showDialog', false)\n      this.$refs.formRef.resetFields()\n    },\n    // 添加技巧\n    handleSubmit () {\n      // 预校验\n      this.$refs.formRef.validate(async boo => {\n        if (!boo) return\n        if (this.particulars.type === 'add') {\n          await add(this.form)\n        } else if (this.particulars.type === 'edit') {\n          await update({ ...this.form, id: this.particulars.id })\n        }\n        // 关闭对话框 重置表单\n        this.closeDialog()\n        // 通知父组件重新获取数据\n        this.$emit('reload')\n      })\n    },\n    openDialog () {\n      console.log(this.particulars, '6666666')\n      if (this.particulars.type === 'add') {\n        this.dialogTitle = '添加技巧'\n      }\n      if (this.particulars.type === 'edit') {\n        this.dialogTitle = '修改'\n        this.form.title = this.particulars.title\n        this.form.articleBody = this.particulars.articleBody\n        this.form.videoURL = this.particulars.videoURL\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n::v-deep .ql-editor {\n  height: 200px;\n}\n::v-deep .ql-toolbar.ql-snow {\n  padding: 0 8px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articles-add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articles-add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./articles-add.vue?vue&type=template&id=3d54cda3&scoped=true&\"\nimport script from \"./articles-add.vue?vue&type=script&lang=js&\"\nexport * from \"./articles-add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./articles-add.vue?vue&type=style&index=0&id=3d54cda3&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d54cda3\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}