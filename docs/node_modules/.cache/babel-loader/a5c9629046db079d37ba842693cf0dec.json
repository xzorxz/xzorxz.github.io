{"remainingRequest":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/babel-loader/lib/index.js!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-manage/pages/logs.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-manage/pages/logs.vue","mtime":1668407086277},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/babel.config.js","mtime":1668225793694},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/babel-loader/lib/index.js","mtime":1667719626894},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js","mtime":1666491603796}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gaW1wb3J0IHsgbGlzdCB9IGZyb20gJ0AvYXBpL2Jhc2UvbG9ncycKaW1wb3J0IFBhZ2VUb29sIGZyb20gJy4vLi4vY29tcG9uZW50cy9wYWdlLXRvb2wnOwppbXBvcnQgeyBsaXN0IH0gZnJvbSAnQC9hcGkvZXhhbXBsZS90YWJsZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnYmFzZS1sb2dzJywKICBjb21wb25lbnRzOiB7CiAgICBQYWdlVG9vbDogUGFnZVRvb2wKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRhTGlzdDogW10sCiAgICAgIHRhYmxlS2V5OiAwLAogICAgICB0b3RhbDogbnVsbCwKICAgICAgbGlzdExvYWRpbmc6IHRydWUsCiAgICAgIGRpYWxvZ1N0YXR1czogJycsCiAgICAgIGFsZXJ0VGV4dDogJycsCiAgICAgIHBhZ2luYXRpb246IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIC8vIHBhZ2VzaXplOiAxMAogICAgICAgIHRvdGFsOiAwLAogICAgICAgIHBhZ2VTaXplOiAyMCwKICAgICAgICBwYWdlU2l6ZXM6IFsyMCwgNTAsIDgwLCAxMjBdLAogICAgICAgIGN1cnJlbnRQYWdlOiAxCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDoge30sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W5YiX6KGo5pWw5o2uCiAgICBnZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgcGFnZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMTsKICAgICAgdmFyIGxpbWl0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAyMDsKICAgICAgdGhpcy5saXN0TG9hZGluZyA9IHRydWU7CiAgICAgIC8vIGxpc3QodGhpcy5yZXF1ZXN0UGFyYW1ldGVycykKICAgICAgLy8gICAudGhlbihkYXRhID0+IHsKICAgICAgLy8gICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhLmRhdGEubGlzdAogICAgICAvLyAgICAgdGhpcy50b3RhbCA9IGRhdGEuZGF0YS5jb3VudHMKICAgICAgLy8gICAgIHRoaXMuYWxlcnRUZXh0ID0gYOWFsSAke3RoaXMudG90YWx9IOadoeiusOW9lWAKICAgICAgLy8gICAgIHRoaXMubGlzdExvYWRpbmcgPSBmYWxzZQogICAgICAvLyAgIH0pCiAgICAgIC8vICAgLmNhdGNoKGUgPT4gewogICAgICAvLyAgICAgdGhpcy4kbWVzc2FnZS5lKCfplJnkuoblk6bvvIzov5nmmK/kuIDmnaHplJnor6/mtojmga8nKQogICAgICAvLyAgIH0pCiAgICAgIHRoaXMucGFnaW5hdGlvbi5jdXJyZW50UGFnZSA9IHBhZ2U7CiAgICAgIHRoaXMucGFnaW5hdGlvbi5wYWdlU2l6ZSA9IGxpbWl0OwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLmFsZXJ0VGV4dCA9ICcnOwogICAgICB0aGlzLmRhdGFMaXN0ID0gW107CiAgICAgIGxpc3QoewogICAgICAgIHBhZ2U6IHBhZ2UsCiAgICAgICAgbGltaXQ6IGxpbWl0CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKQogICAgICAgIF90aGlzLmRhdGFMaXN0ID0gcmVzLmRhdGEuaXRlbXM7CiAgICAgICAgX3RoaXMucGFnaW5hdGlvbi50b3RhbCA9IHJlcy5kYXRhLnRvdGFsOwogICAgICAgIF90aGlzLmFsZXJ0VGV4dCA9ICJcdTUxNzEgIi5jb25jYXQoX3RoaXMucGFnaW5hdGlvbi50b3RhbCwgIiBcdTY3NjFcdThCQjBcdTVGNTUiKTsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZSgn6ZSZ5LqG5ZOm77yM6L+Z5piv5LiA5p2h6ZSZ6K+v5raI5oGvJyk7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmr4/pobXmmL7npLrkv6Hmga/mnaHmlbAKICAgIGhhbmRsZVNpemVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucGFnaW5hdGlvbi5wYWdlc2l6ZSA9IHZhbDsKICAgICAgaWYgKHRoaXMucGFnaW5hdGlvbi5wYWdlID09PSAxKSB7CiAgICAgICAgdGhpcy5nZXRMaXN0KHRoaXMucGFnaW5hdGlvbik7CiAgICAgIH0KICAgIH0sCiAgICAvLyDov5vlhaXmn5DkuIDpobUKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucGFnaW5hdGlvbi5wYWdlID0gdmFsOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0KICB9LAogIC8vIOaMgui9vee7k+adnwogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICAvLyDliJvlu7rlrozmr5XnirbmgIEKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgfSwKICAvLyDnu4Tku7bmm7TmlrAKICB1cGRhdGVkOiBmdW5jdGlvbiB1cGRhdGVkKCkge30KfTs="},{"version":3,"mappings":"AAmFA;AACA;AACA;AACA;EACAA;EACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACA;QACAL;QACAM;QACAC;QACAC;MACA;IACA;EACA;EACAC;EACAC;IACA;IACAC;MAAA;MAAA;MAAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAC;QAAAP;QAAAQ;MAAA,GACAC;QACA;QACA;QACA;QACA;QACA;MACA,GACAC;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;EACA;EACA;EACAC;EACA;EACAC;IACA;EACA;EACA;EACAC;AACA","names":["name","components","PageTool","data","dataList","tableKey","total","listLoading","dialogStatus","alertText","pagination","page","pageSize","pageSizes","currentPage","computed","methods","getList","list","limit","then","catch","handleSizeChange","handleCurrentChange","mounted","created","updated"],"sourceRoot":"src/module-manage/pages","sources":["logs.vue"],"sourcesContent":["<template>\n  <div class=\"dashboard-container\" v-loading=\"loading\">\n    <div class=\"app-container\">\n      <el-card shadow=\"never\">\n        <el-alert\n          v-if=\"alertText !== ''\"\n          :title=\"alertText\"\n          type=\"info\"\n          class=\"alert\"\n          :closable=\"false\"\n          show-icon\n        ></el-alert>\n        <!-- 数据 -->\n        <el-table\n          :key=\"tableKey\"\n          :data=\"dataList\"\n          fit\n          highlight-current-row\n          style=\"width: 100%\"\n          border\n        >\n          <el-table-column align=\"center\" :label=\"$t('table.operationType')\">\n            <template slot-scope=\"scope\">\n              <span>{{ scope.row.type }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" :label=\"$t('table.operator')\">\n            <template slot-scope=\"scope\">\n              <span>{{ scope.row.author }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column :label=\"$t('table.results')\">\n            <template slot-scope=\"scope\">\n              <span>{{ scope.row.title }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" :label=\"$t('table.operationDate')\">\n            <template slot-scope=\"scope\">\n              <span>{{ scope.row.display_time }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" :label=\"$t('table.describe')\">\n            <template slot-scope=\"scope\">\n              <span>{{ scope.row.forecast }}</span>\n            </template>\n          </el-table-column>\n        </el-table>\n        <!-- end -->\n        <!-- 分页 -->\n        <el-pagination\n          style=\"margin-top: 20px\"\n          :current-page=\"page\"\n          :page-sizes=\"[5, 10, 15, 20]\"\n          :page-size=\"size\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n        />\n        <!-- end -->\n      </el-card>\n    </div>\n  </div>\n</template>\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n.alert {\n  margin: 10px 0px;\n}\n.pagination {\n  margin-top: 10px;\n  text-align: right;\n}\n</style>\n\n<style>\n.el-table th {\n  background-color: #fafafa;\n}\n.el-table th.is-leaf {\n  border-bottom: 2px solid #e8e8e8;\n}\n</style>\n<script>\n// import { list } from '@/api/base/logs'\nimport PageTool from './../components/page-tool'\nimport { list } from '@/api/example/table'\nexport default {\n  name: 'base-logs',\n  components: {\n    PageTool\n  },\n  data () {\n    return {\n      dataList: [],\n      tableKey: 0,\n      total: null,\n      listLoading: true,\n      dialogStatus: '',\n      alertText: '',\n      pagination: {\n        page: 1,\n        // pagesize: 10\n        total: 0,\n        pageSize: 20,\n        pageSizes: [20, 50, 80, 120],\n        currentPage: 1\n      }\n    }\n  },\n  computed: {},\n  methods: {\n    // 获取列表数据\n    getList (page = 1, limit = 20) {\n      this.listLoading = true\n      // list(this.requestParameters)\n      //   .then(data => {\n      //     this.dataList = data.data.list\n      //     this.total = data.data.counts\n      //     this.alertText = `共 ${this.total} 条记录`\n      //     this.listLoading = false\n      //   })\n      //   .catch(e => {\n      //     this.$message.e('错了哦，这是一条错误消息')\n      //   })\n      this.pagination.currentPage = page\n      this.pagination.pageSize = limit\n      this.loading = true\n      this.alertText = ''\n      this.dataList = []\n      list({ page, limit })\n        .then((res) => {\n          // console.log(res.data)\n          this.dataList = res.data.items\n          this.pagination.total = res.data.total\n          this.alertText = `共 ${this.pagination.total} 条记录`\n          this.loading = false\n        })\n        .catch((e) => {\n          this.$message.e('错了哦，这是一条错误消息')\n          this.loading = false\n        })\n    },\n    // 每页显示信息条数\n    handleSizeChange (val) {\n      this.pagination.pagesize = val\n      if (this.pagination.page === 1) {\n        this.getList(this.pagination)\n      }\n    },\n    // 进入某一页\n    handleCurrentChange (val) {\n      this.pagination.page = val\n      this.getList()\n    }\n  },\n  // 挂载结束\n  mounted: function () {},\n  // 创建完毕状态\n  created () {\n    this.getList()\n  },\n  // 组件更新\n  updated: function () {}\n}\n</script>\n"]}]}