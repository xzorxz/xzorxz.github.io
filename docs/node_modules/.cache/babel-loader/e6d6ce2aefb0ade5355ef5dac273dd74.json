{"remainingRequest":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/thread-loader/dist/cjs.js!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/babel-loader/lib/index.js!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-manage/pages/permissions.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-manage/pages/permissions.vue","mtime":1668225793868},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/babel.config.js","mtime":1668225793694},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/thread-loader/dist/cjs.js","mtime":1666491532143},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/babel-loader/lib/index.js","mtime":1667719626894},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js","mtime":1666491603796}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0IHsgbGlzdCwgcmVtb3ZlLCBkZXRhaWwsIHVwZGF0ZSwgYWRkIH0gZnJvbSAnQC9hcGkvYmFzZS9wZXJtaXNzaW9ucyc7CmltcG9ydCBQYWdlVG9vbCBmcm9tICcuLy4uL2NvbXBvbmVudHMvcGFnZS10b29sJzsKaW1wb3J0IFBlcm1pc3Npb25zQWRkIGZyb20gJy4vLi4vY29tcG9uZW50cy9wZXJtaXNzaW9ucy1hZGQnOwovLyBpbXBvcnQgcGVybWlzc2lvbnNBcGlBZGQgZnJvbSAnLi8uLi9jb21wb25lbnRzL3Blcm1pc3Npb25zQXBpLWFkZCcKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdiYXNlLXBlcm1pc3Npb25zJywKICBjb21wb25lbnRzOiB7CiAgICBQZXJtaXNzaW9uc0FkZDogUGVybWlzc2lvbnNBZGQsCiAgICAvLyBwZXJtaXNzaW9uc0FwaUFkZCwKICAgIFBhZ2VUb29sOiBQYWdlVG9vbAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIFBlcm1pc3Npb25zQWRkOiAnUGVybWlzc2lvbnNBZGQnLAogICAgICBwZXJtaXNzaW9uc0FwaUFkZDogJ3Blcm1pc3Npb25zQXBpQWRkJywKICAgICAgcGFnZVRpdGxlOiAn5p2D6ZmQ57uEJywKICAgICAgLy8g6aG16Z2i5qCH6aKYCiAgICAgIHRleHQ6ICcnLAogICAgICAvLyDmlrDlop7jgIHnvJbovpHmlofmnKwKICAgICAgYXBpVGl0bGU6ICfpq5jnuqfmjqXlj6PmjojmnYMnLAogICAgICB0YWJsZUtleTogMCwKICAgICAgZGF0YUxpc3Q6IFtdLAogICAgICB0b3RhbDogbnVsbCwKICAgICAgbGlzdExvYWRpbmc6IHRydWUsCiAgICAgIGRpYWxvZ1N0YXR1czogJycsCiAgICAgIGFsZXJ0VGV4dDogJycsCiAgICAgIHJlcXVlc3RQYXJhbWV0ZXJzOiB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBwYWdlc2l6ZTogMTAsCiAgICAgICAgdGl0bGU6IHRoaXMudGl0bGUKICAgICAgfSwKICAgICAgLy8gZm9ybUJhc2U6IHsKICAgICAgLy8gICBpZDogMCwKICAgICAgLy8gICB0aXRsZTogJycsCiAgICAgIC8vICAgcGVybWlzc2lvbnM6IFtdCiAgICAgIC8vIH0sCiAgICAgIC8vIGZvcm1EYXRhOiB7CiAgICAgIC8vICAgaWQ6IDAsCiAgICAgIC8vICAgY3JlYXRlX2RhdGU6ICcnLAogICAgICAvLyAgIHRpdGxlOiAnJywKICAgICAgLy8gICBwZXJtaXNzaW9uczogW10KICAgICAgLy8gfSwKICAgICAgcnVsZUlubGluZTogewogICAgICAgIC8vIOihqOWNlemqjOivgQogICAgICAgIHRpdGxlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn55So5oi35ZCN5LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDoge30sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W5YiX6KGo5pWw5o2uCiAgICBnZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KHBhcmFtcykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdGhpcy5saXN0TG9hZGluZyA9IHRydWU7CiAgICAgIGxpc3QodGhpcy5yZXF1ZXN0UGFyYW1ldGVycykudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIF90aGlzMi5kYXRhTGlzdCA9IGRhdGEuZGF0YS5saXN0OwogICAgICAgIF90aGlzMi50b3RhbCA9IGRhdGEuZGF0YS5jb3VudHM7CiAgICAgICAgX3RoaXMyLmFsZXJ0VGV4dCA9ICJcdTUxNzEgIi5jb25jYXQoX3RoaXMyLnRvdGFsLCAiIFx1Njc2MVx1OEJCMFx1NUY1NSIpOwogICAgICAgIF90aGlzMi5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzMi4kbWVzc2FnZS5lKCfplJnkuoblk6bvvIzov5nmmK/kuIDmnaHplJnor6/mtojmga8nKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5pWw5o2u5o6S5bqPCiAgICBjaGFuZ2Vzb3J0OiBmdW5jdGlvbiBjaGFuZ2Vzb3J0KGEsIGIpIHsKICAgICAgdmFyIG9sZFRpbWUgPSBuZXcgRGF0ZShhLmRhdGUpLmdldFRpbWUoKSAvIDEwMDA7CiAgICAgIHZhciBuZXdpbWUgPSBuZXcgRGF0ZShiLmRhdGUpLmdldFRpbWUoKSAvIDEwMDA7CiAgICAgIGlmIChvbGRUaW1lIC0gbmV3aW1lID4gMCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIC8vIOmHjee9rgogICAgcmVzZXRGb3JtOiBmdW5jdGlvbiByZXNldEZvcm0oKSB7CiAgICAgIHRoaXMuJHJlZnMucmVxdWVzdFBhcmFtZXRlcnMucmVzZXRGaWVsZHMoKTsKICAgIH0sCiAgICAvLyDmkJzntKLkv6Hmga8KICAgIGhhbmRsZUZpbHRlcjogZnVuY3Rpb24gaGFuZGxlRmlsdGVyKCkgewogICAgICB0aGlzLnJlcXVlc3RQYXJhbWV0ZXJzLnBhZ2UgPSAxOwogICAgICB0aGlzLmdldExpc3QodGhpcy5yZXF1ZXN0UGFyYW1ldGVycyk7CiAgICB9LAogICAgLy8g5q+P6aG15pi+56S65L+h5oGv5p2h5pWwCiAgICBoYW5kbGVTaXplQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnJlcXVlc3RQYXJhbWV0ZXJzLnBhZ2VzaXplID0gdmFsOwogICAgICBpZiAodGhpcy5yZXF1ZXN0UGFyYW1ldGVycy5wYWdlID09PSAxKSB7CiAgICAgICAgdGhpcy5nZXRMaXN0KHRoaXMucmVxdWVzdFBhcmFtZXRlcnMpOwogICAgICB9CiAgICB9LAogICAgLy8g6L+b5YWl5p+Q5LiA6aG1CiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICB0aGlzLnJlcXVlc3RQYXJhbWV0ZXJzLnBhZ2UgPSB2YWw7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOaWsOWinueUqOaIt+WIt+aWsOWIl+ihqAogICAgaGFuZGxlTG9hZERhdGFMaXN0OiBmdW5jdGlvbiBoYW5kbGVMb2FkRGF0YUxpc3QoKSB7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKICAgIC8vIOaWsOWinueUqOaItwogICAgaGFuZGxlQ3JlYXRlOiBmdW5jdGlvbiBoYW5kbGVDcmVhdGUoKSB7CiAgICAgIHRoaXMudGV4dCA9ICfliJvlu7onOwogICAgICB0aGlzLiRyZWZzLmVkaXRQZXJtaXNzaW9uLmhhbmRsZVJlc2V0Rm9ybSgpOwogICAgICB0aGlzLiRyZWZzLmVkaXRQZXJtaXNzaW9uLmRpYWxvZ0Zvcm1WKCk7CiAgICB9LAogICAgLy8g56qX5Y+j5pON5L2cKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgLy8g5by55qGG5YWz6ZetCiAgICBoYW5kbGVDbG9zZU1vZGFsOiBmdW5jdGlvbiBoYW5kbGVDbG9zZU1vZGFsKCkgewogICAgICB0aGlzLiRyZWZzLmVkaXRQZXJtaXNzaW9uLmRpYWxvZ0Zvcm1IKCk7CiAgICB9LAogICAgLy8g57yW6L6RCiAgICBoYW5kbGVVcGRhdGU6IGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZShvYmplZGl0SWQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdGhpcy50ZXh0ID0gJ+e8lui+kSc7CiAgICAgIHRoaXMuJHJlZnMuZWRpdFBlcm1pc3Npb24uZGlhbG9nRm9ybVYoKTsKICAgICAgdGhpcy4kcmVmcy5lZGl0UGVybWlzc2lvbi5oYW5sZGVFZGl0Rm9ybShvYmplZGl0SWQpOwogICAgfSwKICAgIC8vIOWIoOmZpAogICAgcmVtb3ZlVXNlcjogZnVuY3Rpb24gcmVtb3ZlVXNlcih1c2VyKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTnlKjmiLcgJyArICcsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZW1vdmUoewogICAgICAgICAgaWQ6IHVzZXIKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+aIkOWKn+WIoOmZpOS6hueUqOaItycgKyAnIScpOwogICAgICAgICAgX3RoaXMzLmRhdGFMaXN0LnNwbGljZSh1c2VyLCAxKTsKICAgICAgICAgIF90aGlzMy5nZXRMaXN0KF90aGlzMy5yZXF1ZXN0UGFyYW1ldGVycyk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UuZXJyb3IoJ+WIoOmZpOWksei0pSEnKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy4kbWVzc2FnZS5pbmZvKCflt7Llj5bmtojmk43kvZwhJyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOmrmOe6p+aOpeWPo+adg+mZkAogICAgaGFuZGxlQXBpU2V0OiBmdW5jdGlvbiBoYW5kbGVBcGlTZXQob2JqZWRpdElkKSB7CiAgICAgIHRoaXMuJHJlZnMuZWRpdFBlcm1pc3Npb25BcGkuZGlhbG9nRm9ybVYoKTsKICAgIH0KICB9LAogIC8vIOaMgui9vee7k+adnwogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICAvLyDliJvlu7rlrozmr5XnirbmgIEKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMaXN0KCk7CiAgICAvLyDplK7nm5hlbnRlcuaTjeS9nAogICAgdmFyIGxldHQgPSB0aGlzOwogICAgZG9jdW1lbnQub25rZXlkb3duID0gZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIGtleSA9IHdpbmRvdy5ldmVudC5rZXlDb2RlOwogICAgICBpZiAoa2V5ID09PSAxMykgewogICAgICAgIGxldHQuaGFuZGxlRmlsdGVyKHRoaXMucmVxdWVzdFBhcmFtZXRlcnMpOwogICAgICB9CiAgICB9OwogIH0sCiAgLy8g57uE5Lu25pu05pawCiAgdXBkYXRlZDogZnVuY3Rpb24gdXBkYXRlZCgpIHt9Cn07"},{"version":3,"mappings":";AA4IA;AACA;AACA;AACA;AACA;EACAA;EACAC;IACAC;IACA;IACAC;EACA;EACAC;IACA;MACAF;MACAG;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAC;QACA;QACAD;UAAAE;UAAAC;UAAAC;QAAA;MACA;IACA;EACA;EACAC;EACAC;IACA;IACAC;MAAA;MACA;MACAC,6BACAC;QACA;QACA;QACA;QACA;MACA,GACAC;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACAC;MACA,GACAZ;QACAa;UAAAC;QAAA,GACAd;UACA;UACA;UACA;QACA,GACAC;UACA;QACA;MACA,GACAA;QACA;MACA;IACA;IACA;IAEAc;MACA;IACA;EACA;EACA;EACAC;EACA;EACAC;IACA;IACA;IACA;IACAC;MACA;MACA;QACAC;MACA;IACA;EACA;EACA;EACAC;AACA","names":["name","components","PermissionsAdd","PageTool","data","permissionsApiAdd","pageTitle","text","apiTitle","tableKey","dataList","total","listLoading","dialogStatus","alertText","requestParameters","page","pagesize","title","ruleInline","required","message","trigger","computed","methods","getList","list","then","catch","changesort","resetForm","handleFilter","handleSizeChange","handleCurrentChange","handleLoadDataList","handleCreate","handleCloseModal","handleUpdate","removeUser","type","remove","id","handleApiSet","mounted","created","document","lett","updated"],"sourceRoot":"src/module-manage/pages","sources":["permissions.vue"],"sourcesContent":["<template>\n  <div class=\"dashboard-container\">\n    <div class=\"app-container\">\n      <el-card shadow=\"never\">\n        <!-- 搜索 -->\n        <el-form :model=\"requestParameters\" ref=\"requestParameters\">\n          <el-form-item prop=\"title\">\n            <el-input\n              @keyup.enter=\"handleFilter\"\n              style=\"width: 200px;\"\n              :placeholder=\"$t('table.search')\"\n              class=\"filter-item\"\n              v-model=\"requestParameters.title\"\n            ></el-input>\n            <el-button\n              class=\"filter-item\"\n              size=\"small\"\n              type=\"primary\"\n              icon=\"el-icon-search\"\n              @click=\"handleFilter\"\n            >{{$t('table.search')}}</el-button>\n            <el-button class=\"filter-item\" size=\"small\" type=\"primary\" @click=\"resetForm\">重置</el-button>\n          </el-form-item>\n          <el-button\n            class=\"filter-item fr\"\n            size=\"small\"\n            style=\"margin-left: 10px;\"\n            @click=\"handleCreate\"\n            type=\"primary\"\n            icon=\"el-icon-edit\"\n          >{{$t('table.permissionNew')}}</el-button>\n        </el-form>\n        <el-alert\n          v-if=\"alertText !== ''\"\n          :title=\"alertText\"\n          type=\"info\"\n          class=\"alert\"\n          :closable=\"false\"\n          show-icon\n        ></el-alert>\n        <!-- end -->\n        <!-- 数据 -->\n        <el-table\n          :key=\"tableKey\"\n          :data=\"dataList\"\n          v-loading=\"listLoading\"\n          element-loading-text=\"给我一点时间\"\n          fit\n          highlight-current-row\n          style=\"width: 100%\"\n          border\n        >\n          <el-table-column type=\"selection\" width=\"55\"></el-table-column>\n          <el-table-column align=\"center\" :label=\"$t('table.username')\">\n            <template slot-scope=\"scope\">\n              <span>{{scope.row.title}}</span>\n            </template>\n          </el-table-column>\n          <el-table-column :label=\"$t('table.date')\" :sort-method=\"changesort\" sortable>\n            <template slot-scope=\"scope\">\n              <span>{{scope.row.create_date | parseTimeByString(\"{y}-{m}-{d}\")}}</span>\n            </template>\n          </el-table-column>\n          <el-table-column\n            align=\"center\"\n            :label=\"$t('table.actions')\"\n            class-name=\"small-padding fixed-width\"\n          >\n            <template slot-scope=\"scope\">\n              <el-button\n                type=\"primary\"\n                size=\"mini\"\n                @click=\"handleUpdate(scope.row.id)\"\n              >{{$t('table.edit')}}</el-button>\n              <el-button\n                v-if=\"scope.row.status!='deleted'\"\n                size=\"mini\"\n                type=\"danger\"\n                @click=\"removeUser(scope.row.id)\"\n              >{{$t('table.delete')}}</el-button>\n              <!-- 高级接口授权 -->\n              <!-- <el-button size=\"mini\" type=\"primary\" @click=\"handleApiSet(scope.row.id)\" style=\"width:auto\">{{$t('table.imdsAi')}}\n              </el-button>-->\n            </template>\n          </el-table-column>\n        </el-table>\n        <!-- end -->\n        <!-- 分页 -->\n        <div class=\"pagination\">\n          <PageTool\n            :paginationPage=\"requestParameters.page\"\n            :paginationPagesize=\"requestParameters.pagesize\"\n            :total=\"total\"\n            @pageChange=\"handleCurrentChange\"\n            @pageSizeChange=\"handleSizeChange\"\n          ></PageTool>\n        </div>\n        <!-- end -->\n        <!-- 新增标签弹层 -->\n        <component\n          v-bind:is=\"PermissionsAdd\"\n          ref=\"editPermission\"\n          :formData.sync=\"requestParameters\"\n          :text=\"text\"\n          :pageTitle=\"pageTitle\"\n          :ruleInline=\"ruleInline\"\n          v-on:newDataes=\"handleLoadDataList\"\n          v-on:handleCloseModal=\"handleCloseModal\"\n        ></component>\n        <!-- 高级接口权限弹层 -->\n        <!-- <component v-bind:is=\"permissionsApiAdd\"\n          :apiTitle='apiTitle'\n          ref=\"editPermissionApi\"\n          :formData.sync='requestParameters'\n          :ruleInline='ruleInline'\n          v-on:handleCloseModal=\"handleCloseModal\">\n        </component>-->\n      </el-card>\n    </div>\n  </div>\n</template>\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n.alert {\n  margin: 10px 0px;\n}\n.pagination {\n  margin-top: 10px;\n  // text-align: right;\n}\n</style>\n\n<style>\n.el-table th {\n  background-color: #fafafa;\n}\n.el-table th.is-leaf {\n  border-bottom: 2px solid #e8e8e8;\n}\n</style>\n<script>\nimport { list, remove, detail, update, add } from '@/api/base/permissions'\nimport PageTool from './../components/page-tool'\nimport PermissionsAdd from './../components/permissions-add'\n// import permissionsApiAdd from './../components/permissionsApi-add'\nexport default {\n  name: 'base-permissions',\n  components: {\n    PermissionsAdd,\n    // permissionsApiAdd,\n    PageTool\n  },\n  data () {\n    return {\n      PermissionsAdd: 'PermissionsAdd',\n      permissionsApiAdd: 'permissionsApiAdd',\n      pageTitle: '权限组', // 页面标题\n      text: '', // 新增、编辑文本\n      apiTitle: '高级接口授权',\n      tableKey: 0,\n      dataList: [],\n      total: null,\n      listLoading: true,\n      dialogStatus: '',\n      alertText: '',\n      requestParameters: {\n        page: 1,\n        pagesize: 10,\n        title: this.title\n      },\n      // formBase: {\n      //   id: 0,\n      //   title: '',\n      //   permissions: []\n      // },\n      // formData: {\n      //   id: 0,\n      //   create_date: '',\n      //   title: '',\n      //   permissions: []\n      // },\n      ruleInline: {\n        // 表单验证\n        title: [{ required: true, message: '用户名不能为空', trigger: 'blur' }]\n      }\n    }\n  },\n  computed: {},\n  methods: {\n    // 获取列表数据\n    getList (params) {\n      this.listLoading = true\n      list(this.requestParameters)\n        .then(data => {\n          this.dataList = data.data.list\n          this.total = data.data.counts\n          this.alertText = `共 ${this.total} 条记录`\n          this.listLoading = false\n        })\n        .catch(e => {\n          this.$message.e('错了哦，这是一条错误消息')\n        })\n    },\n    // 数据排序\n    changesort (a, b) {\n      const oldTime = new Date(a.date).getTime() / 1000\n      const newime = new Date(b.date).getTime() / 1000\n      if (oldTime - newime > 0) {\n        return true\n      } else {\n        return false\n      }\n    },\n    // 重置\n    resetForm () {\n      this.$refs.requestParameters.resetFields()\n    },\n    // 搜索信息\n    handleFilter () {\n      this.requestParameters.page = 1\n      this.getList(this.requestParameters)\n    },\n    // 每页显示信息条数\n    handleSizeChange (val) {\n      this.requestParameters.pagesize = val\n      if (this.requestParameters.page === 1) {\n        this.getList(this.requestParameters)\n      }\n    },\n    // 进入某一页\n    handleCurrentChange (val) {\n      this.requestParameters.page = val\n      this.getList()\n    },\n    // 新增用户刷新列表\n    handleLoadDataList () {\n      this.getList()\n    },\n    // **********************************\n    // 新增用户\n    handleCreate () {\n      this.text = '创建'\n      this.$refs.editPermission.handleResetForm()\n      this.$refs.editPermission.dialogFormV()\n    },\n    // 窗口操作**********************************\n    // 弹框关闭\n    handleCloseModal () {\n      this.$refs.editPermission.dialogFormH()\n    },\n    // 编辑\n    handleUpdate (objeditId) {\n      var _this = this\n      this.text = '编辑'\n      this.$refs.editPermission.dialogFormV()\n      this.$refs.editPermission.hanldeEditForm(objeditId)\n    },\n    // 删除\n    removeUser (user) {\n      this.$confirm('此操作将永久删除用户 ' + ', 是否继续?', '提示', {\n        type: 'warning'\n      })\n        .then(() => {\n          remove({ id: user })\n            .then(response => {\n              this.$message.success('成功删除了用户' + '!')\n              this.dataList.splice(user, 1)\n              this.getList(this.requestParameters)\n            })\n            .catch(response => {\n              this.$message.error('删除失败!')\n            })\n        })\n        .catch(() => {\n          this.$message.info('已取消操作!')\n        })\n    },\n    // 高级接口权限\n\n    handleApiSet (objeditId) {\n      this.$refs.editPermissionApi.dialogFormV()\n    }\n  },\n  // 挂载结束\n  mounted: function () {},\n  // 创建完毕状态\n  created () {\n    this.getList()\n    // 键盘enter操作\n    var lett = this\n    document.onkeydown = function (e) {\n      var key = window.event.keyCode\n      if (key === 13) {\n        lett.handleFilter(this.requestParameters)\n      }\n    }\n  },\n  // 组件更新\n  updated: function () {}\n}\n</script>\n"]}]}