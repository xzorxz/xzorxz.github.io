{"remainingRequest":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/babel-loader/lib/index.js!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-manage/components/permissions-add.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-manage/components/permissions-add.vue","mtime":1668225793866},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/babel.config.js","mtime":1668225793694},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/babel-loader/lib/index.js","mtime":1667719626894},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js","mtime":1666491603796}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy94aWFvemhhbmcvXHU1QjY2XHU0RTYwL1x1NUMzMVx1NEUxQVx1NzNFRFx1NUI2Nlx1NEU2MC92dWUtXHU1QjlFXHU2MjE4L2htbW0tZnJvbnRlbmQtZGV2L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgeyBkZXRhaWwsIHVwZGF0ZSwgYWRkIH0gZnJvbSAnQC9hcGkvYmFzZS9wZXJtaXNzaW9ucyc7CmltcG9ydCB7IGxpc3QgfSBmcm9tICdAL2FwaS9iYXNlL21lbnVzLmpzJzsKdmFyIF90aGlzID0gW107CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAndXNlcnNBZGQnLAogIHByb3BzOiBbJ3RleHQnLCAncGFnZVRpdGxlJywgJ3J1bGVJbmxpbmUnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLAogICAgICBQZXJtaXNzaW9uR3JvdXBzbWVudTogW10sCiAgICAgIGRlZmF1bHRQcm9wczogewogICAgICAgIGxhYmVsOiAndGl0bGUnCiAgICAgIH0sCiAgICAgIHBlcm1pc3Npb25zOiBbXSwKICAgICAgdHJlZUNoZWNrZWROb2RlczogW10sCiAgICAgIGZvcm1CYXNlOiB7CiAgICAgICAgaWQ6IDAsCiAgICAgICAgY3JlYXRlX2RhdGU6ICcnLAogICAgICAgIHRpdGxlOiAnJywKICAgICAgICBwZXJtaXNzaW9uczogW10KICAgICAgfSwKICAgICAgY3VyUGVybWlzc2lvbnM6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHRyZWVEYXRhOiBmdW5jdGlvbiB0cmVlRGF0YSgpIHsKICAgICAgZnVuY3Rpb24gY3JlYXRlTm9kZShpdGVtKSB7CiAgICAgICAgLy8g5aSN6YCJ5qGG6YCJ5oupCiAgICAgICAgdmFyIGNoZWNrZWQgPSBmYWxzZTsKICAgICAgICB2YXIgc2VsZWN0ZWQgPSBmYWxzZTsKICAgICAgICBpZiAoX3RoaXMgIT09IG51bGwgJiYgX3RoaXMuZm9ybUJhc2UucGVybWlzc2lvbnMubGVuZ3RoID4gMCkgewogICAgICAgICAgdmFyIHBlciA9IF90aGlzLmZvcm1CYXNlLnBlcm1pc3Npb25zLmZpbmQoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkgewogICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IGl0ZW0uaWQ7CiAgICAgICAgICB9KTsKICAgICAgICAgIHNlbGVjdGVkID0gISFwZXI7CiAgICAgICAgfQogICAgICAgIC8vIOagh+iusOWLvumAiQogICAgICAgIGlmIChzZWxlY3RlZCkgewogICAgICAgICAgdmFyIGlzUG9pbnQgPSBpdGVtLmNoaWxkcyA9PT0gdW5kZWZpbmVkICYmIGl0ZW0ucG9pbnRzID09PSB1bmRlZmluZWQ7CiAgICAgICAgICB2YXIgaGFzQ2hpbGRzID0gaXRlbS5jaGlsZHMgIT09IHVuZGVmaW5lZCAmJiBpdGVtLmNoaWxkcy5sZW5ndGggPiAwOwogICAgICAgICAgdmFyIGhhc1BvaW50cyA9IGl0ZW0ucG9pbnRzICE9PSB1bmRlZmluZWQgJiYgaXRlbS5wb2ludHMubGVuZ3RoID4gMDsKICAgICAgICAgIGlmIChpc1BvaW50KSB7CiAgICAgICAgICAgIGNoZWNrZWQgPSB0cnVlOwogICAgICAgICAgfSBlbHNlIGlmIChoYXNQb2ludHMpIHsKICAgICAgICAgICAgY2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgfSBlbHNlIGlmIChoYXNDaGlsZHMpIHsKICAgICAgICAgICAgY2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZDogaXRlbS5pZCA9PT0gdW5kZWZpbmVkID8gMCA6IGl0ZW0uaWQsCiAgICAgICAgICB0aXRsZTogaXRlbS50aXRsZSwKICAgICAgICAgIGNoaWxkcmVuOiBbXSwKICAgICAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZCwKICAgICAgICAgIGNoZWNrZWQ6IGNoZWNrZWQKICAgICAgICB9OwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHBhcnNlTm9kZXMobm9kZXMsIHBhcmVudE5vZGUpIHsKICAgICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobm9kZXMpLAogICAgICAgICAgX3N0ZXA7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBpdCA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICB2YXIgbm9kZSA9IGNyZWF0ZU5vZGUoaXQpOwogICAgICAgICAgICAvLyDmoIforrDpgInkuK0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2cobm9kZS5jaGVja2VkKQogICAgICAgICAgICBpZiAobm9kZS5jaGVja2VkKSB7CiAgICAgICAgICAgICAgcGFyZW50Tm9kZS5zZWxlY3RlZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGl0LmNoaWxkcyAhPT0gdW5kZWZpbmVkICYmIGl0LmNoaWxkcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgcGFyc2VOb2RlcyhpdC5jaGlsZHMsIG5vZGUpOwogICAgICAgICAgICB9IGVsc2UgaWYgKGl0LnBvaW50cyAhPT0gdW5kZWZpbmVkICYmIGl0LnBvaW50cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgcGFyc2VOb2RlcyhpdC5wb2ludHMsIG5vZGUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHBhcmVudE5vZGUuY2hpbGRyZW4ucHVzaChub2RlKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHZhciBub2RlcyA9IGNyZWF0ZU5vZGUoewogICAgICAgIHRpdGxlOiAn57O757uf6I+c5Y2V5ZKM6aG16Z2i5p2D6ZmQ54K5JywKICAgICAgICBleHBhbmQ6IHRydWUKICAgICAgfSk7CiAgICAgIHBhcnNlTm9kZXModGhpcy5QZXJtaXNzaW9uR3JvdXBzbWVudSwgbm9kZXMpOwogICAgICByZXR1cm4gW25vZGVzXTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOW8ueWxguaYvuekugogICAgZGlhbG9nRm9ybVY6IGZ1bmN0aW9uIGRpYWxvZ0Zvcm1WKCkgewogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDlvLnlsYLpmpDol48KICAgIGRpYWxvZ0Zvcm1IOiBmdW5jdGlvbiBkaWFsb2dGb3JtSCgpIHsKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIC8vIOmAgOWHugogICAgaGFuZGxlQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZUNsb3NlKCkgewogICAgICB0aGlzLiRlbWl0KCdoYW5kbGVDbG9zZU1vZGFsJyk7CiAgICB9LAogICAgLy8g6KGo5Y2V6YeN572uCiAgICBoYW5kbGVSZXNldEZvcm06IGZ1bmN0aW9uIGhhbmRsZVJlc2V0Rm9ybSgpIHsKICAgICAgdGhpcy5mb3JtQmFzZSA9IHsKICAgICAgICBpZDogMCwKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgcGVybWlzc2lvbnM6IFtdCiAgICAgIH07CiAgICB9LAogICAgLy8g57yW6L6R6K+m5oOF5pWw5o2u5Yqg6L29CiAgICBoYW5sZGVFZGl0Rm9ybTogZnVuY3Rpb24gaGFubGRlRWRpdEZvcm0ob2JqZWRpdElkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLmZvcm1CYXNlLmlkID0gb2JqZWRpdElkOwogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBpZDogb2JqZWRpdElkCiAgICAgIH07CiAgICAgIGRldGFpbChkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXQsIGVycikgewogICAgICAgIGlmIChlcnIpIHsKICAgICAgICAgIHJldHVybiBlcnI7CiAgICAgICAgfQogICAgICAgIF90aGlzMi5mb3JtQmFzZS5pZCA9IHJldC5kYXRhLmlkOwogICAgICAgIF90aGlzMi5mb3JtQmFzZS50aXRsZSA9IHJldC5kYXRhLnRpdGxlOwogICAgICAgIF90aGlzMi5mb3JtQmFzZS5wZXJtaXNzaW9ucyA9IHJldC5kYXRhLnBlcm1pc3Npb25zOwogICAgICB9KTsKICAgIH0sCiAgICBzZXR1cERhdGE6IGZ1bmN0aW9uIHNldHVwRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIGxpc3QoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMzLlBlcm1pc3Npb25Hcm91cHNtZW51ID0gZGF0YS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDoioLngrnlpI3pgInmoYbooqvpgInkuK0KICAgIGhhbmRsZUNoZWNrQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGVja0NoYW5nZShkYXRhLCBjaGVja2VkLCBpbmRldGVybWluYXRlKSB7CiAgICAgIHRoaXMudHJlZUNoZWNrZWROb2RlcyA9IGNoZWNrZWQuY2hlY2tlZE5vZGVzOwogICAgfSwKICAgIC8vIOihqOWNleaPkOS6pAogICAgaGFuZGxlQWRkOiBmdW5jdGlvbiBoYW5kbGVBZGQob2JqZWN0KSB7CiAgICAgIC8vIOivu+WPluWujOaVtOiKgueCuQogICAgICB2YXIgY3VyUGVybWlzc2lvbnMgPSBuZXcgU2V0KCk7CiAgICAgIC8vIGZ1bmN0aW9uIHBhcnNlKG5vZGVzLCBzZWxlY3RlZElkKSB7CiAgICAgIC8vICAgZm9yIChjb25zdCBpdCBvZiBub2RlcykgewogICAgICAvLyAgICAgbGV0IGlzRmluZCA9IGZhbHNlCiAgICAgIC8vICAgICBpZiAoaXQuY2hpbGRzICE9PSB1bmRlZmluZWQpIHsKICAgICAgLy8gICAgICAgaXNGaW5kID0gcGFyc2UoaXQuY2hpbGRzLCBzZWxlY3RlZElkKQogICAgICAvLyAgICAgfQogICAgICAvLyAgICAgaWYgKGl0LnBvaW50cyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIC8vICAgICAgIGlzRmluZCA9IHBhcnNlKGl0LnBvaW50cywgc2VsZWN0ZWRJZCkKICAgICAgLy8gICAgIH0KICAgICAgLy8gICAgIGlmIChpdC5pZCA9PT0gc2VsZWN0ZWRJZCkgewogICAgICAvLyAgICAgICBpc0ZpbmQgPSB0cnVlCiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgICBpZiAoaXNGaW5kKSB7CiAgICAgIC8vICAgICAgIGN1clBlcm1pc3Npb25zLmFkZChpdC5pZCkKICAgICAgLy8gICAgICAgcmV0dXJuIHRydWUKICAgICAgLy8gICAgIH0KICAgICAgLy8gICB9CiAgICAgIC8vICAgcmV0dXJuIGZhbHNlCiAgICAgIC8vIH0KICAgICAgLy8g5bey6YCJ5Lit55qE5o6n5Lu26IqC54K5CiAgICAgIGlmICh0aGlzLnRyZWVDaGVja2VkTm9kZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy50cmVlQ2hlY2tlZE5vZGVzID0gdGhpcy4kcmVmcy50cmVlTWVudS5nZXRDaGVja2VkTm9kZXMoKTsKICAgICAgICBpZiAodGhpcy50cmVlQ2hlY2tlZE5vZGVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQogICAgICAvLyDor7vlj5YKICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLnRyZWVDaGVja2VkTm9kZXMpLAogICAgICAgIF9zdGVwMjsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGl0ID0gX3N0ZXAyLnZhbHVlOwogICAgICAgICAgLy8gcGFyc2UodGhpcy5QZXJtaXNzaW9uR3JvdXBzbWVudSwgaXQuaWQpCiAgICAgICAgICBjdXJQZXJtaXNzaW9ucy5hZGQoaXQuaWQpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgIH0KICAgICAgdGhpcy5jdXJQZXJtaXNzaW9ucyA9IEFycmF5LmZyb20oY3VyUGVybWlzc2lvbnMpOwogICAgICAvLyDkv53lrZgKICAgICAgaWYgKHRoaXMuY3VyUGVybWlzc2lvbnMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup6ZyA6KaB55qE5p2D6ZmQ5Y+K6aG16Z2i5p2D6ZmQ54K5JywKICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmRhdGFGb3JtU3ViKHRoaXMuY3VyUGVybWlzc2lvbnMpOwogICAgICB9CiAgICB9LAogICAgbm9kZURhdGU6IGZ1bmN0aW9uIG5vZGVEYXRlKG5vZGVzUGF0aCwgY3VyUGVybWlzc2lvbnMsIGZpbmRJZCkgewogICAgICBub2Rlc1BhdGgubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgIGlmIChjdXJQZXJtaXNzaW9ucy5pbmRleE9mKGl0ZW0uaWQpID09PSAtMSkgewogICAgICAgICAgY3VyUGVybWlzc2lvbnMucHVzaChmaW5kSWQpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZGF0YUZvcm1TdWI6IGZ1bmN0aW9uIGRhdGFGb3JtU3ViKGN1clBlcm1pcykgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdGhpcy4kcmVmcy5kYXRhRm9ybS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIF90aGlzNC4kZW1pdCgnaGFuZGxlQ2xvc2VNb2RhbCcpOwogICAgICAgICAgaWYgKF90aGlzLmZvcm1CYXNlLmlkKSB7CiAgICAgICAgICAgIHZhciB0ZWNobm9sb2d5VHlwZXMgPSBbXTsKICAgICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgICAgaWQ6IF90aGlzNC5mb3JtQmFzZS5pZCwKICAgICAgICAgICAgICB0aXRsZTogX3RoaXM0LmZvcm1CYXNlLnRpdGxlLAogICAgICAgICAgICAgIHBlcm1pc3Npb25zOiBjdXJQZXJtaXMKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdXBkYXRlKGRhdGEpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzNC4kZW1pdCgnbmV3RGF0YWVzJywgX3RoaXM0LmZvcm1CYXNlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhZGQoewogICAgICAgICAgICAgIHRpdGxlOiBfdGhpczQuZm9ybUJhc2UudGl0bGUsCiAgICAgICAgICAgICAgcGVybWlzc2lvbnM6IGN1clBlcm1pcwogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczQuJGVtaXQoJ25ld0RhdGFlcycsIF90aGlzNC5mb3JtQmFzZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczQuJE1lc3NhZ2UuZXJyb3IoJyrlj7fkuLrlv4XloavpobkhJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIC8vIOaMgui9vee7k+adnwoKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgLy8g5Yib5bu65a6M5q+V54q25oCBCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIF90aGlzID0gdGhpczsKICAgIHRoaXMuc2V0dXBEYXRhKCk7CiAgfSwKICAvLyDnu4Tku7bmm7TmlrAKICB1cGRhdGVkOiBmdW5jdGlvbiB1cGRhdGVkKCkge30KfTs="},{"version":3,"mappings":";;;;;;;;;AAmCA;AACA;AACA;AACA;EACAA;EACAC;EACAC;IACA;MACAC;MACAC;MACAC;QACAC;MACA;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAL;MACA;MACAM;IACA;EACA;EACAC;IACAC;MACA;QACA;QACA;QACA;QACA;UACA;YACA;UACA;UACAC;QACA;QACA;QACA;UACA;UACA;UACA;UACA;YACAC;UACA;YACAA;UACA;YACAA;UACA;YACAA;UACA;QACA;QACA;UACAP;UACAE;UACAM;UACAF;UACAC;QACA;MACA;MACA;QAAA,2CACAE;UAAA;QAAA;UAAA;YAAA;YACA;YACA;YACA;YACA;cACAC;YACA;YACA;cACAC;YACA;cACAA;YACA;YACAD;UACA;QAAA;UAAA;QAAA;UAAA;QAAA;MACA;MACA;QAAAR;QAAAU;MAAA;MACAD;MACA;IACA;EACA;EACAE;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QACAjB;QACAE;QACAL;MACA;IACA;IACA;IACAqB;MAAA;MACA;MACA;QACAlB;MACA;MACAmB;QACA;UACA;QACA;QACA;QACA;QACA;MACA;IACA;IACAC;MAAA;MACAC;QACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;QACA;UACA;QACA;MACA;MACA;MAAA,4CACA;QAAA;MAAA;QAAA;UAAA;UACA;UACApB;QACA;MAAA;QAAA;MAAA;QAAA;MAAA;MACA;MACA;MACA;QACA;UACAqB;UACAC;UACAC;QACA;MACA;QACA;MACA;IACA;IACAC;MACAC;QACA;UACAzB;QACA;MACA;IACA;IACA0B;MAAA;MACA;QACA;UACA;UACA;YACA;YACA;cACA7B;cACAE;cACAL;YACA;YACAiC;cACA;YACA;UACA;YACAC;cACA7B;cACAL;YACA;cACA;YACA;UACA;QACA;UACA;QACA;MACA;IACA;EACA;EACA;;EAEAmC;EACA;EACAC;IACAC;IACA;EACA;EACA;EACAC;AACA","names":["name","props","data","dialogFormVisible","PermissionGroupsmenu","defaultProps","label","permissions","treeCheckedNodes","formBase","id","create_date","title","curPermissions","computed","treeData","selected","checked","children","nodes","parentNode","parseNodes","expand","methods","dialogFormV","dialogFormH","handleClose","handleResetForm","hanldeEditForm","detail","setupData","list","handleCheckChange","handleAdd","showClose","message","type","nodeDate","nodesPath","dataFormSub","update","add","mounted","created","_this","updated"],"sourceRoot":"src/module-manage/components","sources":["permissions-add.vue"],"sourcesContent":["<template>\n  <div class=\"add-form\">\n    <el-dialog :title=\"text+pageTitle\" :visible.sync=\"dialogFormVisible\">\n      <el-form\n        :rules=\"ruleInline\"\n        ref=\"dataForm\"\n        :model=\"formBase\"\n        label-position=\"left\"\n        label-width=\"120px\"\n        style=\"width: 400px; margin-left:120px;\"\n      >\n        <el-form-item :label=\"$t('table.username')\" prop=\"title\">\n          <el-input v-model=\"formBase.title\"></el-input>\n        </el-form-item>\n        <el-form-item :label=\"$t('table.powerDistriB')\">\n          <el-tree\n            ref=\"treeMenu\"\n            :data=\"treeData\"\n            show-checkbox\n            node-key=\"id\"\n            :default-expanded-keys=\"[0]\"\n            :default-checked-keys=\"formBase.permissions\"\n            :props=\"defaultProps\"\n            @check=\"handleCheckChange\"\n          ></el-tree>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"handleClose\">{{$t('table.cancel')}}</el-button>\n        <el-button type=\"primary\" @click=\"handleAdd('formBase')\">{{$t('table.confirm')}}</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport { detail, update, add } from '@/api/base/permissions'\nimport { list } from '@/api/base/menus.js'\nlet _this = []\nexport default {\n  name: 'usersAdd',\n  props: ['text', 'pageTitle', 'ruleInline'],\n  data () {\n    return {\n      dialogFormVisible: false,\n      PermissionGroupsmenu: [],\n      defaultProps: {\n        label: 'title'\n      },\n      permissions: [],\n      treeCheckedNodes: [],\n      formBase: {\n        id: 0,\n        create_date: '',\n        title: '',\n        permissions: []\n      },\n      curPermissions: []\n    }\n  },\n  computed: {\n    treeData () {\n      function createNode (item) {\n        // 复选框选择\n        let checked = false\n        let selected = false\n        if (_this !== null && _this.formBase.permissions.length > 0) {\n          const per = _this.formBase.permissions.find(function (value, index) {\n            return value === item.id\n          })\n          selected = !!per\n        }\n        // 标记勾选\n        if (selected) {\n          const isPoint = item.childs === undefined && item.points === undefined\n          const hasChilds = item.childs !== undefined && item.childs.length > 0\n          const hasPoints = item.points !== undefined && item.points.length > 0\n          if (isPoint) {\n            checked = true\n          } else if (hasPoints) {\n            checked = false\n          } else if (hasChilds) {\n            checked = false\n          } else {\n            checked = true\n          }\n        }\n        return {\n          id: item.id === undefined ? 0 : item.id,\n          title: item.title,\n          children: [],\n          selected: selected,\n          checked: checked\n        }\n      }\n      function parseNodes (nodes, parentNode) {\n        for (const it of nodes) {\n          const node = createNode(it)\n          // 标记选中\n          // console.log(node.checked)\n          if (node.checked) {\n            parentNode.selected = true\n          }\n          if (it.childs !== undefined && it.childs.length > 0) {\n            parseNodes(it.childs, node)\n          } else if (it.points !== undefined && it.points.length > 0) {\n            parseNodes(it.points, node)\n          }\n          parentNode.children.push(node)\n        }\n      }\n      const nodes = createNode({ title: '系统菜单和页面权限点', expand: true })\n      parseNodes(this.PermissionGroupsmenu, nodes)\n      return [nodes]\n    }\n  },\n  methods: {\n    // 弹层显示\n    dialogFormV () {\n      this.dialogFormVisible = true\n    },\n    // 弹层隐藏\n    dialogFormH () {\n      this.dialogFormVisible = false\n    },\n    // 退出\n    handleClose () {\n      this.$emit('handleCloseModal')\n    },\n    // 表单重置\n    handleResetForm () {\n      this.formBase = {\n        id: 0,\n        title: '',\n        permissions: []\n      }\n    },\n    // 编辑详情数据加载\n    hanldeEditForm (objeditId) {\n      this.formBase.id = objeditId\n      var data = {\n        id: objeditId\n      }\n      detail(data).then((ret, err) => {\n        if (err) {\n          return err\n        }\n        this.formBase.id = ret.data.id\n        this.formBase.title = ret.data.title\n        this.formBase.permissions = ret.data.permissions\n      })\n    },\n    setupData () {\n      list().then(data => {\n        this.PermissionGroupsmenu = data.data\n      })\n    },\n\n    // 节点复选框被选中\n    handleCheckChange (data, checked, indeterminate) {\n      this.treeCheckedNodes = checked.checkedNodes\n    },\n    // 表单提交\n    handleAdd (object) {\n      // 读取完整节点\n      const curPermissions = new Set()\n      // function parse(nodes, selectedId) {\n      //   for (const it of nodes) {\n      //     let isFind = false\n      //     if (it.childs !== undefined) {\n      //       isFind = parse(it.childs, selectedId)\n      //     }\n      //     if (it.points !== undefined) {\n      //       isFind = parse(it.points, selectedId)\n      //     }\n      //     if (it.id === selectedId) {\n      //       isFind = true\n      //     }\n      //     if (isFind) {\n      //       curPermissions.add(it.id)\n      //       return true\n      //     }\n      //   }\n      //   return false\n      // }\n      // 已选中的控件节点\n      if (this.treeCheckedNodes.length === 0) {\n        this.treeCheckedNodes = this.$refs.treeMenu.getCheckedNodes()\n        if (this.treeCheckedNodes.length === 0) {\n          return\n        }\n      }\n      // 读取\n      for (const it of this.treeCheckedNodes) {\n        // parse(this.PermissionGroupsmenu, it.id)\n        curPermissions.add(it.id)\n      }\n      this.curPermissions = Array.from(curPermissions)\n      // 保存\n      if (this.curPermissions.length === 0) {\n        this.$message({\n          showClose: true,\n          message: '请选择需要的权限及页面权限点',\n          type: 'error'\n        })\n      } else {\n        this.dataFormSub(this.curPermissions)\n      }\n    },\n    nodeDate (nodesPath, curPermissions, findId) {\n      nodesPath.map(function (item, index) {\n        if (curPermissions.indexOf(item.id) === -1) {\n          curPermissions.push(findId)\n        }\n      })\n    },\n    dataFormSub (curPermis) {\n      this.$refs.dataForm.validate(valid => {\n        if (valid) {\n          this.$emit('handleCloseModal')\n          if (_this.formBase.id) {\n            const technologyTypes = []\n            var data = {\n              id: this.formBase.id,\n              title: this.formBase.title,\n              permissions: curPermis\n            }\n            update(data).then(() => {\n              this.$emit('newDataes', this.formBase)\n            })\n          } else {\n            add({\n              title: this.formBase.title,\n              permissions: curPermis\n            }).then(() => {\n              this.$emit('newDataes', this.formBase)\n            })\n          }\n        } else {\n          this.$Message.error('*号为必填项!')\n        }\n      })\n    }\n  },\n  // 挂载结束\n\n  mounted: function () {},\n  // 创建完毕状态\n  created () {\n    _this = this\n    this.setupData()\n  },\n  // 组件更新\n  updated: function () {}\n}\n</script>\n<style>\n.el-tree {\n  margin-top: 8px;\n}\n.el-tree-node__content {\n  height: auto;\n}\n.el-form--label-left .el-form-item__label {\n  text-align: right;\n}\n.el-dialog__footer {\n  text-align: right;\n}\n</style>\n"]}]}