{"remainingRequest":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/thread-loader/dist/cjs.js!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/babel-loader/lib/index.js!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-hmmm/pages/companys/citys.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-hmmm/pages/companys/citys.vue","mtime":1668476414486},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/babel.config.js","mtime":1668225793694},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/thread-loader/dist/cjs.js","mtime":1666491532143},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/babel-loader/lib/index.js","mtime":1667719626894},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js","mtime":1666491603796}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcHJvdmluY2VzIGFzIGdldFByb3ZpbmNlcywgY2l0eXMgYXMgZ2V0Q2l0eXMgfSBmcm9tICdAL2FwaS9obW1tL2NpdHlzLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdjaXR5cycsCiAgcHJvcHM6IFsndmFsdWUnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvdkFuZENpdHk6IHsKICAgICAgICBwcm92aW5jZTogdGhpcy52YWx1ZS5wcm92aW5jZSwKICAgICAgICBjaXR5OiB0aGlzLnZhbHVlLmNpdHkKICAgICAgfSwKICAgICAgcHJvdmluY2VMaXN0OiBbXSwKICAgICAgY2l0eUxpc3Q6IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0Q2l0eURhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPluecgQogICAgZ2V0Q2l0eURhdGE6IGZ1bmN0aW9uIGdldENpdHlEYXRhKCkgewogICAgICB0aGlzLnByb3ZpbmNlTGlzdCA9IGdldFByb3ZpbmNlcygpOwogICAgICBpZiAodGhpcy5wcm92QW5kQ2l0eS5wcm92aW5jZSkgewogICAgICAgIHRoaXMuY2l0eUxpc3QgPSBnZXRDaXR5cyh0aGlzLnByb3ZBbmRDaXR5LnByb3ZpbmNlKTsKICAgICAgfQogICAgfSwKICAgIC8vIOmAieecgeiOt+WPluWIsOW4ggogICAgaGFuZGxlQ2l0eTogZnVuY3Rpb24gaGFuZGxlQ2l0eShlKSB7CiAgICAgIHRoaXMuY2l0eUxpc3QgPSBnZXRDaXR5cyhlKTsKICAgICAgLy8gdGhpcy52YWx1ZS5jaXR5ID0gdGhpcy5jaXR5TGlzdFswXQogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHsKICAgICAgICBwcm92aW5jZTogdGhpcy5wcm92QW5kQ2l0eS5wcm92aW5jZSwKICAgICAgICBjaXR5OiBlCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOmAieecgeiOt+WPluWIsOW4ggogICAgaGFuZGxlUHJvdmluY2U6IGZ1bmN0aW9uIGhhbmRsZVByb3ZpbmNlKGUpIHsKICAgICAgdGhpcy5jaXR5TGlzdCA9IGdldENpdHlzKGUpOwogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHsKICAgICAgICBwcm92aW5jZTogdGhpcy5wcm92QW5kQ2l0eS5wcm92aW5jZSwKICAgICAgICBjaXR5OiB0aGlzLmNpdHlMaXN0WzBdCiAgICAgIH0pOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIC8vIOeUseS6jueItue7hOS7tuS4reS8oOWFpeeahHYtbW9kZWw9IlhYWFgiLOi/memHjOeahHh4eHjmmK/pgJrov4dhamF45Y+W5Zue5p2l55qE5pWw5o2uCiAgICAvLyDmiYDku6XvvIzlnKjkvKDlgLznmoTov4fnqIvkuK3mmK/mnInkuIDkuKrlj5jljJbvvJoKICAgIC8vIDEuIOWIneWni+WAvOaYryIiCiAgICAvLyAyLiBhamF45Zue5p2l5LmL5ZCO77yM5Y+W5Yiw5LqG77yM6Ieq5Yqo5Lyg5YWl5a2Q57uE5Lu277yIdi1tb2RlbOaYr+WTjeW6lOW8j++8iQogICAgLy8g5omA5Lul77yM6KaB55Sod2F0Y2jnm5HlkKzov5nkuKrlj5jljJYKICAgIC8vIOagvOW8j+aYr++8mgogICAgLy8g5a2X56ym5q6177yaIHsKICAgIC8vICAgaGFuZGxlcjoobmV3VmFsLCBvbGRWYWwpIHsKCiAgICAvLyAgIH0sCiAgICAvLyAgIGRlZXA6IHRydWUKICAgIC8vIH0KICAgIHZhbHVlOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgICAvLyDmm7TmlrDnnIHku70KICAgICAgICB0aGlzLnByb3ZBbmRDaXR5LnByb3ZpbmNlID0gbmV3VmFsLnByb3ZpbmNlOwogICAgICAgIC8vIOiOt+WPluWvueW6lOW4gue6p+eahOaVsOaNrgogICAgICAgIHRoaXMuY2l0eUxpc3QgPSBnZXRDaXR5cyhuZXdWYWwucHJvdmluY2UpOwogICAgICAgIC8vIOabtOaWsOW4ggogICAgICAgIHRoaXMucHJvdkFuZENpdHkuY2l0eSA9IG5ld1ZhbC5jaXR5OwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":"AAwBA;AACA;EACAA;EACAC;EACAC;IACA;MACAC;QACAC;QACAC;MACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;QACAP;QACAC;MACA;IACA;IACA;IACAO;MACA;MACA;QACAR;QACAC;MACA;IACA;EACA;EACAQ;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACAC;MACAC;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MACAC;IACA;EACA;AACA","names":["name","props","data","provAndCity","province","city","provinceList","cityList","created","methods","getCityData","handleCity","handleProvince","watch","value","handler","deep"],"sourceRoot":"src/module-hmmm/pages/companys","sources":["citys.vue"],"sourcesContent":["<template>\n  <div style=\"display: flex;align-items: baseline;\">\n    <el-select\n      class=\"filter-item\"\n      style=\"width: 100px;\"\n      v-model=\"provAndCity.province\"\n      @change=\"handleProvince\"\n      clearable\n    >\n      <el-option v-for=\"item in provinceList\" :key=\"item\" :label=\"item\" :value=\"item\"></el-option>\n    </el-select><label style=\"margin:0 10px; font-weight:normal\">市</label>\n    <el-select\n      class=\"filter-item\"\n      style=\"width: 100px;\"\n      v-model=\"provAndCity.city\"\n      @change=\"handleCity\"\n      clearable\n    >\n      <el-option v-for=\"item in cityList\" :key=\"item\" :label=\"item\" :value=\"item\"></el-option>\n    </el-select>\n  </div>\n</template>\n\n<script>\nimport { provinces as getProvinces, citys as getCitys } from '@/api/hmmm/citys.js'\nexport default {\n  name: 'citys',\n  props: ['value'],\n  data () {\n    return {\n      provAndCity: {\n        province: this.value.province,\n        city: this.value.city\n      },\n      provinceList: [],\n      cityList: []\n    }\n  },\n  created () {\n    this.getCityData()\n  },\n  methods: {\n    // 获取省\n    getCityData: function () {\n      this.provinceList = getProvinces()\n      if (this.provAndCity.province) {\n        this.cityList = getCitys(this.provAndCity.province)\n      }\n    },\n    // 选省获取到市\n    handleCity: function (e) {\n      this.cityList = getCitys(e)\n      // this.value.city = this.cityList[0]\n      this.$emit('input', {\n        province: this.provAndCity.province,\n        city: e\n      })\n    },\n    // 选省获取到市\n    handleProvince: function (e) {\n      this.cityList = getCitys(e)\n      this.$emit('input', {\n        province: this.provAndCity.province,\n        city: this.cityList[0]\n      })\n    }\n  },\n  watch: {\n    // 由于父组件中传入的v-model=\"XXXX\",这里的xxxx是通过ajax取回来的数据\n    // 所以，在传值的过程中是有一个变化：\n    // 1. 初始值是\"\"\n    // 2. ajax回来之后，取到了，自动传入子组件（v-model是响应式）\n    // 所以，要用watch监听这个变化\n    // 格式是：\n    // 字符段： {\n    //   handler:(newVal, oldVal) {\n\n    //   },\n    //   deep: true\n    // }\n    value: {\n      handler (newVal, oldVal) {\n        // 更新省份\n        this.provAndCity.province = newVal.province\n        // 获取对应市级的数据\n        this.cityList = getCitys(newVal.province)\n        // 更新市\n        this.provAndCity.city = newVal.city\n      },\n      deep: true\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n"]}]}