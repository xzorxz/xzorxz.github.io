{"remainingRequest":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/thread-loader/dist/cjs.js!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/babel-loader/lib/index.js!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-dashboard/store/user.js","dependencies":[{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-dashboard/store/user.js","mtime":1668225793862},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/babel.config.js","mtime":1668225793694},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/thread-loader/dist/cjs.js","mtime":1666491532143},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/babel-loader/lib/index.js","mtime":1667719626894}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IGxvZ2luLCBsb2dvdXQsIHByb2ZpbGUgfSBmcm9tICdAL2FwaS9iYXNlL2ZyYW1lJzsKaW1wb3J0IHsgZ2V0VG9rZW4sIHNldFRva2VuLCByZW1vdmVUb2tlbiB9IGZyb20gJ0AvdXRpbHMvYXV0aCc7CnZhciB1c2VyID0gewogIHN0YXRlOiB7CiAgICB1c2VyOiAnJywKICAgIHN0YXR1czogJycsCiAgICBjb2RlOiAnJywKICAgIHRva2VuOiBnZXRUb2tlbigpLAogICAgbmFtZTogJycsCiAgICBhdmF0YXI6ICcnLAogICAgaW50cm9kdWN0aW9uOiAnJywKICAgIHJvbGVzOiBbXSwKICAgIHNldHRpbmc6IHsKICAgICAgYXJ0aWNsZVBsYXRmb3JtOiBbXQogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBTRVRfQ09ERTogZnVuY3Rpb24gU0VUX0NPREUoc3RhdGUsIGNvZGUpIHsKICAgICAgc3RhdGUuY29kZSA9IGNvZGU7CiAgICB9LAogICAgU0VUX1RPS0VOOiBmdW5jdGlvbiBTRVRfVE9LRU4oc3RhdGUsIHRva2VuKSB7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICB9LAogICAgU0VUX0lOVFJPRFVDVElPTjogZnVuY3Rpb24gU0VUX0lOVFJPRFVDVElPTihzdGF0ZSwgaW50cm9kdWN0aW9uKSB7CiAgICAgIHN0YXRlLmludHJvZHVjdGlvbiA9IGludHJvZHVjdGlvbjsKICAgIH0sCiAgICBTRVRfU0VUVElORzogZnVuY3Rpb24gU0VUX1NFVFRJTkcoc3RhdGUsIHNldHRpbmcpIHsKICAgICAgc3RhdGUuc2V0dGluZyA9IHNldHRpbmc7CiAgICB9LAogICAgU0VUX1NUQVRVUzogZnVuY3Rpb24gU0VUX1NUQVRVUyhzdGF0ZSwgc3RhdHVzKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9IHN0YXR1czsKICAgIH0sCiAgICBTRVRfTkFNRTogZnVuY3Rpb24gU0VUX05BTUUoc3RhdGUsIG5hbWUpIHsKICAgICAgc3RhdGUubmFtZSA9IG5hbWU7CiAgICB9LAogICAgU0VUX0FWQVRBUjogZnVuY3Rpb24gU0VUX0FWQVRBUihzdGF0ZSwgYXZhdGFyKSB7CiAgICAgIHN0YXRlLmF2YXRhciA9IGF2YXRhciB8fCAnJzsKICAgIH0sCiAgICBTRVRfUk9MRVM6IGZ1bmN0aW9uIFNFVF9ST0xFUyhzdGF0ZSwgcm9sZXMpIHsKICAgICAgc3RhdGUucm9sZXMgPSByb2xlczsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIC8vIOeUqOaIt+WQjeeZu+W9lQogICAgTG9naW5CeVVzZXJuYW1lOiBmdW5jdGlvbiBMb2dpbkJ5VXNlcm5hbWUoX3JlZiwgdXNlckluZm8pIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICB2YXIgdXNlcm5hbWUgPSB1c2VySW5mby51c2VybmFtZS50cmltKCk7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgbG9naW4oewogICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLAogICAgICAgICAgcGFzc3dvcmQ6IHVzZXJJbmZvLnBhc3N3b3JkCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgZGF0YS50b2tlbik7CiAgICAgICAgICBzZXRUb2tlbihyZXNwb25zZS5kYXRhLnRva2VuKTsKICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOiOt+WPlueUqOaIt+S/oeaBrwogICAgR2V0VXNlckluZm86IGZ1bmN0aW9uIEdldFVzZXJJbmZvKF9yZWYyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQsCiAgICAgICAgc3RhdGUgPSBfcmVmMi5zdGF0ZTsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBwcm9maWxlKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIGNvbW1pdCgnU0VUX1JPTEVTJywgZGF0YS5yb2xlcyk7IC8vIOadg+mZkOaVsOe7hCByb2xlcwogICAgICAgICAgY29tbWl0KCdTRVRfTkFNRScsIGRhdGEubmFtZSk7CiAgICAgICAgICBjb21taXQoJ1NFVF9BVkFUQVInLCBkYXRhLmF2YXRhcik7CiAgICAgICAgICBjb21taXQoJ1NFVF9JTlRST0RVQ1RJT04nLCBkYXRhLmludHJvZHVjdGlvbik7CiAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOesrOS4ieaWuemqjOivgeeZu+W9lQogICAgLy8gTG9naW5CeVRoaXJkcGFydHkoeyBjb21taXQsIHN0YXRlIH0sIGNvZGUpIHsKICAgIC8vICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgIC8vICAgICBjb21taXQoJ1NFVF9DT0RFJywgY29kZSkKICAgIC8vICAgICBsb2dpbkJ5VGhpcmRwYXJ0eShzdGF0ZS5zdGF0dXMsIHN0YXRlLmVtYWlsLCBzdGF0ZS5jb2RlKS50aGVuKHJlc3BvbnNlID0+IHsKICAgIC8vICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgcmVzcG9uc2UuZGF0YS50b2tlbikKICAgIC8vICAgICAgIHNldFRva2VuKHJlc3BvbnNlLmRhdGEudG9rZW4pCiAgICAvLyAgICAgICByZXNvbHZlKCkKICAgIC8vICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAvLyAgICAgICByZWplY3QoZXJyb3IpCiAgICAvLyAgICAgfSkKICAgIC8vICAgfSkKICAgIC8vIH0sCiAgICAvLyDnmbvlh7oKICAgIExvZ091dDogZnVuY3Rpb24gTG9nT3V0KF9yZWYzKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQsCiAgICAgICAgc3RhdGUgPSBfcmVmMy5zdGF0ZTsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBsb2dvdXQoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgJycpOwogICAgICAgICAgY29tbWl0KCdTRVRfUk9MRVMnLCBbXSk7CiAgICAgICAgICByZW1vdmVUb2tlbigpOwogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5YmN56uvIOeZu+WHugogICAgRmVkTG9nT3V0OiBmdW5jdGlvbiBGZWRMb2dPdXQoX3JlZjQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCAnJyk7CiAgICAgICAgcmVtb3ZlVG9rZW4oKTsKICAgICAgICByZXNvbHZlKCk7CiAgICAgIH0pOwogICAgfQogIH0KfTsKZXhwb3J0IGRlZmF1bHQgdXNlcjs="},{"version":3,"names":["login","logout","profile","getToken","setToken","removeToken","user","state","status","code","token","name","avatar","introduction","roles","setting","articlePlatform","mutations","SET_CODE","SET_TOKEN","SET_INTRODUCTION","SET_SETTING","SET_STATUS","SET_NAME","SET_AVATAR","SET_ROLES","actions","LoginByUsername","userInfo","commit","username","trim","Promise","resolve","reject","password","then","response","data","catch","error","GetUserInfo","LogOut","FedLogOut"],"sources":["/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-dashboard/store/user.js"],"sourcesContent":["import { login, logout, profile } from '@/api/base/frame'\nimport { getToken, setToken, removeToken } from '@/utils/auth'\n\nconst user = {\n  state: {\n    user: '',\n    status: '',\n    code: '',\n    token: getToken(),\n    name: '',\n    avatar: '',\n    introduction: '',\n    roles: [],\n    setting: {\n      articlePlatform: []\n    }\n  },\n\n  mutations: {\n    SET_CODE: (state, code) => {\n      state.code = code\n    },\n    SET_TOKEN: (state, token) => {\n      state.token = token\n    },\n    SET_INTRODUCTION: (state, introduction) => {\n      state.introduction = introduction\n    },\n    SET_SETTING: (state, setting) => {\n      state.setting = setting\n    },\n    SET_STATUS: (state, status) => {\n      state.status = status\n    },\n    SET_NAME: (state, name) => {\n      state.name = name\n    },\n    SET_AVATAR: (state, avatar) => {\n      state.avatar = avatar || ''\n    },\n    SET_ROLES: (state, roles) => {\n      state.roles = roles\n    }\n  },\n\n  actions: {\n    // 用户名登录\n    LoginByUsername ({ commit }, userInfo) {\n      const username = userInfo.username.trim()\n      return new Promise((resolve, reject) => {\n        login({\n          username: username,\n          password: userInfo.password\n        }).then(response => {\n          const data = response.data\n          commit('SET_TOKEN', data.token)\n          setToken(response.data.token)\n          resolve()\n        }).catch(error => {\n          reject(error)\n        })\n      })\n    },\n\n    // 获取用户信息\n    GetUserInfo ({ commit, state }) {\n      return new Promise((resolve, reject) => {\n        profile().then(response => {\n          const data = response.data\n          commit('SET_ROLES', data.roles) // 权限数组 roles\n          commit('SET_NAME', data.name)\n          commit('SET_AVATAR', data.avatar)\n          commit('SET_INTRODUCTION', data.introduction)\n          resolve(response)\n        }).catch(error => {\n          reject(error)\n        })\n      })\n    },\n\n    // 第三方验证登录\n    // LoginByThirdparty({ commit, state }, code) {\n    //   return new Promise((resolve, reject) => {\n    //     commit('SET_CODE', code)\n    //     loginByThirdparty(state.status, state.email, state.code).then(response => {\n    //       commit('SET_TOKEN', response.data.token)\n    //       setToken(response.data.token)\n    //       resolve()\n    //     }).catch(error => {\n    //       reject(error)\n    //     })\n    //   })\n    // },\n\n    // 登出\n    LogOut ({ commit, state }) {\n      return new Promise((resolve, reject) => {\n        logout().then(() => {\n          commit('SET_TOKEN', '')\n          commit('SET_ROLES', [])\n          removeToken()\n          resolve()\n        }).catch(error => {\n          reject(error)\n        })\n      })\n    },\n\n    // 前端 登出\n    FedLogOut ({ commit }) {\n      return new Promise(resolve => {\n        commit('SET_TOKEN', '')\n        removeToken()\n        resolve()\n      })\n    }\n\n  }\n}\n\nexport default user\n"],"mappings":"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"}]}