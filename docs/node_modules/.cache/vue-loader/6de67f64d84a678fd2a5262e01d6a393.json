{"remainingRequest":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-hmmm/pages/questions-randoms.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-hmmm/pages/questions-randoms.vue","mtime":1668413397481},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/babel-loader/lib/index.js","mtime":1667719626894},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js","mtime":1666491603796}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHJhbmRvbXMsIHJlbW92ZVJhbmRvbXMsIGRldGFpbCB9IGZyb20gJ0AvYXBpL2htbW0vcXVlc3Rpb25zJwppbXBvcnQgeyBkaWZmaWN1bHR5LCBxdWVzdGlvblR5cGUgfSBmcm9tICdAL2FwaS9obW1tL2NvbnN0YW50cycKaW1wb3J0IFF1ZXN0aW9uc1ByZXZpZXcgZnJvbSAnLi4vY29tcG9uZW50cy9xdWVzdGlvbnMtcHJldmlldy52dWUnCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUXVlc3Rpb25zUmFuZG9tJywKICBjb21wb25lbnRzOiB7CiAgICBRdWVzdGlvbnNQcmV2aWV3CiAgfSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpZmZpY3VsdHksCiAgICAgIHF1ZXN0aW9uVHlwZSwKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgcXVlc3Rpb25CdG46IHt9LAogICAgICBzaG93RGlhbG9nOiBmYWxzZSwKICAgICAgbGlzdDoge30sCiAgICAgIGxpc3QyOiB7fSwKICAgICAgcXVlc3Rpb25pZHM6IFtdLAogICAgICBpZDogMCwKICAgICAgZGF0YTogewogICAgICAgIGtleXdvcms6ICcnLAogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgcGFnZXNpemU6IDEwCiAgICAgIH0sCiAgICAgIHRvdGFsOiAwCiAgICB9CiAgfSwKICBjcmVhdGVkICgpIHsKICAgIHRoaXMuZ2V0UXVlc3Rpb25zUmFuZG9tcygpCiAgICBmb3IgKGNvbnN0IGsgaW4gdGhpcy50YWJsZURhdGEpIHsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy50YWJsZURhdGFba10ucXVlc3Rpb25JRHMpCiAgICAgIGNvbnN0IGFyciA9IFtdCgogICAgICB0aGlzLnRhYmxlRGF0YVtrXS5xdWVzdGlvbklEcy5tYXAoKHN1YikgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKHN1Yi5udW1iZXIpCiAgICAgICAgLy8gYXJyLnB1c2goc3ViLm51bWJlcikKICAgICAgICBhcnIucHVzaChzdWIubnVtYmVyKQogICAgICAgIC8vIHRoaXMudGFibGVEYXRhW2tdLnF1ZXN0aW9uSURzID0gc3ViLm51bWJlcgogICAgICAgIC8vIGNvbnNvbGUubG9nKGFycikKICAgICAgICBjb25zb2xlLmxvZyhhcnIpCgogICAgICAgIHJldHVybiBhcnIKICAgICAgfSkKICAgICAgdGhpcy50YWJsZURhdGFba10ucXVlc3Rpb25JRHMgPSBhcnIKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWIhumhteiuvue9rgogICAgaGFuZGxlU2l6ZUNoYW5nZSAodmFsKSB7CiAgICAgIHRoaXMuZGF0YS5wYWdlc2l6ZSA9IHZhbAogICAgICB0aGlzLmdldFF1ZXN0aW9uc1JhbmRvbXMoKQogICAgICB0aGlzLmRhdGEucGFnZSA9IDEKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlICh2YWwpIHsKICAgICAgdGhpcy5kYXRhLnBhZ2UgPSB2YWwKICAgICAgdGhpcy5nZXRRdWVzdGlvbnNSYW5kb21zKCkKICAgIH0sCiAgICAvLyDpopjnm67nvJblj7cKICAgIGFzeW5jIGhhbmRsZUJ0biAocm93KSB7CiAgICAgIHRoaXMuc2hvd0RpYWxvZyA9IHRydWUKICAgICAgY29uc29sZS5sb2cocm93KQogICAgICB0aGlzLmlkID0gcm93LnF1ZXN0aW9uSURzWzBdLmlkCiAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgZGV0YWlsKHsgaWQ6IHJvdy5xdWVzdGlvbklEc1swXS5pZCB9KQogICAgICB0aGlzLmxpc3QyID0gZGF0YQogICAgICBjb25zb2xlLmxvZyhkYXRhKQogICAgfSwKICAgIC8vIOaVsOaNrua4suafkwogICAgYXN5bmMgZ2V0UXVlc3Rpb25zUmFuZG9tcyAoKSB7CiAgICAgIC8vIGNvbnN0IHsKICAgICAgLy8gICBkYXRhOiB7IGl0ZW1zIH0KICAgICAgLy8gfSA9IGF3YWl0IHJhbmRvbXModGhpcy5kYXRhKQogICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHJhbmRvbXModGhpcy5kYXRhKQogICAgICBjb25zb2xlLmxvZyhkYXRhKQogICAgICB0aGlzLnRhYmxlRGF0YSA9IGRhdGEuaXRlbXMKICAgICAgdGhpcy50b3RhbCA9IGRhdGEuY291bnRzCiAgICAgIHRoaXMudGFibGVEYXRhLm1hcCgoaXRlbSkgPT4gewogICAgICAgIGlmIChpdGVtLnF1ZXN0aW9uVHlwZSA9PT0gJzEnKSB7CiAgICAgICAgICBpdGVtLnF1ZXN0aW9uVHlwZSA9ICfljZXpgIknCiAgICAgICAgfQogICAgICAgIGlmIChpdGVtLnF1ZXN0aW9uVHlwZSA9PT0gJzInKSB7CiAgICAgICAgICBpdGVtLnF1ZXN0aW9uVHlwZSA9ICflpJrpgIknCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGl0ZW0ucXVlc3Rpb25UeXBlID0gJ+eugOetlCcKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGl0ZW0ucXVlc3Rpb25UeXBlCiAgICAgIH0pCiAgICB9LAogICAgLy8g5pWw5o2u5p+l5om+CiAgICBhc3luYyBzZXJhY2ggKGRhdGEpIHsKICAgICAgdGhpcy5kYXRhLmtleXdvcmsgPSBkYXRhCiAgICAgIGF3YWl0IHRoaXMuZ2V0UXVlc3Rpb25zUmFuZG9tcygpCiAgICB9LAogICAgLy8g5riF6Zmk5pWw5o2uCiAgICBjbGVhciAoKSB7CiAgICAgIHRoaXMuZGF0YS5rZXl3b3JkID0gJycKICAgIH0sCiAgICAvLyDliKDpmaTmlbDmja4KICAgIGRlbEVtcGxveWVlIChpZCkgewogICAgICBjb25zb2xlLmxvZyhpZCkKICAgICAgdGhpcy4kY29uZmlybSgn56Gu5a6a6KaB5Yig6Zmk6K+l5ZGY5belPycsICfmuKnppqjmj5DnpLonKQogICAgICAgIC50aGVuKGFzeW5jICgpID0+IHsKICAgICAgICAgIGF3YWl0IHJlbW92ZVJhbmRvbXMoeyBpZCB9KQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTmiJDlip8nKQogICAgICAgICAgaWYgKHRoaXMudGFibGVEYXRhLmxlbmd0aCA9PT0gMSAmJiB0aGlzLmRhdGEucGFnZSA+IDEpIHsKICAgICAgICAgICAgdGhpcy5kYXRhLnBhZ2UtLQogICAgICAgICAgfQogICAgICAgICAgdGhpcy5nZXRRdWVzdGlvbnNSYW5kb21zKCkKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygn5Y+W5raIJykKICAgICAgICB9KQogICAgfSwKICAgIC8vIOmimOe7hOagvOW8j+WMlgogICAgZm9ybWF0dGVycXVlICgpIHsKICAgICAgLy8gY29uc29sZS5sb2cocm93KQogICAgICBjb25zdCBhcnIgPSB0aGlzLnRhYmxlRGF0YS5xdWVzdGlvbklEcy5tYXAoKGl0ZW0pID0+IHsKICAgICAgICBhcnIucHVzaChpdGVtLm51bWJlcikKICAgICAgfSkKICAgICAgcmV0dXJuIGFycgogICAgfQogIH0KfQo="},{"version":3,"sources":["questions-randoms.vue"],"names":[],"mappings":";AA4GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"questions-randoms.vue","sourceRoot":"src/module-hmmm/pages","sourcesContent":["<template>\n  <div class=\"dashboard-container\">\n    <div class=\"app-container\">\n      <el-card shadow=\"never\">\n        <el-form label-width=\"80px\" size=\"small\">\n          <el-row>\n            <el-col :span=\"6\">\n              <el-form-item label=\"关键字\">\n                <el-input style=\"200px\" placeholder=\"根据编号搜索\" v-model=\"data.keyword\"></el-input>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"6\" :offset=\"12\">\n              <el-form-item style=\"text-align: right\">\n                <el-button @click=\"clear()\">清除</el-button>\n                <el-button type=\"primary\" @click=\"serach(data.keywork)\">搜索</el-button>\n              </el-form-item>\n            </el-col>\n          </el-row>\n        </el-form>\n        <el-alert\n          :title=\"`数据一共${total}条`\"\n          type=\"info\"\n          class=\"alert\"\n          :closable=\"false\"\n          show-icon\n        ></el-alert>\n\n          <el-table :data=\"tableData\" style=\"width: 100%\">\n                    <template ref=\"tabledata\">\n            <el-table-column\n              fixed\n              prop=\"id\"\n              label=\"编号\"\n\n            ></el-table-column>\n            <el-table-column\n              prop=\"questionType\"\n              label=\"题型\"\n\n            ></el-table-column>\n            <el-table-column label=\"题目编号\">\n              <template #default=\"{row}\">\n                <div v-for=\"item in row.questionIDs\"\n                :key=\"item.number\"><a\n                href=\"#\"\n                style=\"color: #01c6fa;\"\n\n                @click=\"handleBtn(row)\"\n                >{{ item.number }}</a\n              ></div>\n              </template>\n            </el-table-column>\n            <el-table-column\n              prop=\"addTime\"\n              label=\"录入时间\"\n\n            ></el-table-column>\n            <el-table-column\n              prop=\"totalSeconds\"\n              label=\"答题时间(s)\"\n\n            ></el-table-column>\n            <el-table-column\n              prop=\"accuracyRate\"\n              label=\"正确率(%)\"\n\n            ></el-table-column>\n            <el-table-column\n              prop=\"userName\"\n              label=\"录入人\"\n\n            ></el-table-column>\n            <el-table-column icon=\"el-icon-delete\" label=\"操作\" width=\"80\">\n              <template #default=\"{ row }\">\n                <el-button\n                  type=\"danger\"\n                  size=\"small\"\n                  plain\n                  circle\n                  icon=\"el-icon-delete\"\n                  @click=\"delEmployee(row.id)\"\n                  title=\"删除\"\n                ></el-button>\n              </template>\n            </el-table-column>\n                    </template>\n          </el-table>\n\n      </el-card>\n       <el-pagination\n       style=\"text-align: right;\"\n       @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :page-sizes=\"[20, 30, 50, 200]\"\n      :current-page=\"data.page\"\n      :page-size=\"data.pagesize\"\n      layout=\" prev, pager, next, sizes, jumper\"\n      :total=\"total\">\n    </el-pagination>\n      <questions-preview\n        :showDialog.sync=\"showDialog\"\n        :list2=\"list2\"\n      ></questions-preview>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { randoms, removeRandoms, detail } from '@/api/hmmm/questions'\nimport { difficulty, questionType } from '@/api/hmmm/constants'\nimport QuestionsPreview from '../components/questions-preview.vue'\nexport default {\n  name: 'QuestionsRandom',\n  components: {\n    QuestionsPreview\n  },\n  data () {\n    return {\n      difficulty,\n      questionType,\n      tableData: [],\n      questionBtn: {},\n      showDialog: false,\n      list: {},\n      list2: {},\n      questionids: [],\n      id: 0,\n      data: {\n        keywork: '',\n        page: 1,\n        pagesize: 10\n      },\n      total: 0\n    }\n  },\n  created () {\n    this.getQuestionsRandoms()\n    for (const k in this.tableData) {\n      // console.log(this.tableData[k].questionIDs)\n      const arr = []\n\n      this.tableData[k].questionIDs.map((sub) => {\n        // console.log(sub.number)\n        // arr.push(sub.number)\n        arr.push(sub.number)\n        // this.tableData[k].questionIDs = sub.number\n        // console.log(arr)\n        console.log(arr)\n\n        return arr\n      })\n      this.tableData[k].questionIDs = arr\n    }\n  },\n  methods: {\n    // 分页设置\n    handleSizeChange (val) {\n      this.data.pagesize = val\n      this.getQuestionsRandoms()\n      this.data.page = 1\n    },\n    handleCurrentChange (val) {\n      this.data.page = val\n      this.getQuestionsRandoms()\n    },\n    // 题目编号\n    async handleBtn (row) {\n      this.showDialog = true\n      console.log(row)\n      this.id = row.questionIDs[0].id\n      const { data } = await detail({ id: row.questionIDs[0].id })\n      this.list2 = data\n      console.log(data)\n    },\n    // 数据渲染\n    async getQuestionsRandoms () {\n      // const {\n      //   data: { items }\n      // } = await randoms(this.data)\n      const { data } = await randoms(this.data)\n      console.log(data)\n      this.tableData = data.items\n      this.total = data.counts\n      this.tableData.map((item) => {\n        if (item.questionType === '1') {\n          item.questionType = '单选'\n        }\n        if (item.questionType === '2') {\n          item.questionType = '多选'\n        } else {\n          item.questionType = '简答'\n        }\n        return item.questionType\n      })\n    },\n    // 数据查找\n    async serach (data) {\n      this.data.keywork = data\n      await this.getQuestionsRandoms()\n    },\n    // 清除数据\n    clear () {\n      this.data.keyword = ''\n    },\n    // 删除数据\n    delEmployee (id) {\n      console.log(id)\n      this.$confirm('确定要删除该员工?', '温馨提示')\n        .then(async () => {\n          await removeRandoms({ id })\n          this.$message.success('删除成功')\n          if (this.tableData.length === 1 && this.data.page > 1) {\n            this.data.page--\n          }\n          this.getQuestionsRandoms()\n        })\n        .catch(() => {\n          console.log('取消')\n        })\n    },\n    // 题组格式化\n    formatterque () {\n      // console.log(row)\n      const arr = this.tableData.questionIDs.map((item) => {\n        arr.push(item.number)\n      })\n      return arr\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.question-container {\n  padding: 0 10px;\n  margin: 10px 0;\n}\n.btn_wrapper {\n  margin-bottom: 15px;\n\n}\n</style>\n"]}]}