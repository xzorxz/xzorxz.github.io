{"remainingRequest":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-hmmm/components/subjects-add.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-hmmm/components/subjects-add.vue","mtime":1668475987742},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/thread-loader/dist/cjs.js","mtime":1666491532143},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/babel-loader/lib/index.js","mtime":1667719626894},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js","mtime":1666491603796}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHVwZGF0ZSwgYWRkIH0gZnJvbSAnQC9hcGkvaG1tbS9zdWJqZWN0cy5qcycKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdTdWJqZWN0c0FkZCcsCiAgcHJvcHM6IHsKICAgIHZpc2libGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICAvLyDniLbnu4Tku7bkvKDlm57mmL5pZAogICAgZm9ybUlkOiB7CiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0KICB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgdGl0bGU6ICfmlrDlop7lrabnp5EnLAogICAgICBzdWJqZWN0TmFtZTogJycsCiAgICAgIGZvcm06IHsKICAgICAgICBpZDogJycsCiAgICAgICAgc3ViamVjdE5hbWU6ICcnLAogICAgICAgIGlzRnJvbnREaXNwbGF5OiAwCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgc3ViamVjdE5hbWU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICflrabnp5HlkI3kuI3og73kuLrnqbonLCB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10gfQogICAgICAgIF0KICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g5YWz6Zet5by556qX5pa55rOVCiAgICBjYW5jZWwgKCkgewogICAgICB0aGlzLiRlbWl0KCdjbG9zZURpYWxvZycpCiAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldEZpZWxkcygpCiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICBpZDogJycsCiAgICAgICAgc3ViamVjdE5hbWU6ICcnLAogICAgICAgIGlzRnJvbnREaXNwbGF5OiAwCiAgICAgIH0KICAgIH0sCgogICAgLy8g5re75Yqg5Y+K5paw5aKe55qE5pa55rOVCiAgICBhZGRTdWJqZWN0cyAoKSB7CiAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZShhc3luYyAodmFsaWQpID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmICh0aGlzLmZvcm1JZCkgewogICAgICAgICAgICB0aGlzLmZvcm0uaWQgPSB0aGlzLmZvcm1JZAogICAgICAgICAgICBhd2FpdCB1cGRhdGUodGhpcy5mb3JtKQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYXdhaXQgYWRkKHRoaXMuZm9ybSkKICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5mb3JtKQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmk43kvZzlpLHotKUnKQogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlRGlhbG9nJykKICAgICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXRGaWVsZHMoKQogICAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICAgIHN1YmplY3ROYW1lOiAnJywKICAgICAgICAgIGlzRnJvbnREaXNwbGF5OiAwCiAgICAgICAgfQogICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["subjects-add.vue"],"names":[],"mappings":";AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"subjects-add.vue","sourceRoot":"src/module-hmmm/components","sourcesContent":["<template>\n  <el-dialog :title=\"title\" :visible=\"visible\" :formId=\"formId\" width=\"30%\" @close=\"cancel\">\n    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\">\n      <el-form-item label=\"学科名称\" prop=\"subjectName\">\n        <el-input style=\"width: 60%\" v-model=\"form.subjectName\" ></el-input>\n      </el-form-item>\n      <el-form-item label=\"是否启用\">\n        <el-switch\n          v-model=\"form.isFrontDisplay\"\n          active-value=\"1\"\n          inactive-value=\"0\"\n        ></el-switch>\n      </el-form-item>\n    </el-form>\n    <span style=\"margin-left: 60%\" class=\"dialog-footer\">\n      <el-button @click=\"cancel\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"addSubjects\">确 定</el-button>\n    </span>\n  </el-dialog>\n</template>\n\n<script>\nimport { update, add } from '@/api/hmmm/subjects.js'\nexport default {\n  name: 'SubjectsAdd',\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    // 父组件传回显id\n    formId: {\n      type: [Number, String],\n      default: null\n    }\n  },\n  data () {\n    return {\n      title: '新增学科',\n      subjectName: '',\n      form: {\n        id: '',\n        subjectName: '',\n        isFrontDisplay: 0\n      },\n      rules: {\n        subjectName: [\n          { required: true, message: '学科名不能为空', trigger: ['blur', 'change'] }\n        ]\n      }\n    }\n  },\n  methods: {\n    // 关闭弹窗方法\n    cancel () {\n      this.$emit('closeDialog')\n      this.$refs.form.resetFields()\n      this.form = {\n        id: '',\n        subjectName: '',\n        isFrontDisplay: 0\n      }\n    },\n\n    // 添加及新增的方法\n    addSubjects () {\n      this.$refs.form.validate(async (valid) => {\n        if (valid) {\n          if (this.formId) {\n            this.form.id = this.formId\n            await update(this.form)\n          } else {\n            await add(this.form)\n            // console.log(this.form)\n          }\n        } else {\n          this.$message.error('操作失败')\n          return false\n        }\n        this.$emit('closeDialog')\n        this.$refs.form.resetFields()\n        this.form = {\n          subjectName: '',\n          isFrontDisplay: 0\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped lang='less'></style>\n"]}]}