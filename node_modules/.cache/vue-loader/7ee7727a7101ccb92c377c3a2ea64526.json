{"remainingRequest":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-hmmm/components/articles-add.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-hmmm/components/articles-add.vue","mtime":1668475987739},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/thread-loader/dist/cjs.js","mtime":1666491532143},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/babel-loader/lib/index.js","mtime":1667719626894},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js","mtime":1666491603796}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCAncXVpbGwvZGlzdC9xdWlsbC5jb3JlLmNzcycKaW1wb3J0ICdxdWlsbC9kaXN0L3F1aWxsLnNub3cuY3NzJwppbXBvcnQgJ3F1aWxsL2Rpc3QvcXVpbGwuYnViYmxlLmNzcycKaW1wb3J0IHsgcXVpbGxFZGl0b3IgfSBmcm9tICd2dWUtcXVpbGwtZWRpdG9yJwppbXBvcnQgaGxqcyBmcm9tICdoaWdobGlnaHQuanMnCmltcG9ydCAnaGlnaGxpZ2h0LmpzL3N0eWxlcy92czIwMTUuY3NzJwppbXBvcnQgeyBhZGQsIHVwZGF0ZSB9IGZyb20gJ0AvYXBpL2htbW0vYXJ0aWNsZXMnCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXJ0aWNsZXNBZGQnLAogIGNvbXBvbmVudHM6IHsKICAgIHF1aWxsRWRpdG9yCiAgfSwKICBwcm9wczogewogICAgc2hvd0RpYWxvZzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHBhcnRpY3VsYXJzOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g6KGo5Y2V5pWw5o2uCiAgICAgIGZvcm06IHsKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgYXJ0aWNsZUJvZHk6ICcnLAogICAgICAgIHZpZGVvVVJMOiAnJwogICAgICB9LAogICAgICBkaWFsb2dUaXRsZTogJycsCiAgICAgIC8vIOihqOWNleagoemqjOinhOWImQogICAgICBydWxlczogewogICAgICAgIHRpdGxlOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5paH56ug5qCH6aKYJywgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddIH0KICAgICAgICBdLAogICAgICAgIGFydGljbGVCb2R5OiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5paH56ug5YaF5a65JywgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgIGVkaXRvck9wdGlvbnM6IHsKICAgICAgICBwbGFjZWhvbGRlcjogJycsCiAgICAgICAgbW9kdWxlczogewogICAgICAgICAgdG9vbGJhcjogWwogICAgICAgICAgICBbJ2JvbGQnLCAnaXRhbGljJywgJ3VuZGVybGluZScsICdzdHJpa2UnXSwKICAgICAgICAgICAgW3sgbGlzdDogJ29yZGVyZWQnIH0sIHsgbGlzdDogJ2J1bGxldCcgfV0sCiAgICAgICAgICAgIFsnYmxvY2txdW90ZSddLAogICAgICAgICAgICBbJ2NvZGUtYmxvY2snLCAnaW1hZ2UnLCAnbGluayddCiAgICAgICAgICBdLAogICAgICAgICAgLy8g6K+t5rOV6auY5LquCiAgICAgICAgICBzeW50YXg6IHsKICAgICAgICAgICAgaGlnaGxpZ2h0OiAodGV4dCkgPT4gaGxqcy5oaWdobGlnaHRBdXRvKHRleHQpLnZhbHVlCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBpc1Nob3c6IGZhbHNlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDlhbPpl63lr7nor53moYYKICAgIGNsb3NlRGlhbG9nICgpIHsKICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIHRpdGxlOiAnJywKICAgICAgICBhcnRpY2xlQm9keTogJycsCiAgICAgICAgdmlkZW9VUkw6ICcnCiAgICAgIH0KICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnNob3dEaWFsb2cnLCBmYWxzZSkKICAgICAgdGhpcy4kcmVmcy5mb3JtUmVmLnJlc2V0RmllbGRzKCkKICAgIH0sCiAgICAvLyDmt7vliqDmioDlt6cKICAgIGhhbmRsZVN1Ym1pdCAoKSB7CiAgICAgIC8vIOmihOagoemqjAogICAgICB0aGlzLiRyZWZzLmZvcm1SZWYudmFsaWRhdGUoYXN5bmMgYm9vID0+IHsKICAgICAgICBpZiAoIWJvbykgcmV0dXJuCiAgICAgICAgaWYgKHRoaXMucGFydGljdWxhcnMudHlwZSA9PT0gJ2FkZCcpIHsKICAgICAgICAgIGF3YWl0IGFkZCh0aGlzLmZvcm0pCiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBhcnRpY3VsYXJzLnR5cGUgPT09ICdlZGl0JykgewogICAgICAgICAgYXdhaXQgdXBkYXRlKHsgLi4udGhpcy5mb3JtLCBpZDogdGhpcy5wYXJ0aWN1bGFycy5pZCB9KQogICAgICAgIH0KICAgICAgICAvLyDlhbPpl63lr7nor53moYYg6YeN572u6KGo5Y2VCiAgICAgICAgdGhpcy5jbG9zZURpYWxvZygpCiAgICAgICAgLy8g6YCa55+l54i257uE5Lu26YeN5paw6I635Y+W5pWw5o2uCiAgICAgICAgdGhpcy4kZW1pdCgncmVsb2FkJykKICAgICAgfSkKICAgIH0sCiAgICBvcGVuRGlhbG9nICgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5wYXJ0aWN1bGFycywgJzY2NjY2NjYnKQogICAgICBpZiAodGhpcy5wYXJ0aWN1bGFycy50eXBlID09PSAnYWRkJykgewogICAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAn5re75Yqg5oqA5benJwogICAgICB9CiAgICAgIGlmICh0aGlzLnBhcnRpY3VsYXJzLnR5cGUgPT09ICdlZGl0JykgewogICAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAn5L+u5pS5JwogICAgICAgIHRoaXMuZm9ybS50aXRsZSA9IHRoaXMucGFydGljdWxhcnMudGl0bGUKICAgICAgICB0aGlzLmZvcm0uYXJ0aWNsZUJvZHkgPSB0aGlzLnBhcnRpY3VsYXJzLmFydGljbGVCb2R5CiAgICAgICAgdGhpcy5mb3JtLnZpZGVvVVJMID0gdGhpcy5wYXJ0aWN1bGFycy52aWRlb1VSTAogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["articles-add.vue"],"names":[],"mappings":";AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"articles-add.vue","sourceRoot":"src/module-hmmm/components","sourcesContent":["<template>\n  <div class='container'>\n    <el-dialog :title=\"dialogTitle\" :visible=\"showDialog\" @close=\"closeDialog\" @click.native=\"isShow=false\" @open=\"openDialog\">\n    <!-- 表单 -->\n    <el-form ref=\"formRef\" label-width=\"120px\" :model=\"form\" :rules=\"rules\">\n      <el-form-item label=\"文章标题\" prop=\"title\">\n        <el-input v-model=\"form.title\" style=\"width:50%\" placeholder=\"请输入文章标题\" />\n      </el-form-item>\n      <el-form-item label=\"文章内容\" prop=\"articleBody\">\n        <quill-editor\n        v-model=\"form.articleBody\"\n        :options=\"editorOptions\"\n        @blur=\"$refs.formRef.validateField('articleBody')\"\n        >\n        </quill-editor>\n      </el-form-item>\n      <el-form-item label=\"视频地址\" prop=\"videoURL\">\n        <el-input v-model=\"form.videoURL\" style=\"width:50%\" placeholder=\"请输入视频地址\" />\n      </el-form-item>\n    </el-form>\n    <!-- footer插槽 -->\n    <template v-slot:footer>\n      <el-button @click=\"closeDialog\">取消</el-button>\n      <el-button type=\"primary\" @click=\"handleSubmit\">确定</el-button>\n    </template>\n  </el-dialog>\n  </div>\n</template>\n\n<script>\nimport 'quill/dist/quill.core.css'\nimport 'quill/dist/quill.snow.css'\nimport 'quill/dist/quill.bubble.css'\nimport { quillEditor } from 'vue-quill-editor'\nimport hljs from 'highlight.js'\nimport 'highlight.js/styles/vs2015.css'\nimport { add, update } from '@/api/hmmm/articles'\nexport default {\n  name: 'ArticlesAdd',\n  components: {\n    quillEditor\n  },\n  props: {\n    showDialog: {\n      type: Boolean,\n      default: false\n    },\n    particulars: {\n      type: Object,\n      required: true\n    }\n  },\n  data () {\n    return {\n      // 表单数据\n      form: {\n        title: '',\n        articleBody: '',\n        videoURL: ''\n      },\n      dialogTitle: '',\n      // 表单校验规则\n      rules: {\n        title: [\n          { required: true, message: '请输入文章标题', trigger: ['blur', 'change'] }\n        ],\n        articleBody: [\n          { required: true, message: '请输入文章内容', trigger: ['blur', 'change'] }\n        ]\n      },\n      editorOptions: {\n        placeholder: '',\n        modules: {\n          toolbar: [\n            ['bold', 'italic', 'underline', 'strike'],\n            [{ list: 'ordered' }, { list: 'bullet' }],\n            ['blockquote'],\n            ['code-block', 'image', 'link']\n          ],\n          // 语法高亮\n          syntax: {\n            highlight: (text) => hljs.highlightAuto(text).value\n          }\n        }\n      },\n      isShow: false\n    }\n  },\n  methods: {\n    // 关闭对话框\n    closeDialog () {\n      this.form = {\n        title: '',\n        articleBody: '',\n        videoURL: ''\n      }\n      this.$emit('update:showDialog', false)\n      this.$refs.formRef.resetFields()\n    },\n    // 添加技巧\n    handleSubmit () {\n      // 预校验\n      this.$refs.formRef.validate(async boo => {\n        if (!boo) return\n        if (this.particulars.type === 'add') {\n          await add(this.form)\n        } else if (this.particulars.type === 'edit') {\n          await update({ ...this.form, id: this.particulars.id })\n        }\n        // 关闭对话框 重置表单\n        this.closeDialog()\n        // 通知父组件重新获取数据\n        this.$emit('reload')\n      })\n    },\n    openDialog () {\n      console.log(this.particulars, '6666666')\n      if (this.particulars.type === 'add') {\n        this.dialogTitle = '添加技巧'\n      }\n      if (this.particulars.type === 'edit') {\n        this.dialogTitle = '修改'\n        this.form.title = this.particulars.title\n        this.form.articleBody = this.particulars.articleBody\n        this.form.videoURL = this.particulars.videoURL\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n::v-deep .ql-editor {\n  height: 200px;\n}\n::v-deep .ql-toolbar.ql-snow {\n  padding: 0 8px;\n}\n</style>\n"]}]}