{"remainingRequest":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-hmmm/pages/questions-randoms.vue?vue&type=style&index=0&id=48a0d8d3&scoped=true&lang=scss&","dependencies":[{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-hmmm/pages/questions-randoms.vue","mtime":1668475987751},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/css-loader/dist/cjs.js","mtime":1666491586395},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1666491603796},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/postcss-loader/src/index.js","mtime":1666491592715},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/sass-loader/dist/cjs.js","mtime":1666491618412},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js","mtime":1666491603796}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5xdWVzdGlvbi1jb250YWluZXIgewogIHBhZGRpbmc6IDAgMTBweDsKICBtYXJnaW46IDEwcHggMDsKfQouYnRuX3dyYXBwZXIgewogIG1hcmdpbi1ib3R0b206IDE1cHg7Cgp9Cg=="},{"version":3,"sources":["questions-randoms.vue"],"names":[],"mappings":";AAyOA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"questions-randoms.vue","sourceRoot":"src/module-hmmm/pages","sourcesContent":["<template>\n  <div class=\"dashboard-container\">\n    <div class=\"app-container\">\n      <el-card shadow=\"never\">\n        <el-form label-width=\"80px\" size=\"small\">\n          <el-row>\n            <el-col :span=\"6\">\n              <el-form-item label=\"关键字\">\n                <el-input style=\"200px\" placeholder=\"根据编号搜索\" v-model=\"data.keyword\"></el-input>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"6\" :offset=\"12\">\n              <el-form-item style=\"text-align: right\">\n                <el-button @click=\"clear()\">清除</el-button>\n                <el-button type=\"primary\" @click=\"serach(data.keywork)\">搜索</el-button>\n              </el-form-item>\n            </el-col>\n          </el-row>\n        </el-form>\n        <el-alert\n          :title=\"`数据一共${total}条`\"\n          type=\"info\"\n          class=\"alert\"\n          :closable=\"false\"\n          show-icon\n        ></el-alert>\n\n          <el-table :data=\"tableData\" style=\"width: 100%\">\n                    <template ref=\"tabledata\">\n            <el-table-column\n              fixed\n              prop=\"id\"\n              label=\"编号\"\n\n            ></el-table-column>\n            <el-table-column\n              prop=\"questionType\"\n              label=\"题型\"\n\n            ></el-table-column>\n            <el-table-column label=\"题目编号\">\n              <template #default=\"{row}\">\n                <div v-for=\"item in row.questionIDs\"\n                :key=\"item.number\"><a\n                href=\"#\"\n                style=\"color: #01c6fa;\"\n\n                @click=\"handleBtn(row)\"\n                >{{ item.number }}</a\n              ></div>\n              </template>\n            </el-table-column>\n            <el-table-column\n              prop=\"addTime\"\n              label=\"录入时间\"\n\n            ></el-table-column>\n            <el-table-column\n              prop=\"totalSeconds\"\n              label=\"答题时间(s)\"\n\n            ></el-table-column>\n            <el-table-column\n              prop=\"accuracyRate\"\n              label=\"正确率(%)\"\n\n            ></el-table-column>\n            <el-table-column\n              prop=\"userName\"\n              label=\"录入人\"\n\n            ></el-table-column>\n            <el-table-column icon=\"el-icon-delete\" label=\"操作\" width=\"80\">\n              <template #default=\"{ row }\">\n                <el-button\n                  type=\"danger\"\n                  size=\"small\"\n                  plain\n                  circle\n                  icon=\"el-icon-delete\"\n                  @click=\"delEmployee(row.id)\"\n                  title=\"删除\"\n                ></el-button>\n              </template>\n            </el-table-column>\n                    </template>\n          </el-table>\n\n      </el-card>\n       <el-pagination\n       style=\"text-align: right;\"\n       @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :page-sizes=\"[20, 30, 50, 200]\"\n      :current-page=\"data.page\"\n      :page-size=\"data.pagesize\"\n      layout=\" prev, pager, next, sizes, jumper\"\n      :total=\"total\">\n    </el-pagination>\n      <questions-preview\n        :showDialog.sync=\"showDialog\"\n        :list2=\"list2\"\n      ></questions-preview>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { randoms, removeRandoms, detail } from '@/api/hmmm/questions'\nimport { difficulty, questionType } from '@/api/hmmm/constants'\nimport QuestionsPreview from '../components/questions-preview.vue'\nexport default {\n  name: 'QuestionsRandom',\n  components: {\n    QuestionsPreview\n  },\n  data () {\n    return {\n      difficulty,\n      questionType,\n      tableData: [],\n      questionBtn: {},\n      showDialog: false,\n      list: {},\n      list2: {},\n      questionids: [],\n      id: 0,\n      data: {\n        keywork: '',\n        page: 1,\n        pagesize: 10\n      },\n      total: 0\n    }\n  },\n  created () {\n    this.getQuestionsRandoms()\n    for (const k in this.tableData) {\n      // console.log(this.tableData[k].questionIDs)\n      const arr = []\n\n      this.tableData[k].questionIDs.map((sub) => {\n        // console.log(sub.number)\n        // arr.push(sub.number)\n        arr.push(sub.number)\n        // this.tableData[k].questionIDs = sub.number\n        // console.log(arr)\n        console.log(arr)\n\n        return arr\n      })\n      this.tableData[k].questionIDs = arr\n    }\n  },\n  methods: {\n    // 分页设置\n    handleSizeChange (val) {\n      this.data.pagesize = val\n      this.getQuestionsRandoms()\n      this.data.page = 1\n    },\n    handleCurrentChange (val) {\n      this.data.page = val\n      this.getQuestionsRandoms()\n    },\n    // 题目编号\n    async handleBtn (row) {\n      this.showDialog = true\n      console.log(row)\n      this.id = row.questionIDs[0].id\n      const { data } = await detail({ id: row.questionIDs[0].id })\n      this.list2 = data\n      console.log(data)\n    },\n    // 数据渲染\n    async getQuestionsRandoms () {\n      // const {\n      //   data: { items }\n      // } = await randoms(this.data)\n      const { data } = await randoms(this.data)\n      console.log(data)\n      this.tableData = data.items\n      this.total = data.counts\n      this.tableData.map((item) => {\n        if (item.questionType === '1') {\n          item.questionType = '单选'\n        }\n        if (item.questionType === '2') {\n          item.questionType = '多选'\n        } else {\n          item.questionType = '简答'\n        }\n        return item.questionType\n      })\n    },\n    // 数据查找\n    async serach (data) {\n      this.data.keywork = data\n      await this.getQuestionsRandoms()\n    },\n    // 清除数据\n    clear () {\n      this.data.keyword = ''\n    },\n    // 删除数据\n    delEmployee (id) {\n      console.log(id)\n      this.$confirm('确定要删除该员工?', '温馨提示')\n        .then(async () => {\n          await removeRandoms({ id })\n          this.$message.success('删除成功')\n          if (this.tableData.length === 1 && this.data.page > 1) {\n            this.data.page--\n          }\n          this.getQuestionsRandoms()\n        })\n        .catch(() => {\n          console.log('取消')\n        })\n    },\n    // 题组格式化\n    formatterque () {\n      // console.log(row)\n      const arr = this.tableData.questionIDs.map((item) => {\n        arr.push(item.number)\n      })\n      return arr\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.question-container {\n  padding: 0 10px;\n  margin: 10px 0;\n}\n.btn_wrapper {\n  margin-bottom: 15px;\n\n}\n</style>\n"]}]}