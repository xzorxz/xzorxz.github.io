{"remainingRequest":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-hmmm/components/articles-add.vue?vue&type=style&index=0&id=48df13b8&lang=scss&scoped=true&","dependencies":[{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-hmmm/components/articles-add.vue","mtime":1668475987739},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/css-loader/dist/cjs.js","mtime":1666491586395},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1666491603796},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/postcss-loader/src/index.js","mtime":1666491592715},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/sass-loader/dist/cjs.js","mtime":1666491618412},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js","mtime":1666491603796}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Cjo6di1kZWVwIC5xbC1lZGl0b3IgewogIGhlaWdodDogMjAwcHg7Cn0KOjp2LWRlZXAgLnFsLXRvb2xiYXIucWwtc25vdyB7CiAgcGFkZGluZzogMCA4cHg7Cn0K"},{"version":3,"sources":["articles-add.vue"],"names":[],"mappings":";AAoIA;AACA;AACA;AACA;AACA;AACA","file":"articles-add.vue","sourceRoot":"src/module-hmmm/components","sourcesContent":["<template>\n  <div class='container'>\n    <el-dialog :title=\"dialogTitle\" :visible=\"showDialog\" @close=\"closeDialog\" @click.native=\"isShow=false\" @open=\"openDialog\">\n    <!-- 表单 -->\n    <el-form ref=\"formRef\" label-width=\"120px\" :model=\"form\" :rules=\"rules\">\n      <el-form-item label=\"文章标题\" prop=\"title\">\n        <el-input v-model=\"form.title\" style=\"width:50%\" placeholder=\"请输入文章标题\" />\n      </el-form-item>\n      <el-form-item label=\"文章内容\" prop=\"articleBody\">\n        <quill-editor\n        v-model=\"form.articleBody\"\n        :options=\"editorOptions\"\n        @blur=\"$refs.formRef.validateField('articleBody')\"\n        >\n        </quill-editor>\n      </el-form-item>\n      <el-form-item label=\"视频地址\" prop=\"videoURL\">\n        <el-input v-model=\"form.videoURL\" style=\"width:50%\" placeholder=\"请输入视频地址\" />\n      </el-form-item>\n    </el-form>\n    <!-- footer插槽 -->\n    <template v-slot:footer>\n      <el-button @click=\"closeDialog\">取消</el-button>\n      <el-button type=\"primary\" @click=\"handleSubmit\">确定</el-button>\n    </template>\n  </el-dialog>\n  </div>\n</template>\n\n<script>\nimport 'quill/dist/quill.core.css'\nimport 'quill/dist/quill.snow.css'\nimport 'quill/dist/quill.bubble.css'\nimport { quillEditor } from 'vue-quill-editor'\nimport hljs from 'highlight.js'\nimport 'highlight.js/styles/vs2015.css'\nimport { add, update } from '@/api/hmmm/articles'\nexport default {\n  name: 'ArticlesAdd',\n  components: {\n    quillEditor\n  },\n  props: {\n    showDialog: {\n      type: Boolean,\n      default: false\n    },\n    particulars: {\n      type: Object,\n      required: true\n    }\n  },\n  data () {\n    return {\n      // 表单数据\n      form: {\n        title: '',\n        articleBody: '',\n        videoURL: ''\n      },\n      dialogTitle: '',\n      // 表单校验规则\n      rules: {\n        title: [\n          { required: true, message: '请输入文章标题', trigger: ['blur', 'change'] }\n        ],\n        articleBody: [\n          { required: true, message: '请输入文章内容', trigger: ['blur', 'change'] }\n        ]\n      },\n      editorOptions: {\n        placeholder: '',\n        modules: {\n          toolbar: [\n            ['bold', 'italic', 'underline', 'strike'],\n            [{ list: 'ordered' }, { list: 'bullet' }],\n            ['blockquote'],\n            ['code-block', 'image', 'link']\n          ],\n          // 语法高亮\n          syntax: {\n            highlight: (text) => hljs.highlightAuto(text).value\n          }\n        }\n      },\n      isShow: false\n    }\n  },\n  methods: {\n    // 关闭对话框\n    closeDialog () {\n      this.form = {\n        title: '',\n        articleBody: '',\n        videoURL: ''\n      }\n      this.$emit('update:showDialog', false)\n      this.$refs.formRef.resetFields()\n    },\n    // 添加技巧\n    handleSubmit () {\n      // 预校验\n      this.$refs.formRef.validate(async boo => {\n        if (!boo) return\n        if (this.particulars.type === 'add') {\n          await add(this.form)\n        } else if (this.particulars.type === 'edit') {\n          await update({ ...this.form, id: this.particulars.id })\n        }\n        // 关闭对话框 重置表单\n        this.closeDialog()\n        // 通知父组件重新获取数据\n        this.$emit('reload')\n      })\n    },\n    openDialog () {\n      console.log(this.particulars, '6666666')\n      if (this.particulars.type === 'add') {\n        this.dialogTitle = '添加技巧'\n      }\n      if (this.particulars.type === 'edit') {\n        this.dialogTitle = '修改'\n        this.form.title = this.particulars.title\n        this.form.articleBody = this.particulars.articleBody\n        this.form.videoURL = this.particulars.videoURL\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n::v-deep .ql-editor {\n  height: 200px;\n}\n::v-deep .ql-toolbar.ql-snow {\n  padding: 0 8px;\n}\n</style>\n"]}]}