{"remainingRequest":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-manage/pages/users.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-manage/pages/users.vue","mtime":1668407086278},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/babel-loader/lib/index.js","mtime":1667719626894},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js","mtime":1666491603796}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHNpbXBsZSB9IGZyb20gJ0AvYXBpL2Jhc2UvcGVybWlzc2lvbnMnCi8vIGltcG9ydCB7IGxpc3QsIHJlbW92ZSwgZGV0YWlsLCB1cGRhdGUsIGFkZCB9IGZyb20gJ0AvYXBpL2Jhc2UvdXNlcnMnCmltcG9ydCB7IGxpc3QsIHJlbW92ZSwgZGV0YWlsLCB1cGRhdGUsIGFkZCB9IGZyb20gJ0AvYXBpL2Jhc2UvdXNlcnMnCmltcG9ydCBQYWdlVG9vbCBmcm9tICcuLy4uL2NvbXBvbmVudHMvcGFnZS10b29sJwppbXBvcnQgVXNlckFkZCBmcm9tICcuLy4uL2NvbXBvbmVudHMvdXNlci1hZGQnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2Jhc2UtdXNlcnMnLAogIGNvbXBvbmVudHM6IHsKICAgIFVzZXJBZGQsCiAgICBQYWdlVG9vbAogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBVc2VyQWRkOiAndXNlckFkZCcsCiAgICAgIHBhZ2VUaXRsZTogJ+eUqOaItycsIC8vIOmhtemdouagh+mimAogICAgICB0ZXh0OiAnJywgLy8g5paw5aKe44CB57yW6L6R5paH5pysCiAgICAgIHRhYmxlS2V5OiAwLAogICAgICBkZWxldGVkRGF0ZTogZmFsc2UsCiAgICAgIHNob3dEYXRlOiB0cnVlLAogICAgICBkYXRhTGlzdDogW10sCiAgICAgIFBlcm1pc3Npb25Hcm91cHNMaXN0OiBbXSwgLy8g5p2D6ZmQ57uE5Yqg6L29CiAgICAgIHRvdGFsOiBudWxsLAogICAgICBsaXN0TG9hZGluZzogdHJ1ZSwKICAgICAgZGlhbG9nU3RhdHVzOiAnJywKICAgICAgYWxlcnRUZXh0OiAnJywKICAgICAgcmVxdWVzdFBhcmFtZXRlcnM6IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIHBhZ2VzaXplOiAxMAogICAgICAgIC8vIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lCiAgICAgIH0sCiAgICAgIGZvcm1EYXRhOiB7CiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIHBob25lOiAnJywKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgIHJvbGU6ICcnLAogICAgICAgIHBlcm1pc3Npb25fZ3JvdXBfaWQ6ICcnLAogICAgICAgIHBlcm1pc3Npb25fZ3JvdXBfdGl0bGU6ICcnLAogICAgICAgIGF2YXRhcjogJycsCiAgICAgICAgaW50cm9kdWN0aW9uOiAnJwogICAgICB9LAogICAgICBydWxlSW5saW5lOiB7CiAgICAgICAgLy8g6KGo5Y2V6aqM6K+BCiAgICAgICAgdXNlcm5hbWU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfnlKjmiLflkI3kuI3og73kuLrnqbonLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgZW1haWw6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6YKu566x5LiN6IO95Li656m6JywgdHJpZ2dlcjogJ2JsdXInIH1dLAogICAgICAgIHBhc3N3b3JkOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+WvhueggeS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdibHVyJyB9XQogICAgICAgIC8vIHJvbGU6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6KeS6Imy5LiN6IO95Li656m6JywgdHJpZ2dlcjogJ2JsdXInIH1dLAogICAgICAgIC8vIHBlcm1pc3Npb25fZ3JvdXBfaWQ6IFsKICAgICAgICAvLyAgIHsKICAgICAgICAvLyAgICAgdHlwZTogJ251bWJlcicsCiAgICAgICAgLy8gICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIC8vICAgICBtZXNzYWdlOiAn5p2D6ZmQ57uE5ZCN56ew5LiN6IO95Li656m6JywKICAgICAgICAvLyAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgLy8gICB9CiAgICAgICAgLy8gXQogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDoge30sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W5YiX6KGo5pWw5o2uCiAgICBnZXRMaXN0IChwYXJhbXMpIHsKICAgICAgdGhpcy5saXN0TG9hZGluZyA9IHRydWUKICAgICAgbGlzdCh0aGlzLnJlcXVlc3RQYXJhbWV0ZXJzKQogICAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IGRhdGEuZGF0YS5saXN0CiAgICAgICAgICB0aGlzLnRvdGFsID0gZGF0YS5kYXRhLmNvdW50cwogICAgICAgICAgdGhpcy5hbGVydFRleHQgPSBg5YWxICR7dGhpcy50b3RhbH0g5p2h6K6w5b2VYAogICAgICAgICAgdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmUoJ+mUmeS6huWTpu+8jOi/meaYr+S4gOadoemUmeivr+a2iOaBrycpCiAgICAgICAgfSkKICAgIH0sCiAgICAvLyDmnYPpmZDliJfooagKICAgIHNldHVwRGF0YSAoKSB7CiAgICAgIHNpbXBsZSgpLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgdGhpcy5QZXJtaXNzaW9uR3JvdXBzTGlzdCA9IGRhdGEuZGF0YQogICAgICB9KQogICAgfSwKICAgIC8vIOmHjee9rgogICAgcmVzZXRGb3JtICgpIHsKICAgICAgdGhpcy4kcmVmcy5yZXF1ZXN0UGFyYW1ldGVycy5yZXNldEZpZWxkcygpCiAgICB9LAogICAgLy8g5pCc57Si5L+h5oGvCiAgICBoYW5kbGVGaWx0ZXIgKCkgewogICAgICB0aGlzLnJlcXVlc3RQYXJhbWV0ZXJzLnBhZ2UgPSAxCiAgICAgIHRoaXMuZ2V0TGlzdCh0aGlzLnJlcXVlc3RQYXJhbWV0ZXJzKQogICAgfSwKICAgIC8vIOavj+mhteaYvuekuuS/oeaBr+adoeaVsAogICAgaGFuZGxlU2l6ZUNoYW5nZSAodmFsKSB7CiAgICAgIHRoaXMucmVxdWVzdFBhcmFtZXRlcnMucGFnZXNpemUgPSB2YWwKICAgICAgaWYgKHRoaXMucmVxdWVzdFBhcmFtZXRlcnMucGFnZSA9PT0gMSkgewogICAgICAgIHRoaXMuZ2V0TGlzdCh0aGlzLnJlcXVlc3RQYXJhbWV0ZXJzKQogICAgICB9CiAgICB9LAogICAgLy8g6L+b5YWl5p+Q5LiA6aG1CiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlICh2YWwpIHsKICAgICAgdGhpcy5yZXF1ZXN0UGFyYW1ldGVycy5wYWdlID0gdmFsCiAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICB9LAogICAgLy8g5paw5aKe55So5oi35Yi35paw5YiX6KGoCiAgICBoYW5kbGVMb2FkRGF0YUxpc3QgKCkgewogICAgICB0aGlzLmdldExpc3QoKQogICAgfSwKICAgIC8vIOaVsOaNruWIoOmZpOWQjuaYvuekuuagt+W8jwogICAgcm93Q2xhc3NTdGF0dXMgKHJvdykgewogICAgICBpZiAocm93LnJvdy5pc19kZWxldGVkID09PSAxKSB7CiAgICAgICAgdGhpcy5kZWxldGVkRGF0ZSA9IHRydWUKICAgICAgICB0aGlzLnNob3dEYXRlID0gZmFsc2UKICAgICAgICByZXR1cm4gJ2Rpc2FibGVkJwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnJwogICAgICB9CiAgICB9LAogICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgLy8g5pCc57Si55qE6aG555uuCiAgICBxdWVyeSAoKSB7CiAgICAgIHRoaXMuZm9ybURhdGEgPSB7CiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIHBob25lOiAnJywKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcm9sZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgIHBlcm1pc3Npb25fZ3JvdXBfaWQ6ICcnLAogICAgICAgIGF2YXRhcjogJycsCiAgICAgICAgaW50cm9kdWN0aW9uOiAnJwogICAgICB9CiAgICB9LAogICAgLy8g5paw5aKe55So5oi3CiAgICBoYW5kbGVDcmVhdGUgKCkgewogICAgICB0aGlzLnF1ZXJ5KCkKICAgICAgdGhpcy50ZXh0ID0gJ+WIm+W7uicKICAgICAgdGhpcy4kcmVmcy5lZGl0VXNlci5kaWFsb2dGb3JtVigpCiAgICAgIHRoaXMuc2V0dXBEYXRhKCkKICAgIH0sCiAgICAvLyDnqpflj6Pmk43kvZwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAgICAvLyDlvLnmoYblhbPpl60KICAgIGhhbmRsZUNsb3NlTW9kYWwgKCkgewogICAgICB0aGlzLiRyZWZzLmVkaXRVc2VyLmRpYWxvZ0Zvcm1IKCkKICAgIH0sCiAgICAvLyDnvJbovpEKICAgIC8vIOihqOWNleivpuaDheaVsOaNruWKoOi9vQogICAgaGFubGRlRWRpdEZvcm0gKG9iamVkaXRJZCkgewogICAgICB0aGlzLmZvcm1EYXRhLmlkID0gb2JqZWRpdElkCiAgICAgIHRoaXMuc2V0dXBEYXRhKCkKICAgICAgZGV0YWlsKHsgaWQ6IG9iamVkaXRJZCB9KS50aGVuKChkYXRhLCBlcnIpID0+IHsKICAgICAgICB2YXIgZGF0YWxpc3QgPSBkYXRhLmRhdGEKICAgICAgICBpZiAoZXJyKSB7CiAgICAgICAgICByZXR1cm4gZXJyCiAgICAgICAgfQogICAgICAgIHRoaXMuZm9ybURhdGEuaWQgPSBkYXRhbGlzdC5pZAogICAgICAgIHRoaXMuZm9ybURhdGEuZW1haWwgPSBkYXRhbGlzdC5lbWFpbAogICAgICAgIHRoaXMuZm9ybURhdGEucGhvbmUgPSBkYXRhbGlzdC5waG9uZQogICAgICAgIHRoaXMuZm9ybURhdGEudXNlcm5hbWUgPSBkYXRhbGlzdC51c2VybmFtZQogICAgICAgIHRoaXMuZm9ybURhdGEucm9sZSA9IGRhdGFsaXN0LnJvbGUKICAgICAgICB0aGlzLmZvcm1EYXRhLnBhc3N3b3JkID0gZGF0YWxpc3QucGFzc3dvcmQKICAgICAgICB0aGlzLmZvcm1EYXRhLmF2YXRhciA9IGRhdGFsaXN0LmF2YXRhcgogICAgICAgIHRoaXMuZm9ybURhdGEuaW50cm9kdWN0aW9uID0gZGF0YWxpc3QuaW50cm9kdWN0aW9uCiAgICAgICAgdGhpcy5mb3JtRGF0YS5wZXJtaXNzaW9uX2dyb3VwX2lkID0gZGF0YWxpc3QucGVybWlzc2lvbl9ncm91cF9pZAogICAgICAgIHRoaXMuZm9ybURhdGEucGVybWlzc2lvbl9ncm91cF90aXRsZSA9IGRhdGFsaXN0LnBlcm1pc3Npb25fZ3JvdXBfdGl0bGUKICAgICAgfSkKICAgIH0sCiAgICBoYW5kbGVVcGRhdGUgKG9iamVkaXRJZCkgewogICAgICB0aGlzLnF1ZXJ5KCkKICAgICAgdmFyIF90aGlzID0gdGhpcwogICAgICB0aGlzLnRleHQgPSAn57yW6L6RJwogICAgICB0aGlzLiRyZWZzLmVkaXRVc2VyLmRpYWxvZ0Zvcm1WKCkKICAgICAgX3RoaXMuaGFubGRlRWRpdEZvcm0ob2JqZWRpdElkKQogICAgfSwKICAgIC8vIOWIoOmZpAogICAgcmVtb3ZlVXNlciAodXNlcikgewogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTnlKjmiLcgJyArICcsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHJlbW92ZSh7IGlkOiB1c2VyIH0pCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+aIkOWKn+WIoOmZpOS6hueUqOaItycgKyAnIScpCiAgICAgICAgICAgICAgdGhpcy5kYXRhTGlzdC5zcGxpY2UodXNlciwgMSkKICAgICAgICAgICAgICB0aGlzLmdldExpc3QodGhpcy5yZXF1ZXN0UGFyYW1ldGVycykKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfliKDpmaTlpLHotKUhJykKICAgICAgICAgICAgfSkKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmluZm8oJ+W3suWPlua2iOaTjeS9nCEnKQogICAgICAgIH0pCiAgICB9CiAgfSwKICAvLyDmjILovb3nu5PmnZ8KICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7fSwKICAvLyDliJvlu7rlrozmr5XnirbmgIEKICBjcmVhdGVkICgpIHsKICAgIC8vIOivu+WPluaVsOaNrgogICAgdGhpcy5nZXRMaXN0KCkKICAgIC8vIOmUruebmGVudGVy5pON5L2cCiAgICB2YXIgbGV0dCA9IHRoaXMKICAgIGRvY3VtZW50Lm9ua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciBrZXkgPSB3aW5kb3cuZXZlbnQua2V5Q29kZQogICAgICBpZiAoa2V5ID09PSAxMykgewogICAgICAgIGxldHQuaGFuZGxlRmlsdGVyKHRoaXMucmVxdWVzdFBhcmFtZXRlcnMpCiAgICAgIH0KICAgIH0KICB9LAogIC8vIOe7hOS7tuabtOaWsAogIHVwZGF0ZWQ6IGZ1bmN0aW9uICgpIHt9Cn0K"},{"version":3,"sources":["users.vue"],"names":[],"mappings":";AAiMA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"users.vue","sourceRoot":"src/module-manage/pages","sourcesContent":["<template>\n  <div class=\"dashboard-container\">\n    <div class=\"app-container\">\n      <el-card shadow=\"never\">\n        <!-- 搜索 -->\n        <el-form :model=\"requestParameters\" ref=\"requestParameters\">\n          <div class=\"filter-container\">\n            <el-form-item>\n              <el-input\n                @keyup.enter=\"handleFilter\"\n                style=\"width: 200px;\"\n                :placeholder=\"$t('table.search')\"\n                class=\"filter-item\"\n                v-model=\"requestParameters.username\"\n              ></el-input>\n              <el-button\n                class=\"filter-item\"\n                size=\"small\"\n                type=\"primary\"\n                icon=\"el-icon-search\"\n                @click=\"handleFilter\"\n              >{{$t('table.search')}}</el-button>\n              <el-button class=\"filter-item\" size=\"small\" type=\"primary\" @click=\"resetForm\">重置</el-button>\n            </el-form-item>\n            <el-button\n              class=\"filter-item fr\"\n              size=\"small\"\n              style=\"margin-left: 10px;\"\n              @click=\"handleCreate\"\n              type=\"primary\"\n              icon=\"el-icon-edit\"\n            >{{$t('table.addUser')}}</el-button>\n          </div>\n        </el-form>\n        <el-alert\n          v-if=\"alertText !== ''\"\n          :title=\"alertText\"\n          type=\"info\"\n          class=\"alert\"\n          :closable=\"false\"\n          show-icon\n        ></el-alert>\n        <!-- end -->\n        <!-- 数据 -->\n        <el-table\n          :key=\"tableKey\"\n          :data=\"dataList\"\n          :row-class-name=\"rowClassStatus\"\n          v-loading=\"listLoading\"\n          element-loading-text=\"给我一点时间\"\n          fit\n          highlight-current-row\n          style=\"width: 100%\"\n          border\n        >\n          <el-table-column align=\"center\" :label=\"$t('table.id')\">\n            <template slot-scope=\"scope\">\n              <span>{{scope.row.id}}</span>\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" :label=\"$t('table.email')\">\n            <template slot-scope=\"scope\">\n              <span>{{scope.row.email}}</span>\n            </template>\n          </el-table-column>\n          <el-table-column :label=\"$t('table.phone')\">\n            <template slot-scope=\"scope\">\n              <span>{{scope.row.phone}}</span>\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" :label=\"$t('table.username')\">\n            <template slot-scope=\"scope\">\n              <span>{{scope.row.username}}</span>\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" :label=\"$t('table.permissionUser')\">\n            <template slot-scope=\"scope\">\n              <span>{{scope.row.permission_group_title}}</span>\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" :label=\"$t('table.role')\">\n            <template slot-scope=\"scope\">\n              <span>{{scope.row.role}}</span>\n            </template>\n          </el-table-column>\n          <!-- 按钮 -->\n          <el-table-column\n            align=\"center\"\n            :label=\"$t('table.actions')\"\n            class-name=\"small-padding fixed-width\"\n          >\n            <template slot-scope=\"scope\">\n              <el-button\n                type=\"primary\"\n                size=\"mini\"\n                @click=\"handleUpdate(scope.row.id)\"\n              >{{$t('table.edit')}}</el-button>\n              <el-button\n                v-if=\"scope.row.status!='deleted'\"\n                size=\"mini\"\n                type=\"danger\"\n                @click=\"removeUser(scope.row.id)\"\n              >{{$t('table.delete')}}</el-button>\n            </template>\n          </el-table-column>\n\n          <!-- 头像 -->\n          <!-- <el-table-column align=\"center\" :label=\"$t('table.avatar')\">\n            <template slot-scope=\"scope\">\n              <img :src=\"scope.row.avatar\" style=\"width:50px;height:50px;\">\n            </template>\n          </el-table-column> -\n          <el-table-column align=\"center\" width=\"350px\" :label=\"$t('table.introduction')\">\n            <template slot-scope=\"scope\">\n              <span>{{scope.row.introduction}}</span>\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" :label=\"$t('table.actions')\" class-name=\"small-padding fixed-width\">\n            <template slot-scope=\"scope\" v-show=\"deletedDate\">\n              <el-button type=\"primary\" size=\"mini\" @click=\"handleUpdate(scope.row.id)\">{{$t('table.edit')}}</el-button>\n              <el-button v-if=\"scope.row.status!='deleted'\" size=\"mini\" type=\"danger\" @click=\"removeUser(scope.row.id)\">{{$t('table.delete')}}\n              </el-button>\n            </template>\n            <template slot-scope=\"scope\" v-show=\"showDate\">\n              <el-button type=\"primary\" size=\"mini\">{{$t('table.edit')}}</el-button>\n              <el-button v-if=\"scope.row.status!='deleted'\" size=\"mini\" type=\"danger\">{{$t('table.delete')}}\n              </el-button>\n            </template>\n          </el-table-column>\n          -->\n        </el-table>\n        <!-- end -->\n        <!-- 分页 -->\n        <div class=\"pagination\">\n          <PageTool\n            :paginationPage=\"requestParameters.page\"\n            :paginationPagesize=\"requestParameters.pagesize\"\n            :total=\"total\"\n            @pageChange=\"handleCurrentChange\"\n            @pageSizeChange=\"handleSizeChange\"\n          ></PageTool>\n        </div>\n        <!-- end -->\n        <!-- 新增标签弹层 -->\n        <component\n          v-bind:is=\"UserAdd\"\n          ref=\"editUser\"\n          :formData.sync=\"requestParameters\"\n          :text=\"text\"\n          :pageTitle=\"pageTitle\"\n          :formBase=\"formData\"\n          :ruleInline=\"ruleInline\"\n          :PermissionGroupsList=\"PermissionGroupsList\"\n          v-on:newDataes=\"handleLoadDataList\"\n          v-on:handleCloseModal=\"handleCloseModal\"\n        ></component>\n      </el-card>\n    </div>\n  </div>\n</template>\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n.alert {\n  margin: 10px 0px;\n}\n.pagination {\n  margin-top: 10px;\n  // text-align: right;\n}\n</style>\n\n<style>\n.el-table th {\n  background-color: #fafafa;\n}\n.el-table th.is-leaf {\n  border-bottom: 2px solid #e8e8e8;\n}\n/* .el-form-item {\n  margin-bottom: 0;\n} */\n.disabled td {\n  background-color: #f9f9f9;\n  color: #c1c1c1;\n}\n.disabled .el-button--primary,\n.disabled .el-button--danger {\n  background-color: #dbdada;\n  border: 1px solid #dbdada;\n  color: #999;\n  cursor: not-allowed;\n}\n</style>\n<script>\nimport { simple } from '@/api/base/permissions'\n// import { list, remove, detail, update, add } from '@/api/base/users'\nimport { list, remove, detail, update, add } from '@/api/base/users'\nimport PageTool from './../components/page-tool'\nimport UserAdd from './../components/user-add'\n\nexport default {\n  name: 'base-users',\n  components: {\n    UserAdd,\n    PageTool\n  },\n  data () {\n    return {\n      UserAdd: 'userAdd',\n      pageTitle: '用户', // 页面标题\n      text: '', // 新增、编辑文本\n      tableKey: 0,\n      deletedDate: false,\n      showDate: true,\n      dataList: [],\n      PermissionGroupsList: [], // 权限组加载\n      total: null,\n      listLoading: true,\n      dialogStatus: '',\n      alertText: '',\n      requestParameters: {\n        page: 1,\n        pagesize: 10\n        // username: this.username\n      },\n      formData: {\n        email: '',\n        phone: '',\n        username: '',\n        password: '',\n        role: '',\n        permission_group_id: '',\n        permission_group_title: '',\n        avatar: '',\n        introduction: ''\n      },\n      ruleInline: {\n        // 表单验证\n        username: [\n          { required: true, message: '用户名不能为空', trigger: 'blur' }\n        ],\n        email: [{ required: true, message: '邮箱不能为空', trigger: 'blur' }],\n        password: [{ required: true, message: '密码不能为空', trigger: 'blur' }]\n        // role: [{ required: true, message: '角色不能为空', trigger: 'blur' }],\n        // permission_group_id: [\n        //   {\n        //     type: 'number',\n        //     required: true,\n        //     message: '权限组名称不能为空',\n        //     trigger: 'blur'\n        //   }\n        // ]\n      }\n    }\n  },\n  computed: {},\n  methods: {\n    // 获取列表数据\n    getList (params) {\n      this.listLoading = true\n      list(this.requestParameters)\n        .then(data => {\n          this.dataList = data.data.list\n          this.total = data.data.counts\n          this.alertText = `共 ${this.total} 条记录`\n          this.listLoading = false\n        })\n        .catch(e => {\n          this.$message.e('错了哦，这是一条错误消息')\n        })\n    },\n    // 权限列表\n    setupData () {\n      simple().then(data => {\n        this.PermissionGroupsList = data.data\n      })\n    },\n    // 重置\n    resetForm () {\n      this.$refs.requestParameters.resetFields()\n    },\n    // 搜索信息\n    handleFilter () {\n      this.requestParameters.page = 1\n      this.getList(this.requestParameters)\n    },\n    // 每页显示信息条数\n    handleSizeChange (val) {\n      this.requestParameters.pagesize = val\n      if (this.requestParameters.page === 1) {\n        this.getList(this.requestParameters)\n      }\n    },\n    // 进入某一页\n    handleCurrentChange (val) {\n      this.requestParameters.page = val\n      this.getList()\n    },\n    // 新增用户刷新列表\n    handleLoadDataList () {\n      this.getList()\n    },\n    // 数据删除后显示样式\n    rowClassStatus (row) {\n      if (row.row.is_deleted === 1) {\n        this.deletedDate = true\n        this.showDate = false\n        return 'disabled'\n      } else {\n        return ''\n      }\n    },\n    // **********************************\n    // 搜索的项目\n    query () {\n      this.formData = {\n        email: '',\n        phone: '',\n        username: '',\n        role: '',\n        password: '',\n        permission_group_id: '',\n        avatar: '',\n        introduction: ''\n      }\n    },\n    // 新增用户\n    handleCreate () {\n      this.query()\n      this.text = '创建'\n      this.$refs.editUser.dialogFormV()\n      this.setupData()\n    },\n    // 窗口操作**********************************\n    // 弹框关闭\n    handleCloseModal () {\n      this.$refs.editUser.dialogFormH()\n    },\n    // 编辑\n    // 表单详情数据加载\n    hanldeEditForm (objeditId) {\n      this.formData.id = objeditId\n      this.setupData()\n      detail({ id: objeditId }).then((data, err) => {\n        var datalist = data.data\n        if (err) {\n          return err\n        }\n        this.formData.id = datalist.id\n        this.formData.email = datalist.email\n        this.formData.phone = datalist.phone\n        this.formData.username = datalist.username\n        this.formData.role = datalist.role\n        this.formData.password = datalist.password\n        this.formData.avatar = datalist.avatar\n        this.formData.introduction = datalist.introduction\n        this.formData.permission_group_id = datalist.permission_group_id\n        this.formData.permission_group_title = datalist.permission_group_title\n      })\n    },\n    handleUpdate (objeditId) {\n      this.query()\n      var _this = this\n      this.text = '编辑'\n      this.$refs.editUser.dialogFormV()\n      _this.hanldeEditForm(objeditId)\n    },\n    // 删除\n    removeUser (user) {\n      this.$confirm('此操作将永久删除用户 ' + ', 是否继续?', '提示', {\n        type: 'warning'\n      })\n        .then(() => {\n          remove({ id: user })\n            .then(response => {\n              this.$message.success('成功删除了用户' + '!')\n              this.dataList.splice(user, 1)\n              this.getList(this.requestParameters)\n            })\n            .catch(response => {\n              this.$message.error('删除失败!')\n            })\n        })\n        .catch(() => {\n          this.$message.info('已取消操作!')\n        })\n    }\n  },\n  // 挂载结束\n  mounted: function () {},\n  // 创建完毕状态\n  created () {\n    // 读取数据\n    this.getList()\n    // 键盘enter操作\n    var lett = this\n    document.onkeydown = function (e) {\n      var key = window.event.keyCode\n      if (key === 13) {\n        lett.handleFilter(this.requestParameters)\n      }\n    }\n  },\n  // 组件更新\n  updated: function () {}\n}\n</script>\n"]}]}