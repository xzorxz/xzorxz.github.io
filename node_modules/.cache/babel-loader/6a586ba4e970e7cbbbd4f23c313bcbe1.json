{"remainingRequest":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/babel-loader/lib/index.js!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-hmmm/components/articles-add.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-hmmm/components/articles-add.vue","mtime":1668475987739},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/babel.config.js","mtime":1668225793694},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/babel-loader/lib/index.js","mtime":1667719626894},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js","mtime":1666491603796}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL3hpYW96aGFuZy9cdTVCNjZcdTRFNjAvXHU1QzMxXHU0RTFBXHU3M0VEXHU1QjY2XHU0RTYwL3Z1ZS1cdTVCOUVcdTYyMTgvaG1tbS1mcm9udGVuZC1kZXYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy94aWFvemhhbmcvXHU1QjY2XHU0RTYwL1x1NUMzMVx1NEUxQVx1NzNFRFx1NUI2Nlx1NEU2MC92dWUtXHU1QjlFXHU2MjE4L2htbW0tZnJvbnRlbmQtZGV2L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy94aWFvemhhbmcvXHU1QjY2XHU0RTYwL1x1NUMzMVx1NEUxQVx1NzNFRFx1NUI2Nlx1NEU2MC92dWUtXHU1QjlFXHU2MjE4L2htbW0tZnJvbnRlbmQtZGV2L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICdxdWlsbC9kaXN0L3F1aWxsLmNvcmUuY3NzJzsKaW1wb3J0ICdxdWlsbC9kaXN0L3F1aWxsLnNub3cuY3NzJzsKaW1wb3J0ICdxdWlsbC9kaXN0L3F1aWxsLmJ1YmJsZS5jc3MnOwppbXBvcnQgeyBxdWlsbEVkaXRvciB9IGZyb20gJ3Z1ZS1xdWlsbC1lZGl0b3InOwppbXBvcnQgaGxqcyBmcm9tICdoaWdobGlnaHQuanMnOwppbXBvcnQgJ2hpZ2hsaWdodC5qcy9zdHlsZXMvdnMyMDE1LmNzcyc7CmltcG9ydCB7IGFkZCwgdXBkYXRlIH0gZnJvbSAnQC9hcGkvaG1tbS9hcnRpY2xlcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXJ0aWNsZXNBZGQnLAogIGNvbXBvbmVudHM6IHsKICAgIHF1aWxsRWRpdG9yOiBxdWlsbEVkaXRvcgogIH0sCiAgcHJvcHM6IHsKICAgIHNob3dEaWFsb2c6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBwYXJ0aWN1bGFyczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g6KGo5Y2V5pWw5o2uCiAgICAgIGZvcm06IHsKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgYXJ0aWNsZUJvZHk6ICcnLAogICAgICAgIHZpZGVvVVJMOiAnJwogICAgICB9LAogICAgICBkaWFsb2dUaXRsZTogJycsCiAgICAgIC8vIOihqOWNleagoemqjOinhOWImQogICAgICBydWxlczogewogICAgICAgIHRpdGxlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5paH56ug5qCH6aKYJywKICAgICAgICAgIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXQogICAgICAgIH1dLAogICAgICAgIGFydGljbGVCb2R5OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5paH56ug5YaF5a65JywKICAgICAgICAgIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXQogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGVkaXRvck9wdGlvbnM6IHsKICAgICAgICBwbGFjZWhvbGRlcjogJycsCiAgICAgICAgbW9kdWxlczogewogICAgICAgICAgdG9vbGJhcjogW1snYm9sZCcsICdpdGFsaWMnLCAndW5kZXJsaW5lJywgJ3N0cmlrZSddLCBbewogICAgICAgICAgICBsaXN0OiAnb3JkZXJlZCcKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgbGlzdDogJ2J1bGxldCcKICAgICAgICAgIH1dLCBbJ2Jsb2NrcXVvdGUnXSwgWydjb2RlLWJsb2NrJywgJ2ltYWdlJywgJ2xpbmsnXV0sCiAgICAgICAgICAvLyDor63ms5Xpq5jkuq4KICAgICAgICAgIHN5bnRheDogewogICAgICAgICAgICBoaWdobGlnaHQ6IGZ1bmN0aW9uIGhpZ2hsaWdodCh0ZXh0KSB7CiAgICAgICAgICAgICAgcmV0dXJuIGhsanMuaGlnaGxpZ2h0QXV0byh0ZXh0KS52YWx1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgaXNTaG93OiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWFs+mXreWvueivneahhgogICAgY2xvc2VEaWFsb2c6IGZ1bmN0aW9uIGNsb3NlRGlhbG9nKCkgewogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGFydGljbGVCb2R5OiAnJywKICAgICAgICB2aWRlb1VSTDogJycKICAgICAgfTsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnNob3dEaWFsb2cnLCBmYWxzZSk7CiAgICAgIHRoaXMuJHJlZnMuZm9ybVJlZi5yZXNldEZpZWxkcygpOwogICAgfSwKICAgIC8vIOa3u+WKoOaKgOW3pwogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIC8vIOmihOagoemqjAogICAgICB0aGlzLiRyZWZzLmZvcm1SZWYudmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoYm9vKSB7CiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmIChib28pIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMucGFydGljdWxhcnMudHlwZSA9PT0gJ2FkZCcpKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIHJldHVybiBhZGQoX3RoaXMuZm9ybSk7CiAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgIGlmICghKF90aGlzLnBhcnRpY3VsYXJzLnR5cGUgPT09ICdlZGl0JykpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3RoaXMuZm9ybSksIHt9LCB7CiAgICAgICAgICAgICAgICAgICAgaWQ6IF90aGlzLnBhcnRpY3VsYXJzLmlkCiAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICAgIC8vIOWFs+mXreWvueivneahhiDph43nva7ooajljZUKICAgICAgICAgICAgICAgICAgX3RoaXMuY2xvc2VEaWFsb2coKTsKICAgICAgICAgICAgICAgICAgLy8g6YCa55+l54i257uE5Lu26YeN5paw6I635Y+W5pWw5o2uCiAgICAgICAgICAgICAgICAgIF90aGlzLiRlbWl0KCdyZWxvYWQnKTsKICAgICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgfSkpOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCiAgICBvcGVuRGlhbG9nOiBmdW5jdGlvbiBvcGVuRGlhbG9nKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLnBhcnRpY3VsYXJzLCAnNjY2NjY2NicpOwogICAgICBpZiAodGhpcy5wYXJ0aWN1bGFycy50eXBlID09PSAnYWRkJykgewogICAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAn5re75Yqg5oqA5benJzsKICAgICAgfQogICAgICBpZiAodGhpcy5wYXJ0aWN1bGFycy50eXBlID09PSAnZWRpdCcpIHsKICAgICAgICB0aGlzLmRpYWxvZ1RpdGxlID0gJ+S/ruaUuSc7CiAgICAgICAgdGhpcy5mb3JtLnRpdGxlID0gdGhpcy5wYXJ0aWN1bGFycy50aXRsZTsKICAgICAgICB0aGlzLmZvcm0uYXJ0aWNsZUJvZHkgPSB0aGlzLnBhcnRpY3VsYXJzLmFydGljbGVCb2R5OwogICAgICAgIHRoaXMuZm9ybS52aWRlb1VSTCA9IHRoaXMucGFydGljdWxhcnMudmlkZW9VUkw7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAA;EACAC;IACAC;EACA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAG;IACA;EACA;EACAC;IACA;MACA;MACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACA;MACAC;QACAJ,QACA;UAAAH;UAAAQ;UAAAC;QAAA,EACA;QACAL,cACA;UAAAJ;UAAAQ;UAAAC;QAAA;MAEA;MACAC;QACAC;QACAC;UACAC,UACA,2CACA;YAAAC;UAAA;YAAAA;UAAA,IACA,gBACA,gCACA;UACA;UACAC;YACAC;cAAA;YAAA;UACA;QACA;MACA;MACAC;IACA;EACA;EACAC;IACA;IACAC;MACA;QACAhB;QACAC;QACAC;MACA;MACA;MACA;IACA;IACA;IACAe;MAAA;MACA;MACA;QAAA;UAAA;YAAA;cAAA;gBAAA;kBAAA,IACAC;oBAAA;oBAAA;kBAAA;kBAAA;gBAAA;kBAAA,MACA;oBAAA;oBAAA;kBAAA;kBAAA;kBAAA,OACAC;gBAAA;kBAAA;kBAAA;gBAAA;kBAAA,MACA;oBAAA;oBAAA;kBAAA;kBAAA;kBAAA,OACAC;oBAAAC;kBAAA;gBAAA;kBAEA;kBACA;kBACA;kBACA;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA,CACA;QAAA;UAAA;QAAA;MAAA;IACA;IACAC;MACAC;MACA;QACA;MACA;MACA;QACA;QACA;QACA;QACA;MACA;IACA;EACA;AACA","names":["name","components","quillEditor","props","showDialog","type","default","particulars","required","data","form","title","articleBody","videoURL","dialogTitle","rules","message","trigger","editorOptions","placeholder","modules","toolbar","list","syntax","highlight","isShow","methods","closeDialog","handleSubmit","boo","add","update","id","openDialog","console"],"sourceRoot":"src/module-hmmm/components","sources":["articles-add.vue"],"sourcesContent":["<template>\n  <div class='container'>\n    <el-dialog :title=\"dialogTitle\" :visible=\"showDialog\" @close=\"closeDialog\" @click.native=\"isShow=false\" @open=\"openDialog\">\n    <!-- 表单 -->\n    <el-form ref=\"formRef\" label-width=\"120px\" :model=\"form\" :rules=\"rules\">\n      <el-form-item label=\"文章标题\" prop=\"title\">\n        <el-input v-model=\"form.title\" style=\"width:50%\" placeholder=\"请输入文章标题\" />\n      </el-form-item>\n      <el-form-item label=\"文章内容\" prop=\"articleBody\">\n        <quill-editor\n        v-model=\"form.articleBody\"\n        :options=\"editorOptions\"\n        @blur=\"$refs.formRef.validateField('articleBody')\"\n        >\n        </quill-editor>\n      </el-form-item>\n      <el-form-item label=\"视频地址\" prop=\"videoURL\">\n        <el-input v-model=\"form.videoURL\" style=\"width:50%\" placeholder=\"请输入视频地址\" />\n      </el-form-item>\n    </el-form>\n    <!-- footer插槽 -->\n    <template v-slot:footer>\n      <el-button @click=\"closeDialog\">取消</el-button>\n      <el-button type=\"primary\" @click=\"handleSubmit\">确定</el-button>\n    </template>\n  </el-dialog>\n  </div>\n</template>\n\n<script>\nimport 'quill/dist/quill.core.css'\nimport 'quill/dist/quill.snow.css'\nimport 'quill/dist/quill.bubble.css'\nimport { quillEditor } from 'vue-quill-editor'\nimport hljs from 'highlight.js'\nimport 'highlight.js/styles/vs2015.css'\nimport { add, update } from '@/api/hmmm/articles'\nexport default {\n  name: 'ArticlesAdd',\n  components: {\n    quillEditor\n  },\n  props: {\n    showDialog: {\n      type: Boolean,\n      default: false\n    },\n    particulars: {\n      type: Object,\n      required: true\n    }\n  },\n  data () {\n    return {\n      // 表单数据\n      form: {\n        title: '',\n        articleBody: '',\n        videoURL: ''\n      },\n      dialogTitle: '',\n      // 表单校验规则\n      rules: {\n        title: [\n          { required: true, message: '请输入文章标题', trigger: ['blur', 'change'] }\n        ],\n        articleBody: [\n          { required: true, message: '请输入文章内容', trigger: ['blur', 'change'] }\n        ]\n      },\n      editorOptions: {\n        placeholder: '',\n        modules: {\n          toolbar: [\n            ['bold', 'italic', 'underline', 'strike'],\n            [{ list: 'ordered' }, { list: 'bullet' }],\n            ['blockquote'],\n            ['code-block', 'image', 'link']\n          ],\n          // 语法高亮\n          syntax: {\n            highlight: (text) => hljs.highlightAuto(text).value\n          }\n        }\n      },\n      isShow: false\n    }\n  },\n  methods: {\n    // 关闭对话框\n    closeDialog () {\n      this.form = {\n        title: '',\n        articleBody: '',\n        videoURL: ''\n      }\n      this.$emit('update:showDialog', false)\n      this.$refs.formRef.resetFields()\n    },\n    // 添加技巧\n    handleSubmit () {\n      // 预校验\n      this.$refs.formRef.validate(async boo => {\n        if (!boo) return\n        if (this.particulars.type === 'add') {\n          await add(this.form)\n        } else if (this.particulars.type === 'edit') {\n          await update({ ...this.form, id: this.particulars.id })\n        }\n        // 关闭对话框 重置表单\n        this.closeDialog()\n        // 通知父组件重新获取数据\n        this.$emit('reload')\n      })\n    },\n    openDialog () {\n      console.log(this.particulars, '6666666')\n      if (this.particulars.type === 'add') {\n        this.dialogTitle = '添加技巧'\n      }\n      if (this.particulars.type === 'edit') {\n        this.dialogTitle = '修改'\n        this.form.title = this.particulars.title\n        this.form.articleBody = this.particulars.articleBody\n        this.form.videoURL = this.particulars.videoURL\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n::v-deep .ql-editor {\n  height: 200px;\n}\n::v-deep .ql-toolbar.ql-snow {\n  padding: 0 8px;\n}\n</style>\n"]}]}