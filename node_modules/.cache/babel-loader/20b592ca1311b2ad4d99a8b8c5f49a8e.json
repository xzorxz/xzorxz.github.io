{"remainingRequest":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/babel-loader/lib/index.js!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-hmmm/pages/companys/companys-add.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/module-hmmm/pages/companys/companys-add.vue","mtime":1668225793864},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/babel.config.js","mtime":1668225793694},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/babel-loader/lib/index.js","mtime":1667719626894},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/vue-loader/lib/index.js","mtime":1666491603796}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3hpYW96aGFuZy9cdTVCNjZcdTRFNjAvXHU1QzMxXHU0RTFBXHU3M0VEXHU1QjY2XHU0RTYwL3Z1ZS1cdTVCOUVcdTYyMTgvaG1tbS1mcm9udGVuZC1kZXYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICIvVXNlcnMveGlhb3poYW5nL1x1NUI2Nlx1NEU2MC9cdTVDMzFcdTRFMUFcdTczRURcdTVCNjZcdTRFNjAvdnVlLVx1NUI5RVx1NjIxOC9obW1tLWZyb250ZW5kLWRldi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy94aWFvemhhbmcvXHU1QjY2XHU0RTYwL1x1NUMzMVx1NEUxQVx1NzNFRFx1NUI2Nlx1NEU2MC92dWUtXHU1QjlFXHU2MjE4L2htbW0tZnJvbnRlbmQtZGV2L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8gaW1wb3J0IHsgdXBkYXRlLCBhZGQgfSBmcm9tICdAL2FwaS9iYXNlL3VzZXJzJwppbXBvcnQgeyBkZXRhaWwsIGFkZCwgdXBkYXRlIH0gZnJvbSAnQC9hcGkvaG1tbS9jb21wYW55cyc7CmltcG9ydCBNeUNpdHkgZnJvbSAnLi9jaXR5cyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ29tcGFueXNBZGQnLAogIGNvbXBvbmVudHM6IHsKICAgIE15Q2l0eTogTXlDaXR5CiAgfSwKICBwcm9wczogewogICAgLy8g5o6l5pS25LuO5aSN57uE5Lu25Lit5Lyg5YWl55qE5YWs5Y+457yW5Y+3CiAgICBjb21wYW55SWQ6IHsKICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSwKICAgICAgLy8g6L+Z5Liq5bGe5oCn5Y+v5Lul5piv5a2X56ym5Liy77yM5Lmf5Y+v5Lul5pivTnVtYmVyCiAgICAgIHJlcXVpcmVkOiBmYWxzZSAvLyDov5nkuKrlsZ7mgKflubbkuI3mmK/lv4XpobvnmoQKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtRGF0YTogewogICAgICAgIGlzRmFtb3VzOiBmYWxzZSwKICAgICAgICAvLyDmmK/lkKbmmK/lkI3kvIEKICAgICAgICBzaG9ydE5hbWU6ICcnLAogICAgICAgIC8vIOeugOWGmQogICAgICAgIGNvbXBhbnk6ICcnLAogICAgICAgIC8vIOWQjeWtlwogICAgICAgIHByb3ZBbmRDaXR5OiB7CiAgICAgICAgICAvLyDln47luIIKICAgICAgICAgIHByb3ZpbmNlOiAnJywKICAgICAgICAgIGNpdHk6ICcnCiAgICAgICAgfSwKICAgICAgICB0YWdzOiAnJywKICAgICAgICAvLyDmoIfnrb4KICAgICAgICByZW1hcmtzOiAnJyAvLyDlpIfms6gKICAgICAgfSwKCiAgICAgIC8vIOihqOWNlemqjOivgQogICAgICBydWxlSW5saW5lOiB7CiAgICAgICAgc2hvcnROYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5LyB5Lia566A56ew5LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHRhZ3M6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7for7fovpPmoIfnrb4nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIC8vIOWIm+W7uuWujOavleeKtuaAgQogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvLyDmmK/lkKbkvKDlhaXkuoblhazlj7jnvJblj7fjgIIKICAgIC8vIOWmguaenOS8oOWFpe+8jOivtOaYjuaYr+e8lui+ke+8jOWQpuWImeaYr+a3u+WKoAogICAgaWYgKHRoaXMuY29tcGFueUlkKSB7CiAgICAgIHRoaXMubG9hZERldGFpbCgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g5Zyo57yW6L6R5oOF5Ya15LiL77yM6I635Y+W6K+m5oOFCiAgICBsb2FkRGV0YWlsOiBmdW5jdGlvbiBsb2FkRGV0YWlsKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjb21wYW55SWQsIF95aWVsZCRkZXRhaWwsIHJlczsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21wYW55SWQgPSBfdGhpcy5jb21wYW55SWQ7CiAgICAgICAgICAgICAgICBpZiAoY29tcGFueUlkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF90aGlzLmZvcm1EYXRhLmlkID0gY29tcGFueUlkOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gZGV0YWlsKHsKICAgICAgICAgICAgICAgICAgaWQ6IGNvbXBhbnlJZAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX3lpZWxkJGRldGFpbCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXMgPSBfeWllbGQkZGV0YWlsLmRhdGE7CiAgICAgICAgICAgICAgICAvLyDojrflj5bor6bmg4Ug57uZZm9ybURhdGEKICAgICAgICAgICAgICAgIHJlcy5wcm92QW5kQ2l0eSA9IHsKICAgICAgICAgICAgICAgICAgcHJvdmluY2U6IHJlcy5wcm92aW5jZSwKICAgICAgICAgICAgICAgICAgY2l0eTogcmVzLmNpdHkKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICByZXMuaXNGYW1vdXMgPSAhIXJlcy5pc0ZhbW91czsKICAgICAgICAgICAgICAgIF90aGlzLmZvcm1EYXRhID0gcmVzOwogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5YGa57yW6L6RCiAgICBkb1VwZGF0ZTogZnVuY3Rpb24gZG9VcGRhdGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGF0YSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3RoaXMyLmZvcm1EYXRhKSwge30sIHsKICAgICAgICAgICAgICAgICAgcHJvdmluY2U6IF90aGlzMi5mb3JtRGF0YS5wcm92QW5kQ2l0eS5wcm92aW5jZSwKICAgICAgICAgICAgICAgICAgY2l0eTogX3RoaXMyLmZvcm1EYXRhLnByb3ZBbmRDaXR5LmNpdHkKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZShkYXRhKTsKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfdGhpczIuZW1pdCgpOwogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWBmua3u+WKoAogICAgZG9BZGQ6IGZ1bmN0aW9uIGRvQWRkKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBhZGQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBfdGhpczMuZm9ybURhdGEpLCB7fSwgewogICAgICAgICAgICAgICAgICBwcm92aW5jZTogX3RoaXMzLmZvcm1EYXRhLnByb3ZBbmRDaXR5LnByb3ZpbmNlLAogICAgICAgICAgICAgICAgICBjaXR5OiBfdGhpczMuZm9ybURhdGEucHJvdkFuZENpdHkuY2l0eQogICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF90aGlzMy5lbWl0KCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDY7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDMudDApOwogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1swLCA2XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDlkYror4nniLbnu4Tku7blrozmiJDkuoYKICAgIGVtaXQ6IGZ1bmN0aW9uIGVtaXQoKSB7CiAgICAgIC8vIHRoaXMuJGxpc3RlbmVyczog6Ieq5Yqo5Lya5pS26ZuG5omA5pyJ5Yqg5Zyo6L+Z5Liq57uE5Lu25LiK55qE5LqL5Lu255uR5ZCsCiAgICAgIHRoaXMuJGxpc3RlbmVycy5jbG9zZSAmJiB0aGlzLiRlbWl0KCdjbG9zZScpOwogICAgICB0aGlzLiRsaXN0ZW5lcnMucmVmcmVzaCAmJiB0aGlzLiRlbWl0KCdyZWZyZXNoJyk7CiAgICB9LAogICAgLy8g6KGo5Y2V5o+Q5LqkCiAgICBoQWRkb3JVcGRhdGU6IGZ1bmN0aW9uIGhBZGRvclVwZGF0ZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHRoaXMuJHJlZnMuZGF0YUZvcm0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgLy8g6LaB5pep6L+U5ZueCiAgICAgICAgaWYgKCF2YWxpZCkgewogICAgICAgICAgX3RoaXM0LiRtZXNzYWdlLmVycm9yKCcq5Y+35Li65b+F5aGr6aG5IScpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICAvLyDlpoLmnpzmnIljb21wYW55SWTor7TmmI7mmK/nvJbovpHvvIzlgZpkb1VwZGF0ZQogICAgICAgIF90aGlzNC5jb21wYW55SWQgPyBfdGhpczQuZG9VcGRhdGUoKSA6IF90aGlzNC5kb0FkZCgpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBjSXNTaG93Q2FuY2VsOiBmdW5jdGlvbiBjSXNTaG93Q2FuY2VsKCkgewogICAgICByZXR1cm4gISF0aGlzLiRsaXN0ZW5lcnMuY2xvc2U7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;AAwCA;AACA;AACA;AACA;EACAA;EACAC;IACAC;EACA;EACAC;IACA;IACAC;MACAC;MAAA;MACAC;IACA;EACA;EACAC;IACA;MACAC;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;UAAA;UACAC;UACAC;QACA;QACAC;QAAA;QACAC;MACA;;MACA;MACAC;QACAP,YACA;UAAAJ;UAAAY;UAAAC;QAAA,EACA;QACAJ;UAAAT;UAAAY;UAAAC;QAAA;MACA;IACA;EACA;EACA;EACAC;IACA;IACA;IACA;MACA;IACA;EACA;EACAC;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAlB;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAGA;gBAAA;gBAAA,OACAmB;kBAAAC;gBAAA;cAAA;gBAAA;gBAAAC;gBACA;gBACAA;kBACAZ;kBACAC;gBACA;gBACAW;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAnB,uCACA;kBACAM;kBACAC;gBAAA;gBAAA;gBAAA,OAEAa;cAAA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEAC,oCACA;kBACAhB;kBACAC;gBAAA,GACA;cAAA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAgB;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACA;IACAC;MACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA;QACA;UACA;UACA;QACA;QACA;QACA;MACA;IACA;EACA;EACAC;IACAC;MACA;IACA;EACA;AACA","names":["name","components","MyCity","props","companyId","type","required","data","formData","isFamous","shortName","company","provAndCity","province","city","tags","remarks","ruleInline","message","trigger","created","methods","loadDetail","detail","id","res","doUpdate","update","doAdd","add","console","emit","hAddorUpdate","computed","cIsShowCancel"],"sourceRoot":"src/module-hmmm/pages/companys","sources":["companys-add.vue"],"sourcesContent":["<template>\n  <div class=\"add-form\">\n    <el-form\n      :rules=\"ruleInline\"\n      ref=\"dataForm\"\n      :model=\"formData\"\n      label-position=\"left\"\n      label-width=\"150px\"\n      style=\"width: 80%; margin-left:10px;\"\n    >\n      <el-form-item label=\"企业名称\" prop=\"shortName\">\n        <el-input v-model=\"formData.shortName\"></el-input>\n        <el-checkbox v-model=\"formData.isFamous\">是否为名企</el-checkbox>\n      </el-form-item>\n      <el-form-item label=\"所属公司\" prop=\"company\">\n        <el-input v-model=\"formData.company\"></el-input>\n        <p>https://www.tianyancha.com （在此可查询所属公司全称及简称）</p>\n      </el-form-item>\n      <el-form-item label=\"城市\">\n        <MyCity v-model=\"formData.provAndCity\"/>\n      </el-form-item>\n      <el-form-item label=\"方向（企业标签）\" prop=\"tags\">\n        <el-input v-model=\"formData.tags\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"备注\" prop=\"remarks\">\n        <el-input\n          type=\"textarea\"\n          :autosize=\"{ minRows: 2, maxRows: 4}\"\n          placeholder=\"请输入\"\n          v-model=\"formData.remarks\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"hAddorUpdate\">{{$t('table.confirm')}}</el-button>\n        <el-button v-if=\"cIsShowCancel\" @click=\"$emit('close')\">{{$t('table.cancel')}}</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n<script>\n// import { update, add } from '@/api/base/users'\nimport { detail, add, update } from '@/api/hmmm/companys'\nimport MyCity from './citys'\nexport default {\n  name: 'CompanysAdd',\n  components: {\n    MyCity\n  },\n  props: {\n    // 接收从复组件中传入的公司编号\n    companyId: {\n      type: [String, Number], // 这个属性可以是字符串，也可以是Number\n      required: false // 这个属性并不是必须的\n    }\n  },\n  data () {\n    return {\n      formData: {\n        isFamous: false, // 是否是名企\n        shortName: '', // 简写\n        company: '', // 名字\n        provAndCity: { // 城市\n          province: '',\n          city: ''\n        },\n        tags: '', // 标签\n        remarks: '' // 备注\n      },\n      // 表单验证\n      ruleInline: {\n        shortName: [\n          { required: true, message: '企业简称不能为空', trigger: 'blur' }\n        ],\n        tags: [{ required: true, message: '请请输标签', trigger: 'blur' }]\n      }\n    }\n  },\n  // 创建完毕状态\n  created () {\n    // 是否传入了公司编号。\n    // 如果传入，说明是编辑，否则是添加\n    if (this.companyId) {\n      this.loadDetail()\n    }\n  },\n  methods: {\n    // 在编辑情况下，获取详情\n    async loadDetail () {\n      const { companyId } = this\n      if (!companyId) {\n        return\n      }\n      this.formData.id = companyId\n      const { data: res } = await detail({ id: companyId })\n      // 获取详情 给formData\n      res.provAndCity = {\n        province: res.province,\n        city: res.city\n      }\n      res.isFamous = !!res.isFamous\n      this.formData = res\n    },\n    // 做编辑\n    async doUpdate () {\n      const data = {\n        ...this.formData,\n        province: this.formData.provAndCity.province,\n        city: this.formData.provAndCity.city\n      }\n      await update(data)\n      this.emit()\n    },\n    // 做添加\n    async doAdd () {\n      try {\n        await add({\n          ...this.formData,\n          province: this.formData.provAndCity.province,\n          city: this.formData.provAndCity.city\n        })\n        this.emit()\n      } catch (err) {\n        console.log(err)\n      }\n    },\n    // 告诉父组件完成了\n    emit () {\n      // this.$listeners: 自动会收集所有加在这个组件上的事件监听\n      this.$listeners.close && this.$emit('close')\n      this.$listeners.refresh && this.$emit('refresh')\n    },\n    // 表单提交\n    hAddorUpdate () {\n      this.$refs.dataForm.validate(valid => {\n        // 趁早返回\n        if (!valid) {\n          this.$message.error('*号为必填项!')\n          return\n        }\n        // 如果有companyId说明是编辑，做doUpdate\n        this.companyId ? this.doUpdate() : this.doAdd()\n      })\n    }\n  },\n  computed: {\n    cIsShowCancel () {\n      return !!this.$listeners.close\n    }\n  }\n}\n</script>\n<style>\n.el-form--label-left .el-form-item__label {\n  text-align: right;\n}\n.el-form-item--medium {\n  margin-bottom: 22px;\n}\n.el-dialog__footer {\n  text-align: center;\n}\n</style>\n"]}]}