{"remainingRequest":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/babel-loader/lib/index.js!/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/utils/request.js","dependencies":[{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/utils/request.js","mtime":1668475987756},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/babel.config.js","mtime":1668225793694},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/cache-loader/dist/cjs.js","mtime":1666491533034},{"path":"/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/node_modules/babel-loader/lib/index.js","mtime":1667719626894}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3hpYW96aGFuZy9cdTVCNjZcdTRFNjAvXHU1QzMxXHU0RTFBXHU3M0VEXHU1QjY2XHU0RTYwL3Z1ZS1cdTVCOUVcdTYyMTgvaG1tbS1mcm9udGVuZC1kZXYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJzsKCi8vIGNyZWF0ZSBhbiBheGlvcyBpbnN0YW5jZQp2YXIgaW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoewogIC8vIHByb2Nlc3MuZW52Lk5PREVfRU5WCiAgLy8g5b2T5oiR5Lus6L+Q6KGMbnBtIHJ1biBzZXJ2ZeaXtu+8jHZ1ZWNsaeS8muiHquWKqOiuvue9rui/meS4qiBwcm9jZXNzLmVudi5OT0RFX0VOViDkuLpkZXZlbG9wbWVudAogIC8vIOW9k+aIkeS7rOi/kOihjG5wbSBydW4gYnVpbGTml7bvvIx2dWVjbGnkvJroh6rliqjorr7nva7ov5nkuKogcHJvY2Vzcy5lbnYuTk9ERV9FTlYg5Li6cHJvZHVjdGlvbgogIC8vIGJhc2VVUkw6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gJ2h0dHA6Ly9sb2NhbGhvc3Q6NzAwMS8nIDogJ2h0dHA6Ly9obW1tLWFwaS5pdGhlaW1hLm5ldCcsCiAgYmFzZVVSTDogJ2h0dHA6Ly9obW1tLWFwaS5pdGhlaW1hLm5ldCcsCiAgLy8g57q/5LiK5Zyw5Z2ACiAgLy8gYmFzZVVSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6NzAwMScsIC8vIOacrOWcsOWcsOWdgO+8jDcwMDHmmK/pu5jorqTnq6/lj6Plj7cKICAvLyBiYXNlVVJMOiAnaGh0dHA6Ly9zaGhtMDUua3lsZXhrLmNvbScsCiAgdGltZW91dDogNTAwMCAvLyByZXF1ZXN0IHRpbWVvdXQKfSk7CgovLyByZXF1ZXN0IGludGVyY2VwdG9yCmluc3RhbmNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy8gRG8gc29tZXRoaW5nIGJlZm9yZSByZXF1ZXN0IGlzIHNlbnQKICBpZiAoc3RvcmUuZ2V0dGVycy50b2tlbikgewogICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICJCZWFyZXIgIi5jb25jYXQoZ2V0VG9rZW4oKSk7IC8vIOiuqeavj+S4quivt+axguaQuuW4pnRva2VuLS0gWydYLVRva2VuJ13kuLroh6rlrprkuYlrZXkg6K+35qC55o2u5a6e6ZmF5oOF5Ya16Ieq6KGM5L+u5pS5CiAgfQoKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAvLyBEbyBzb21ldGhpbmcgd2l0aCByZXF1ZXN0IGVycm9yCiAgY29uc29sZS5sb2coZXJyb3IpOyAvLyBmb3IgZGVidWcKICBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwoKLy8gcmVzcG9uZSBpbnRlcmNlcHRvcgppbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIHJldHVybiByZXNwb25zZTsKfSwKLyoqCiAqIOS4i+mdoueahOazqOmHiuS4uumAmui/h3Jlc3BvbnNl6Ieq5a6a5LmJY29kZeadpeagh+ekuuivt+axgueKtuaAge+8jOW9k2NvZGXov5Tlm57lpoLkuIvmg4XlhrXkuLrmnYPpmZDmnInpl67popjvvIznmbvlh7rlubbov5Tlm57liLDnmbvlvZXpobUKICog5aaC6YCa6L+HeG1saHR0cHJlcXVlc3Qg54q25oCB56CB5qCH6K+GIOmAu+i+keWPr+WGmeWcqOS4i+mdomVycm9y5LitCiAqLwovLyAgY29uc3QgcmVzID0gcmVzcG9uc2UuZGF0YTsKLy8gICAgIGlmIChyZXMuY29kZSAhPT0gMjAwMDApIHsKLy8gICAgICAgTWVzc2FnZSh7Ci8vICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UsCi8vICAgICAgICAgdHlwZTogJ2Vycm9yJywKLy8gICAgICAgICBkdXJhdGlvbjogNSAqIDEwMDAKLy8gICAgICAgfSk7Ci8vICAgICAgIC8vIDUwMDA4OumdnuazleeahHRva2VuOyA1MDAxMjrlhbbku5blrqLmiLfnq6/nmbvlvZXkuoY7ICA1MDAxNDpUb2tlbiDov4fmnJ/kuoY7Ci8vICAgICAgIGlmIChyZXMuY29kZSA9PT0gNTAwMDggfHwgcmVzLmNvZGUgPT09IDUwMDEyIHx8IHJlcy5jb2RlID09PSA1MDAxNCkgewovLyAgICAgICAgIE1lc3NhZ2VCb3guY29uZmlybSgn5L2g5bey6KKr55m75Ye677yM5Y+v5Lul5Y+W5raI57un57ut55WZ5Zyo6K+l6aG16Z2i77yM5oiW6ICF6YeN5paw55m75b2VJywgJ+ehruWumueZu+WHuicsIHsKLy8gICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn6YeN5paw55m75b2VJywKLy8gICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAovLyAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCi8vICAgICAgICAgfSkudGhlbigoKSA9PiB7Ci8vICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnRmVkTG9nT3V0JykudGhlbigoKSA9PiB7Ci8vICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOy8vIOS4uuS6humHjeaWsOWunuS+i+WMlnZ1ZS1yb3V0ZXLlr7nosaEg6YG/5YWNYnVnCi8vICAgICAgICAgICB9KTsKLy8gICAgICAgICB9KQovLyAgICAgICB9Ci8vICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnZXJyb3InKTsKLy8gICAgIH0gZWxzZSB7Ci8vICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwovLyAgICAgfQpmdW5jdGlvbiAoZXJyb3IpIHsKICBjb25zb2xlLmxvZygnZXJyJyArIGVycm9yKTsgLy8gZm9yIGRlYnVnCiAgTWVzc2FnZSh7CiAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLAogICAgdHlwZTogJ2Vycm9yJywKICAgIGR1cmF0aW9uOiA1ICogMTAwMAogIH0pOwogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwpleHBvcnQgdmFyIGNyZWF0ZUFQSSA9IGZ1bmN0aW9uIGNyZWF0ZUFQSSh1cmwsIG1ldGhvZCwgZGF0YSkgewogIHZhciBjb25maWcgPSB7fTsKICBpZiAobWV0aG9kID09PSAnZ2V0JykgewogICAgY29uZmlnLnBhcmFtcyA9IGRhdGE7CiAgfSBlbHNlIHsKICAgIGNvbmZpZy5kYXRhID0gZGF0YTsKICB9CiAgcmV0dXJuIGluc3RhbmNlKF9vYmplY3RTcHJlYWQoewogICAgdXJsOiB1cmwsCiAgICBtZXRob2Q6IG1ldGhvZAogIH0sIGNvbmZpZykpOwp9OwpleHBvcnQgdmFyIGNyZWF0ZUZvcm1BUEkgPSBmdW5jdGlvbiBjcmVhdGVGb3JtQVBJKHVybCwgbWV0aG9kLCBkYXRhKSB7CiAgdmFyIGNvbmZpZyA9IHt9OwogIGNvbmZpZy5kYXRhID0gZGF0YTsKICBjb25maWcuaGVhZGVycyA9IHsKICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJywKICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJwogIH07CiAgY29uZmlnLnJlc3BvbnNlVHlwZSA9ICdqc29uJzsKICBjb25maWcudHJhbnNmb3JtUmVxdWVzdCA9IFtmdW5jdGlvbiAoZGF0YSkgewogICAgdmFyIHJldCA9ICcnOwogICAgZm9yICh2YXIgaXQgaW4gZGF0YSkgewogICAgICByZXQgKz0gZW5jb2RlVVJJQ29tcG9uZW50KGl0KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChkYXRhW2l0XSkgKyAnJic7CiAgICB9CiAgICByZXR1cm4gcmV0OwogIH1dOwogIHJldHVybiBpbnN0YW5jZShfb2JqZWN0U3ByZWFkKHsKICAgIHVybDogdXJsLAogICAgbWV0aG9kOiBtZXRob2QKICB9LCBjb25maWcpKTsKfTs="},{"version":3,"names":["axios","Message","store","getToken","instance","create","baseURL","timeout","interceptors","request","use","config","getters","token","headers","Authorization","error","console","log","Promise","reject","response","message","type","duration","createAPI","url","method","data","params","createFormAPI","responseType","transformRequest","ret","it","encodeURIComponent"],"sources":["/Users/xiaozhang/学习/就业班学习/vue-实战/hmmm-frontend-dev/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\nimport { Message } from 'element-ui'\nimport store from '@/store'\nimport { getToken } from '@/utils/auth'\n\n// create an axios instance\nconst instance = axios.create({\n  // process.env.NODE_ENV\n  // 当我们运行npm run serve时，vuecli会自动设置这个 process.env.NODE_ENV 为development\n  // 当我们运行npm run build时，vuecli会自动设置这个 process.env.NODE_ENV 为production\n  // baseURL: process.env.NODE_ENV === 'development' ? 'http://localhost:7001/' : 'http://hmmm-api.itheima.net',\n  baseURL: 'http://hmmm-api.itheima.net', // 线上地址\n  // baseURL: 'http://localhost:7001', // 本地地址，7001是默认端口号\n  // baseURL: 'hhttp://shhm05.kylexk.com',\n  timeout: 5000 // request timeout\n})\n\n// request interceptor\ninstance.interceptors.request.use(\n  config => {\n    // Do something before request is sent\n    if (store.getters.token) {\n      config.headers.Authorization = `Bearer ${getToken()}` // 让每个请求携带token-- ['X-Token']为自定义key 请根据实际情况自行修改\n    }\n    return config\n  },\n  error => {\n    // Do something with request error\n    console.log(error) // for debug\n    Promise.reject(error)\n  }\n)\n\n// respone interceptor\ninstance.interceptors.response.use(\n  response => response,\n  /**\n   * 下面的注释为通过response自定义code来标示请求状态，当code返回如下情况为权限有问题，登出并返回到登录页\n   * 如通过xmlhttprequest 状态码标识 逻辑可写在下面error中\n   */\n  //  const res = response.data;\n  //     if (res.code !== 20000) {\n  //       Message({\n  //         message: res.message,\n  //         type: 'error',\n  //         duration: 5 * 1000\n  //       });\n  //       // 50008:非法的token; 50012:其他客户端登录了;  50014:Token 过期了;\n  //       if (res.code === 50008 || res.code === 50012 || res.code === 50014) {\n  //         MessageBox.confirm('你已被登出，可以取消继续留在该页面，或者重新登录', '确定登出', {\n  //           confirmButtonText: '重新登录',\n  //           cancelButtonText: '取消',\n  //           type: 'warning'\n  //         }).then(() => {\n  //           store.dispatch('FedLogOut').then(() => {\n  //             location.reload();// 为了重新实例化vue-router对象 避免bug\n  //           });\n  //         })\n  //       }\n  //       return Promise.reject('error');\n  //     } else {\n  //       return response.data;\n  //     }\n  error => {\n    console.log('err' + error) // for debug\n    Message({\n      message: error.message,\n      type: 'error',\n      duration: 5 * 1000\n    })\n    return Promise.reject(error)\n  }\n)\n\nexport const createAPI = (url, method, data) => {\n  const config = {}\n  if (method === 'get') {\n    config.params = data\n  } else {\n    config.data = data\n  }\n  return instance({\n    url,\n    method,\n    ...config\n  })\n}\n\nexport const createFormAPI = (url, method, data) => {\n  const config = {}\n  config.data = data\n  config.headers = {\n    'Cache-Control': 'no-cache',\n    'Content-Type': 'application/x-www-form-urlencoded'\n  }\n  config.responseType = 'json'\n  config.transformRequest = [\n    function (data) {\n      let ret = ''\n      for (const it in data) {\n        ret += encodeURIComponent(it) + '=' + encodeURIComponent(data[it]) + '&'\n      }\n      return ret\n    }\n  ]\n  return instance({\n    url,\n    method,\n    ...config\n  })\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,YAAY;AACpC,OAAOC,KAAK,MAAM,SAAS;AAC3B,SAASC,QAAQ,QAAQ,cAAc;;AAEvC;AACA,IAAMC,QAAQ,GAAGJ,KAAK,CAACK,MAAM,CAAC;EAC5B;EACA;EACA;EACA;EACAC,OAAO,EAAE,6BAA6B;EAAE;EACxC;EACA;EACAC,OAAO,EAAE,IAAI,CAAC;AAChB,CAAC,CAAC;;AAEF;AACAH,QAAQ,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAC/B,UAAAC,MAAM,EAAI;EACR;EACA,IAAIT,KAAK,CAACU,OAAO,CAACC,KAAK,EAAE;IACvBF,MAAM,CAACG,OAAO,CAACC,aAAa,oBAAaZ,QAAQ,EAAE,CAAE,EAAC;EACxD;;EACA,OAAOQ,MAAM;AACf,CAAC,EACD,UAAAK,KAAK,EAAI;EACP;EACAC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,EAAC;EACnBG,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AACvB,CAAC,CACF;;AAED;AACAZ,QAAQ,CAACI,YAAY,CAACa,QAAQ,CAACX,GAAG,CAChC,UAAAW,QAAQ;EAAA,OAAIA,QAAQ;AAAA;AACpB;AACF;AACA;AACA;AACE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAAL,KAAK,EAAI;EACPC,OAAO,CAACC,GAAG,CAAC,KAAK,GAAGF,KAAK,CAAC,EAAC;EAC3Bf,OAAO,CAAC;IACNqB,OAAO,EAAEN,KAAK,CAACM,OAAO;IACtBC,IAAI,EAAE,OAAO;IACbC,QAAQ,EAAE,CAAC,GAAG;EAChB,CAAC,CAAC;EACF,OAAOL,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAC9B,CAAC,CACF;AAED,OAAO,IAAMS,SAAS,GAAG,SAAZA,SAAS,CAAIC,GAAG,EAAEC,MAAM,EAAEC,IAAI,EAAK;EAC9C,IAAMjB,MAAM,GAAG,CAAC,CAAC;EACjB,IAAIgB,MAAM,KAAK,KAAK,EAAE;IACpBhB,MAAM,CAACkB,MAAM,GAAGD,IAAI;EACtB,CAAC,MAAM;IACLjB,MAAM,CAACiB,IAAI,GAAGA,IAAI;EACpB;EACA,OAAOxB,QAAQ;IACbsB,GAAG,EAAHA,GAAG;IACHC,MAAM,EAANA;EAAM,GACHhB,MAAM,EACT;AACJ,CAAC;AAED,OAAO,IAAMmB,aAAa,GAAG,SAAhBA,aAAa,CAAIJ,GAAG,EAAEC,MAAM,EAAEC,IAAI,EAAK;EAClD,IAAMjB,MAAM,GAAG,CAAC,CAAC;EACjBA,MAAM,CAACiB,IAAI,GAAGA,IAAI;EAClBjB,MAAM,CAACG,OAAO,GAAG;IACf,eAAe,EAAE,UAAU;IAC3B,cAAc,EAAE;EAClB,CAAC;EACDH,MAAM,CAACoB,YAAY,GAAG,MAAM;EAC5BpB,MAAM,CAACqB,gBAAgB,GAAG,CACxB,UAAUJ,IAAI,EAAE;IACd,IAAIK,GAAG,GAAG,EAAE;IACZ,KAAK,IAAMC,EAAE,IAAIN,IAAI,EAAE;MACrBK,GAAG,IAAIE,kBAAkB,CAACD,EAAE,CAAC,GAAG,GAAG,GAAGC,kBAAkB,CAACP,IAAI,CAACM,EAAE,CAAC,CAAC,GAAG,GAAG;IAC1E;IACA,OAAOD,GAAG;EACZ,CAAC,CACF;EACD,OAAO7B,QAAQ;IACbsB,GAAG,EAAHA,GAAG;IACHC,MAAM,EAANA;EAAM,GACHhB,MAAM,EACT;AACJ,CAAC"}]}